(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))re(R);new MutationObserver(R=>{for(const fe of R)if(fe.type==="childList")for(const z of fe.addedNodes)z.tagName==="LINK"&&z.rel==="modulepreload"&&re(z)}).observe(document,{childList:!0,subtree:!0});function Q(R){const fe={};return R.integrity&&(fe.integrity=R.integrity),R.referrerPolicy&&(fe.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?fe.credentials="include":R.crossOrigin==="anonymous"?fe.credentials="omit":fe.credentials="same-origin",fe}function re(R){if(R.ep)return;R.ep=!0;const fe=Q(R);fetch(R.href,fe)}})();var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={},Si={get exports(){return hr},set exports(l){hr=l}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(l,A){(function(Q,re){l.exports=re()})(self,()=>(()=>{var Q={227:(z,f,S)=>{var P=S(155);f.formatArgs=function(F){if(F[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+F[0]+(this.useColors?"%c ":" ")+"+"+z.exports.humanize(this.diff),!this.useColors)return;const X="color: "+this.color;F.splice(1,0,X,"color: inherit");let b=0,h=0;F[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(b++,v==="%c"&&(h=b))}),F.splice(h,0,X)},f.save=function(F){try{F?f.storage.setItem("debug",F):f.storage.removeItem("debug")}catch{}},f.load=function(){let F;try{F=f.storage.getItem("debug")}catch{}return!F&&P!==void 0&&"env"in P&&(F=P.env.DEBUG),F},f.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},f.storage=function(){try{return localStorage}catch{}}(),f.destroy=(()=>{let F=!1;return()=>{F||(F=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],f.log=console.debug||console.log||(()=>{}),z.exports=S(447)(f);const{formatters:k}=z.exports;k.j=function(F){try{return JSON.stringify(F)}catch(X){return"[UnexpectedJSONParseError]: "+X.message}}},447:(z,f,S)=>{z.exports=function(P){function k(b){let h,v,w,B=null;function M(...H){if(!M.enabled)return;const G=M,O=Number(new Date),N=O-(h||O);G.diff=N,G.prev=h,G.curr=O,h=O,H[0]=k.coerce(H[0]),typeof H[0]!="string"&&H.unshift("%O");let a=0;H[0]=H[0].replace(/%([a-zA-Z%])/g,(c,m)=>{if(c==="%%")return"%";a++;const j=k.formatters[m];if(typeof j=="function"){const J=H[a];c=j.call(G,J),H.splice(a,1),a--}return c}),k.formatArgs.call(G,H),(G.log||k.log).apply(G,H)}return M.namespace=b,M.useColors=k.useColors(),M.color=k.selectColor(b),M.extend=F,M.destroy=k.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>B!==null?B:(v!==k.namespaces&&(v=k.namespaces,w=k.enabled(b)),w),set:H=>{B=H}}),typeof k.init=="function"&&k.init(M),M}function F(b,h){const v=k(this.namespace+(h===void 0?":":h)+b);return v.log=this.log,v}function X(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}return k.debug=k,k.default=k,k.coerce=function(b){return b instanceof Error?b.stack||b.message:b},k.disable=function(){const b=[...k.names.map(X),...k.skips.map(X).map(h=>"-"+h)].join(",");return k.enable(""),b},k.enable=function(b){let h;k.save(b),k.namespaces=b,k.names=[],k.skips=[];const v=(typeof b=="string"?b:"").split(/[\s,]+/),w=v.length;for(h=0;h<w;h++)v[h]&&((b=v[h].replace(/\*/g,".*?"))[0]==="-"?k.skips.push(new RegExp("^"+b.slice(1)+"$")):k.names.push(new RegExp("^"+b+"$")))},k.enabled=function(b){if(b[b.length-1]==="*")return!0;let h,v;for(h=0,v=k.skips.length;h<v;h++)if(k.skips[h].test(b))return!1;for(h=0,v=k.names.length;h<v;h++)if(k.names[h].test(b))return!0;return!1},k.humanize=S(824),k.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(P).forEach(b=>{k[b]=P[b]}),k.names=[],k.skips=[],k.formatters={},k.selectColor=function(b){let h=0;for(let v=0;v<b.length;v++)h=(h<<5)-h+b.charCodeAt(v),h|=0;return k.colors[Math.abs(h)%k.colors.length]},k.enable(k.load()),k}},856:function(z){z.exports=function(){function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(x)}function S(x,E){return S=Object.setPrototypeOf||function(q,K){return q.__proto__=K,q},S(x,E)}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(x,E,q){return k=P()?Reflect.construct:function(K,le,De){var et=[null];et.push.apply(et,le);var $e=new(Function.bind.apply(K,et));return De&&S($e,De.prototype),$e},k.apply(null,arguments)}function F(x){return X(x)||b(x)||h(x)||w()}function X(x){if(Array.isArray(x))return v(x)}function b(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function h(x,E){if(x){if(typeof x=="string")return v(x,E);var q=Object.prototype.toString.call(x).slice(8,-1);return q==="Object"&&x.constructor&&(q=x.constructor.name),q==="Map"||q==="Set"?Array.from(x):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?v(x,E):void 0}}function v(x,E){(E==null||E>x.length)&&(E=x.length);for(var q=0,K=new Array(E);q<E;q++)K[q]=x[q];return K}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=Object.hasOwnProperty,M=Object.setPrototypeOf,H=Object.isFrozen,G=Object.getPrototypeOf,O=Object.getOwnPropertyDescriptor,N=Object.freeze,a=Object.seal,c=Object.create,m=typeof Reflect<"u"&&Reflect,j=m.apply,J=m.construct;j||(j=function(x,E,q){return x.apply(E,q)}),N||(N=function(x){return x}),a||(a=function(x){return x}),J||(J=function(x,E){return k(x,F(E))});var ee=ne(Array.prototype.forEach),se=ne(Array.prototype.pop),ve=ne(Array.prototype.push),je=ne(String.prototype.toLowerCase),Se=ne(String.prototype.match),he=ne(String.prototype.replace),Ne=ne(String.prototype.indexOf),p=ne(String.prototype.trim),y=ne(RegExp.prototype.test),D=Ee(TypeError);function ne(x){return function(E){for(var q=arguments.length,K=new Array(q>1?q-1:0),le=1;le<q;le++)K[le-1]=arguments[le];return j(x,E,K)}}function Ee(x){return function(){for(var E=arguments.length,q=new Array(E),K=0;K<E;K++)q[K]=arguments[K];return J(x,q)}}function $(x,E){M&&M(x,null);for(var q=E.length;q--;){var K=E[q];if(typeof K=="string"){var le=je(K);le!==K&&(H(E)||(E[q]=le),K=le)}x[K]=!0}return x}function V(x){var E,q=c(null);for(E in x)j(B,x,[E])&&(q[E]=x[E]);return q}function ue(x,E){for(;x!==null;){var q=O(x,E);if(q){if(q.get)return ne(q.get);if(typeof q.value=="function")return ne(q.value)}x=G(x)}function K(le){return console.warn("fallback value for",le),null}return K}var Pe=N(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oe=N(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ge=N(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),at=N(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ge=N(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),de=N(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Te=N(["#text"]),Ie=N(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Me=N(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Re=N(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Be=N(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$t=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),At=a(/<%[\w\W]*|[\w\W]*%>/gm),zn=a(/^data-[\-\w.\u00B7-\uFFFF]/),Un=a(/^aria-[\-\w]+$/),qn=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Wn=a(/^(?:\w+script|data):/i),st=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hn=a(/^html$/i),Gn=function(){return typeof window>"u"?null:window},Qn=function(x,E){if(f(x)!=="object"||typeof x.createPolicy!="function")return null;var q=null,K="data-tt-policy-suffix";E.currentScript&&E.currentScript.hasAttribute(K)&&(q=E.currentScript.getAttribute(K));var le="dompurify"+(q?"#"+q:"");try{return x.createPolicy(le,{createHTML:function(De){return De}})}catch{return console.warn("TrustedTypes policy "+le+" could not be created."),null}};function mt(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gn(),E=function(o){return mt(o)};if(E.version="2.3.8",E.removed=[],!x||!x.document||x.document.nodeType!==9)return E.isSupported=!1,E;var q=x.document,K=x.document,le=x.DocumentFragment,De=x.HTMLTemplateElement,et=x.Node,$e=x.Element,tt=x.NodeFilter,yt=x.NamedNodeMap,Et=yt===void 0?x.NamedNodeMap||x.MozNamedAttrMap:yt,Bt=x.HTMLFormElement,gn=x.DOMParser,mn=x.trustedTypes,bt=$e.prototype,yn=ue(bt,"cloneNode"),bn=ue(bt,"nextSibling"),Jn=ue(bt,"childNodes"),lt=ue(bt,"parentNode");if(typeof De=="function"){var Ht=K.createElement("template");Ht.content&&Ht.content.ownerDocument&&(K=Ht.content.ownerDocument)}var Qe=Qn(mn,q),vn=Qe?Qe.createHTML(""):"",vt=K,zt=vt.implementation,wn=vt.createNodeIterator,_n=vt.createDocumentFragment,Vn=vt.getElementsByTagName,Ut=q.importNode,xn={};try{xn=V(K).documentMode?K.documentMode:{}}catch{}var xe={};E.isSupported=typeof lt=="function"&&zt&&zt.createHTMLDocument!==void 0&&xn!==9;var ct,Je,qt=$t,Wt=At,Ot=zn,Fe=Un,Gt=Wn,wt=st,Qt=qn,we=null,Jt=$({},[].concat(F(Pe),F(Oe),F(Ge),F(ge),F(Te))),_e=null,Vt=$({},[].concat(F(Ie),F(Me),F(Re),F(Be))),ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_t=null,Zt=null,Kt=!0,Yt=!0,Cn=!1,ut=!1,te=!1,Xt=!1,en=!1,nt=!1,Ve=!1,dt=!1,tn=!0,Tt=!0,rt=!1,Ze={},pt=null,kn=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),jn=null,Sn=$({},["audio","video","img","source","image","track"]),nn=null,It=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rn="http://www.w3.org/1998/Math/MathML",Pt="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml",Lt=Ke,An=!1,En=["application/xhtml+xml","text/html"],Zn="text/html",ft=null,Kn=K.createElement("form"),Mt=function(o){return o instanceof RegExp||o instanceof Function},on=function(o){ft&&ft===o||(o&&f(o)==="object"||(o={}),o=V(o),we="ALLOWED_TAGS"in o?$({},o.ALLOWED_TAGS):Jt,_e="ALLOWED_ATTR"in o?$({},o.ALLOWED_ATTR):Vt,nn="ADD_URI_SAFE_ATTR"in o?$(V(It),o.ADD_URI_SAFE_ATTR):It,jn="ADD_DATA_URI_TAGS"in o?$(V(Sn),o.ADD_DATA_URI_TAGS):Sn,pt="FORBID_CONTENTS"in o?$({},o.FORBID_CONTENTS):kn,_t="FORBID_TAGS"in o?$({},o.FORBID_TAGS):{},Zt="FORBID_ATTR"in o?$({},o.FORBID_ATTR):{},Ze="USE_PROFILES"in o&&o.USE_PROFILES,Kt=o.ALLOW_ARIA_ATTR!==!1,Yt=o.ALLOW_DATA_ATTR!==!1,Cn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,ut=o.SAFE_FOR_TEMPLATES||!1,te=o.WHOLE_DOCUMENT||!1,nt=o.RETURN_DOM||!1,Ve=o.RETURN_DOM_FRAGMENT||!1,dt=o.RETURN_TRUSTED_TYPE||!1,en=o.FORCE_BODY||!1,tn=o.SANITIZE_DOM!==!1,Tt=o.KEEP_CONTENT!==!1,rt=o.IN_PLACE||!1,Qt=o.ALLOWED_URI_REGEXP||Qt,Lt=o.NAMESPACE||Ke,o.CUSTOM_ELEMENT_HANDLING&&Mt(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Mt(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ct=ct=En.indexOf(o.PARSER_MEDIA_TYPE)===-1?Zn:o.PARSER_MEDIA_TYPE,Je=ct==="application/xhtml+xml"?function(C){return C}:je,ut&&(Yt=!1),Ve&&(nt=!0),Ze&&(we=$({},F(Te)),_e=[],Ze.html===!0&&($(we,Pe),$(_e,Ie)),Ze.svg===!0&&($(we,Oe),$(_e,Me),$(_e,Be)),Ze.svgFilters===!0&&($(we,Ge),$(_e,Me),$(_e,Be)),Ze.mathMl===!0&&($(we,ge),$(_e,Re),$(_e,Be))),o.ADD_TAGS&&(we===Jt&&(we=V(we)),$(we,o.ADD_TAGS)),o.ADD_ATTR&&(_e===Vt&&(_e=V(_e)),$(_e,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&$(nn,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(pt===kn&&(pt=V(pt)),$(pt,o.FORBID_CONTENTS)),Tt&&(we["#text"]=!0),te&&$(we,["html","head","body"]),we.table&&($(we,["tbody"]),delete _t.tbody),N&&N(o),ft=o)},an=$({},["mi","mo","mn","ms","mtext"]),On=$({},["foreignobject","desc","title","annotation-xml"]),Yn=$({},["title","style","font","a","script"]),Ft=$({},Oe);$(Ft,Ge),$(Ft,at);var sn=$({},ge);$(sn,de);var Xn=function(o){var C=lt(o);C&&C.tagName||(C={namespaceURI:Ke,tagName:"template"});var _=je(o.tagName),oe=je(C.tagName);return o.namespaceURI===Pt?C.namespaceURI===Ke?_==="svg":C.namespaceURI===rn?_==="svg"&&(oe==="annotation-xml"||an[oe]):Boolean(Ft[_]):o.namespaceURI===rn?C.namespaceURI===Ke?_==="math":C.namespaceURI===Pt?_==="math"&&On[oe]:Boolean(sn[_]):o.namespaceURI===Ke&&!(C.namespaceURI===Pt&&!On[oe])&&!(C.namespaceURI===rn&&!an[oe])&&!sn[_]&&(Yn[_]||!Ft[_])},He=function(o){ve(E.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=vn}catch{o.remove()}}},Tn=function(o,C){try{ve(E.removed,{attribute:C.getAttributeNode(o),from:C})}catch{ve(E.removed,{attribute:null,from:C})}if(C.removeAttribute(o),o==="is"&&!_e[o])if(nt||Ve)try{He(C)}catch{}else try{C.setAttribute(o,"")}catch{}},In=function(o){var C,_;if(en)o="<remove></remove>"+o;else{var oe=Se(o,/^[\r\n\t ]+/);_=oe&&oe[0]}ct==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var pe=Qe?Qe.createHTML(o):o;if(Lt===Ke)try{C=new gn().parseFromString(pe,ct)}catch{}if(!C||!C.documentElement){C=zt.createDocument(Lt,"template",null);try{C.documentElement.innerHTML=An?"":pe}catch{}}var Ce=C.body||C.documentElement;return o&&_&&Ce.insertBefore(K.createTextNode(_),Ce.childNodes[0]||null),Lt===Ke?Vn.call(C,te?"html":"body")[0]:te?C.documentElement:Ce},xt=function(o){return wn.call(o.ownerDocument||o,o,tt.SHOW_ELEMENT|tt.SHOW_COMMENT|tt.SHOW_TEXT,null,!1)},er=function(o){return o instanceof Bt&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Et)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},Ct=function(o){return f(et)==="object"?o instanceof et:o&&f(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},ze=function(o,C,_){xe[o]&&ee(xe[o],function(oe){oe.call(E,C,_,ft)})},ln=function(o){var C;if(ze("beforeSanitizeElements",o,null),er(o)||y(/[\u0080-\uFFFF]/,o.nodeName))return He(o),!0;var _=Je(o.nodeName);if(ze("uponSanitizeElement",o,{tagName:_,allowedTags:we}),o.hasChildNodes()&&!Ct(o.firstElementChild)&&(!Ct(o.content)||!Ct(o.content.firstElementChild))&&y(/<[/\w]/g,o.innerHTML)&&y(/<[/\w]/g,o.textContent)||_==="select"&&y(/<template/i,o.innerHTML))return He(o),!0;if(!we[_]||_t[_]){if(!_t[_]&&cn(_)&&(ce.tagNameCheck instanceof RegExp&&y(ce.tagNameCheck,_)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(_)))return!1;if(Tt&&!pt[_]){var oe=lt(o)||o.parentNode,pe=Jn(o)||o.childNodes;if(pe&&oe)for(var Ce=pe.length-1;Ce>=0;--Ce)oe.insertBefore(yn(pe[Ce],!0),bn(o))}return He(o),!0}return o instanceof $e&&!Xn(o)?(He(o),!0):_!=="noscript"&&_!=="noembed"||!y(/<\/no(script|embed)/i,o.innerHTML)?(ut&&o.nodeType===3&&(C=o.textContent,C=he(C,qt," "),C=he(C,Wt," "),o.textContent!==C&&(ve(E.removed,{element:o.cloneNode()}),o.textContent=C)),ze("afterSanitizeElements",o,null),!1):(He(o),!0)},Pn=function(o,C,_){if(tn&&(C==="id"||C==="name")&&(_ in K||_ in Kn))return!1;if(!(Yt&&!Zt[C]&&y(Ot,C))){if(!(Kt&&y(Fe,C))){if(!_e[C]||Zt[C]){if(!(cn(o)&&(ce.tagNameCheck instanceof RegExp&&y(ce.tagNameCheck,o)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(o))&&(ce.attributeNameCheck instanceof RegExp&&y(ce.attributeNameCheck,C)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(C))||C==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&y(ce.tagNameCheck,_)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(_))))return!1}else if(!nn[C]){if(!y(Qt,he(_,wt,""))){if((C!=="src"&&C!=="xlink:href"&&C!=="href"||o==="script"||Ne(_,"data:")!==0||!jn[o])&&!(Cn&&!y(Gt,he(_,wt,"")))){if(_)return!1}}}}}return!0},cn=function(o){return o.indexOf("-")>0},kt=function(o){var C,_,oe,pe;ze("beforeSanitizeAttributes",o,null);var Ce=o.attributes;if(Ce){var ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(pe=Ce.length;pe--;){var jt=C=Ce[pe],Ue=jt.name,Y=jt.namespaceURI;if(_=Ue==="value"?C.value:p(C.value),oe=Je(Ue),ke.attrName=oe,ke.attrValue=_,ke.keepAttr=!0,ke.forceKeepAttr=void 0,ze("uponSanitizeAttribute",o,ke),_=ke.attrValue,!ke.forceKeepAttr&&(Tn(Ue,o),ke.keepAttr))if(y(/\/>/i,_))Tn(Ue,o);else{ut&&(_=he(_,qt," "),_=he(_,Wt," "));var ot=Je(o.nodeName);if(Pn(ot,oe,_))try{Y?o.setAttributeNS(Y,Ue,_):o.setAttribute(Ue,_),se(E.removed)}catch{}}}ze("afterSanitizeAttributes",o,null)}},un=function o(C){var _,oe=xt(C);for(ze("beforeSanitizeShadowDOM",C,null);_=oe.nextNode();)ze("uponSanitizeShadowNode",_,null),ln(_)||(_.content instanceof le&&o(_.content),kt(_));ze("afterSanitizeShadowDOM",C,null)};return E.sanitize=function(o,C){var _,oe,pe,Ce,ke;if((An=!o)&&(o="<!-->"),typeof o!="string"&&!Ct(o)){if(typeof o.toString!="function")throw D("toString is not a function");if(typeof(o=o.toString())!="string")throw D("dirty is not a string, aborting")}if(!E.isSupported){if(f(x.toStaticHTML)==="object"||typeof x.toStaticHTML=="function"){if(typeof o=="string")return x.toStaticHTML(o);if(Ct(o))return x.toStaticHTML(o.outerHTML)}return o}if(Xt||on(C),E.removed=[],typeof o=="string"&&(rt=!1),rt){if(o.nodeName){var jt=Je(o.nodeName);if(!we[jt]||_t[jt])throw D("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof et)(oe=(_=In("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&oe.nodeName==="BODY"||oe.nodeName==="HTML"?_=oe:_.appendChild(oe);else{if(!nt&&!ut&&!te&&o.indexOf("<")===-1)return Qe&&dt?Qe.createHTML(o):o;if(!(_=In(o)))return nt?null:dt?vn:""}_&&en&&He(_.firstChild);for(var Ue=xt(rt?o:_);pe=Ue.nextNode();)pe.nodeType===3&&pe===Ce||ln(pe)||(pe.content instanceof le&&un(pe.content),kt(pe),Ce=pe);if(Ce=null,rt)return o;if(nt){if(Ve)for(ke=_n.call(_.ownerDocument);_.firstChild;)ke.appendChild(_.firstChild);else ke=_;return _e.shadowroot&&(ke=Ut.call(q,ke,!0)),ke}var Y=te?_.outerHTML:_.innerHTML;return te&&we["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&y(hn,_.ownerDocument.doctype.name)&&(Y="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+Y),ut&&(Y=he(Y,qt," "),Y=he(Y,Wt," ")),Qe&&dt?Qe.createHTML(Y):Y},E.setConfig=function(o){on(o),Xt=!0},E.clearConfig=function(){ft=null,Xt=!1},E.isValidAttribute=function(o,C,_){ft||on({});var oe=Je(o),pe=Je(C);return Pn(oe,pe,_)},E.addHook=function(o,C){typeof C=="function"&&(xe[o]=xe[o]||[],ve(xe[o],C))},E.removeHook=function(o){if(xe[o])return se(xe[o])},E.removeHooks=function(o){xe[o]&&(xe[o]=[])},E.removeAllHooks=function(){xe={}},E}return mt()}()},729:z=>{var f=Object.prototype.hasOwnProperty,S="~";function P(){}function k(h,v,w){this.fn=h,this.context=v,this.once=w||!1}function F(h,v,w,B,M){if(typeof w!="function")throw new TypeError("The listener must be a function");var H=new k(w,B||h,M),G=S?S+v:v;return h._events[G]?h._events[G].fn?h._events[G]=[h._events[G],H]:h._events[G].push(H):(h._events[G]=H,h._eventsCount++),h}function X(h,v){--h._eventsCount==0?h._events=new P:delete h._events[v]}function b(){this._events=new P,this._eventsCount=0}Object.create&&(P.prototype=Object.create(null),new P().__proto__||(S=!1)),b.prototype.eventNames=function(){var h,v,w=[];if(this._eventsCount===0)return w;for(v in h=this._events)f.call(h,v)&&w.push(S?v.slice(1):v);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(h)):w},b.prototype.listeners=function(h){var v=S?S+h:h,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var B=0,M=w.length,H=new Array(M);B<M;B++)H[B]=w[B].fn;return H},b.prototype.listenerCount=function(h){var v=S?S+h:h,w=this._events[v];return w?w.fn?1:w.length:0},b.prototype.emit=function(h,v,w,B,M,H){var G=S?S+h:h;if(!this._events[G])return!1;var O,N,a=this._events[G],c=arguments.length;if(a.fn){switch(a.once&&this.removeListener(h,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,v),!0;case 3:return a.fn.call(a.context,v,w),!0;case 4:return a.fn.call(a.context,v,w,B),!0;case 5:return a.fn.call(a.context,v,w,B,M),!0;case 6:return a.fn.call(a.context,v,w,B,M,H),!0}for(N=1,O=new Array(c-1);N<c;N++)O[N-1]=arguments[N];a.fn.apply(a.context,O)}else{var m,j=a.length;for(N=0;N<j;N++)switch(a[N].once&&this.removeListener(h,a[N].fn,void 0,!0),c){case 1:a[N].fn.call(a[N].context);break;case 2:a[N].fn.call(a[N].context,v);break;case 3:a[N].fn.call(a[N].context,v,w);break;case 4:a[N].fn.call(a[N].context,v,w,B);break;default:if(!O)for(m=1,O=new Array(c-1);m<c;m++)O[m-1]=arguments[m];a[N].fn.apply(a[N].context,O)}}return!0},b.prototype.on=function(h,v,w){return F(this,h,v,w,!1)},b.prototype.once=function(h,v,w){return F(this,h,v,w,!0)},b.prototype.removeListener=function(h,v,w,B){var M=S?S+h:h;if(!this._events[M])return this;if(!v)return X(this,M),this;var H=this._events[M];if(H.fn)H.fn!==v||B&&!H.once||w&&H.context!==w||X(this,M);else{for(var G=0,O=[],N=H.length;G<N;G++)(H[G].fn!==v||B&&!H[G].once||w&&H[G].context!==w)&&O.push(H[G]);O.length?this._events[M]=O.length===1?O[0]:O:X(this,M)}return this},b.prototype.removeAllListeners=function(h){var v;return h?(v=S?S+h:h,this._events[v]&&X(this,v)):(this._events=new P,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=S,b.EventEmitter=b,z.exports=b},717:z=>{typeof Object.create=="function"?z.exports=function(f,S){f.super_=S,f.prototype=Object.create(S.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:z.exports=function(f,S){f.super_=S;var P=function(){};P.prototype=S.prototype,f.prototype=new P,f.prototype.constructor=f}},824:z=>{var f=1e3,S=60*f,P=60*S,k=24*P,F=7*k,X=365.25*k;function b(h,v,w,B){var M=v>=1.5*w;return Math.round(h/w)+" "+B+(M?"s":"")}z.exports=function(h,v){v=v||{};var w=typeof h;if(w==="string"&&h.length>0)return function(B){if(!((B=String(B)).length>100)){var M=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(B);if(M){var H=parseFloat(M[1]);switch((M[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return H*X;case"weeks":case"week":case"w":return H*F;case"days":case"day":case"d":return H*k;case"hours":case"hour":case"hrs":case"hr":case"h":return H*P;case"minutes":case"minute":case"mins":case"min":case"m":return H*S;case"seconds":case"second":case"secs":case"sec":case"s":return H*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return H;default:return}}}}(h);if(w==="number"&&isFinite(h))return v.long?function(B){var M=Math.abs(B);return M>=k?b(B,M,k,"day"):M>=P?b(B,M,P,"hour"):M>=S?b(B,M,S,"minute"):M>=f?b(B,M,f,"second"):B+" ms"}(h):function(B){var M=Math.abs(B);return M>=k?Math.round(B/k)+"d":M>=P?Math.round(B/P)+"h":M>=S?Math.round(B/S)+"m":M>=f?Math.round(B/f)+"s":B+"ms"}(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},520:(z,f,S)=>{var P=S(155),k=P.platform==="win32",F=S(539);function X(a,c){for(var m=[],j=0;j<a.length;j++){var J=a[j];J&&J!=="."&&(J===".."?m.length&&m[m.length-1]!==".."?m.pop():c&&m.push(".."):m.push(J))}return m}function b(a){for(var c=a.length-1,m=0;m<=c&&!a[m];m++);for(var j=c;j>=0&&!a[j];j--);return m===0&&j===c?a:m>j?[]:a.slice(m,j+1)}var h=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,v=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,w={};function B(a){var c=h.exec(a),m=(c[1]||"")+(c[2]||""),j=c[3]||"",J=v.exec(j);return[m,J[1],J[2],J[3]]}function M(a){var c=h.exec(a),m=c[1]||"",j=!!m&&m[1]!==":";return{device:m,isUnc:j,isAbsolute:j||!!c[2],tail:c[3]}}function H(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}w.resolve=function(){for(var a="",c="",m=!1,j=arguments.length-1;j>=-1;j--){var J;if(j>=0?J=arguments[j]:a?(J=P.env["="+a])&&J.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(J=a+"\\"):J=P.cwd(),!F.isString(J))throw new TypeError("Arguments to path.resolve must be strings");if(J){var ee=M(J),se=ee.device,ve=ee.isUnc,je=ee.isAbsolute,Se=ee.tail;if((!se||!a||se.toLowerCase()===a.toLowerCase())&&(a||(a=se),m||(c=Se+"\\"+c,m=je),a&&m))break}}return ve&&(a=H(a)),a+(m?"\\":"")+(c=X(c.split(/[\\\/]+/),!m).join("\\"))||"."},w.normalize=function(a){var c=M(a),m=c.device,j=c.isUnc,J=c.isAbsolute,ee=c.tail,se=/[\\\/]$/.test(ee);return(ee=X(ee.split(/[\\\/]+/),!J).join("\\"))||J||(ee="."),ee&&se&&(ee+="\\"),j&&(m=H(m)),m+(J?"\\":"")+ee},w.isAbsolute=function(a){return M(a).isAbsolute},w.join=function(){for(var a=[],c=0;c<arguments.length;c++){var m=arguments[c];if(!F.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&a.push(m)}var j=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(j=j.replace(/^[\\\/]{2,}/,"\\")),w.normalize(j)},w.relative=function(a,c){a=w.resolve(a),c=w.resolve(c);for(var m=a.toLowerCase(),j=c.toLowerCase(),J=b(c.split("\\")),ee=b(m.split("\\")),se=b(j.split("\\")),ve=Math.min(ee.length,se.length),je=ve,Se=0;Se<ve;Se++)if(ee[Se]!==se[Se]){je=Se;break}if(je==0)return c;var he=[];for(Se=je;Se<ee.length;Se++)he.push("..");return(he=he.concat(J.slice(je))).join("\\")},w._makeLong=function(a){if(!F.isString(a))return a;if(!a)return"";var c=w.resolve(a);return/^[a-zA-Z]\:\\/.test(c)?"\\\\?\\"+c:/^\\\\[^?.]/.test(c)?"\\\\?\\UNC\\"+c.substring(2):a},w.dirname=function(a){var c=B(a),m=c[0],j=c[1];return m||j?(j&&(j=j.substr(0,j.length-1)),m+j):"."},w.basename=function(a,c){var m=B(a)[2];return c&&m.substr(-1*c.length)===c&&(m=m.substr(0,m.length-c.length)),m},w.extname=function(a){return B(a)[3]},w.format=function(a){if(!F.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var c=a.root||"";if(!F.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var m=a.dir,j=a.base||"";return m?m[m.length-1]===w.sep?m+j:m+w.sep+j:j},w.parse=function(a){if(!F.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var c=B(a);if(!c||c.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},w.sep="\\",w.delimiter=";";var G=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,O={};function N(a){return G.exec(a).slice(1)}O.resolve=function(){for(var a="",c=!1,m=arguments.length-1;m>=-1&&!c;m--){var j=m>=0?arguments[m]:P.cwd();if(!F.isString(j))throw new TypeError("Arguments to path.resolve must be strings");j&&(a=j+"/"+a,c=j[0]==="/")}return(c?"/":"")+(a=X(a.split("/"),!c).join("/"))||"."},O.normalize=function(a){var c=O.isAbsolute(a),m=a&&a[a.length-1]==="/";return(a=X(a.split("/"),!c).join("/"))||c||(a="."),a&&m&&(a+="/"),(c?"/":"")+a},O.isAbsolute=function(a){return a.charAt(0)==="/"},O.join=function(){for(var a="",c=0;c<arguments.length;c++){var m=arguments[c];if(!F.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&(a+=a?"/"+m:m)}return O.normalize(a)},O.relative=function(a,c){a=O.resolve(a).substr(1),c=O.resolve(c).substr(1);for(var m=b(a.split("/")),j=b(c.split("/")),J=Math.min(m.length,j.length),ee=J,se=0;se<J;se++)if(m[se]!==j[se]){ee=se;break}var ve=[];for(se=ee;se<m.length;se++)ve.push("..");return(ve=ve.concat(j.slice(ee))).join("/")},O._makeLong=function(a){return a},O.dirname=function(a){var c=N(a),m=c[0],j=c[1];return m||j?(j&&(j=j.substr(0,j.length-1)),m+j):"."},O.basename=function(a,c){var m=N(a)[2];return c&&m.substr(-1*c.length)===c&&(m=m.substr(0,m.length-c.length)),m},O.extname=function(a){return N(a)[3]},O.format=function(a){if(!F.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var c=a.root||"";if(!F.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+O.sep:"")+(a.base||"")},O.parse=function(a){if(!F.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var c=N(a);if(!c||c.length!==4)throw new TypeError("Invalid path '"+a+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},O.sep="/",O.delimiter=":",z.exports=k?w:O,z.exports.posix=O,z.exports.win32=w},155:z=>{var f,S,P=z.exports={};function k(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}function X(O){if(f===setTimeout)return setTimeout(O,0);if((f===k||!f)&&setTimeout)return f=setTimeout,setTimeout(O,0);try{return f(O,0)}catch{try{return f.call(null,O,0)}catch{return f.call(this,O,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:k}catch{f=k}try{S=typeof clearTimeout=="function"?clearTimeout:F}catch{S=F}})();var b,h=[],v=!1,w=-1;function B(){v&&b&&(v=!1,b.length?h=b.concat(h):w=-1,h.length&&M())}function M(){if(!v){var O=X(B);v=!0;for(var N=h.length;N;){for(b=h,h=[];++w<N;)b&&b[w].run();w=-1,N=h.length}b=null,v=!1,function(a){if(S===clearTimeout)return clearTimeout(a);if((S===F||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(a);try{S(a)}catch{try{return S.call(null,a)}catch{return S.call(this,a)}}}(O)}}function H(O,N){this.fun=O,this.array=N}function G(){}P.nextTick=function(O){var N=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)N[a-1]=arguments[a];h.push(new H(O,N)),h.length!==1||v||X(M)},H.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=G,P.addListener=G,P.once=G,P.off=G,P.removeListener=G,P.removeAllListeners=G,P.emit=G,P.prependListener=G,P.prependOnceListener=G,P.listeners=function(O){return[]},P.binding=function(O){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(O){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},384:z=>{z.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},539:(z,f,S)=>{var P=S(155),k=/%[sdj%]/g;f.format=function(p){if(!a(p)){for(var y=[],D=0;D<arguments.length;D++)y.push(b(arguments[D]));return y.join(" ")}D=1;for(var ne=arguments,Ee=ne.length,$=String(p).replace(k,function(ue){if(ue==="%%")return"%";if(D>=Ee)return ue;switch(ue){case"%s":return String(ne[D++]);case"%d":return Number(ne[D++]);case"%j":try{return JSON.stringify(ne[D++])}catch{return"[Circular]"}default:return ue}}),V=ne[D];D<Ee;V=ne[++D])O(V)||!j(V)?$+=" "+V:$+=" "+b(V);return $},f.deprecate=function(p,y){if(c(S.g.process))return function(){return f.deprecate(p,y).apply(this,arguments)};if(P.noDeprecation===!0)return p;var D=!1;return function(){if(!D){if(P.throwDeprecation)throw new Error(y);P.traceDeprecation?console.trace(y):console.error(y),D=!0}return p.apply(this,arguments)}};var F,X={};function b(p,y){var D={seen:[],stylize:v};return arguments.length>=3&&(D.depth=arguments[2]),arguments.length>=4&&(D.colors=arguments[3]),G(y)?D.showHidden=y:y&&f._extend(D,y),c(D.showHidden)&&(D.showHidden=!1),c(D.depth)&&(D.depth=2),c(D.colors)&&(D.colors=!1),c(D.customInspect)&&(D.customInspect=!0),D.colors&&(D.stylize=h),w(D,p,D.depth)}function h(p,y){var D=b.styles[y];return D?"\x1B["+b.colors[D][0]+"m"+p+"\x1B["+b.colors[D][1]+"m":p}function v(p,y){return p}function w(p,y,D){if(p.customInspect&&y&&se(y.inspect)&&y.inspect!==f.inspect&&(!y.constructor||y.constructor.prototype!==y)){var ne=y.inspect(D,p);return a(ne)||(ne=w(p,ne,D)),ne}var Ee=function(ge,de){if(c(de))return ge.stylize("undefined","undefined");if(a(de)){var Te="'"+JSON.stringify(de).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ge.stylize(Te,"string")}if(N(de))return ge.stylize(""+de,"number");if(G(de))return ge.stylize(""+de,"boolean");if(O(de))return ge.stylize("null","null")}(p,y);if(Ee)return Ee;var $=Object.keys(y),V=function(ge){var de={};return ge.forEach(function(Te,Ie){de[Te]=!0}),de}($);if(p.showHidden&&($=Object.getOwnPropertyNames(y)),ee(y)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return B(y);if($.length===0){if(se(y)){var ue=y.name?": "+y.name:"";return p.stylize("[Function"+ue+"]","special")}if(m(y))return p.stylize(RegExp.prototype.toString.call(y),"regexp");if(J(y))return p.stylize(Date.prototype.toString.call(y),"date");if(ee(y))return B(y)}var Pe,Oe="",Ge=!1,at=["{","}"];return H(y)&&(Ge=!0,at=["[","]"]),se(y)&&(Oe=" [Function"+(y.name?": "+y.name:"")+"]"),m(y)&&(Oe=" "+RegExp.prototype.toString.call(y)),J(y)&&(Oe=" "+Date.prototype.toUTCString.call(y)),ee(y)&&(Oe=" "+B(y)),$.length!==0||Ge&&y.length!=0?D<0?m(y)?p.stylize(RegExp.prototype.toString.call(y),"regexp"):p.stylize("[Object]","special"):(p.seen.push(y),Pe=Ge?function(ge,de,Te,Ie,Me){for(var Re=[],Be=0,$t=de.length;Be<$t;++Be)Ne(de,String(Be))?Re.push(M(ge,de,Te,Ie,String(Be),!0)):Re.push("");return Me.forEach(function(At){At.match(/^\d+$/)||Re.push(M(ge,de,Te,Ie,At,!0))}),Re}(p,y,D,V,$):$.map(function(ge){return M(p,y,D,V,ge,Ge)}),p.seen.pop(),function(ge,de,Te){return ge.reduce(function(Ie,Me){return Me.indexOf(`
`)>=0,Ie+Me.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Te[0]+(de===""?"":de+`
 `)+" "+ge.join(`,
  `)+" "+Te[1]:Te[0]+de+" "+ge.join(", ")+" "+Te[1]}(Pe,Oe,at)):at[0]+Oe+at[1]}function B(p){return"["+Error.prototype.toString.call(p)+"]"}function M(p,y,D,ne,Ee,$){var V,ue,Pe;if((Pe=Object.getOwnPropertyDescriptor(y,Ee)||{value:y[Ee]}).get?ue=Pe.set?p.stylize("[Getter/Setter]","special"):p.stylize("[Getter]","special"):Pe.set&&(ue=p.stylize("[Setter]","special")),Ne(ne,Ee)||(V="["+Ee+"]"),ue||(p.seen.indexOf(Pe.value)<0?(ue=O(D)?w(p,Pe.value,null):w(p,Pe.value,D-1)).indexOf(`
`)>-1&&(ue=$?ue.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).substr(2):`
`+ue.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`)):ue=p.stylize("[Circular]","special")),c(V)){if($&&Ee.match(/^\d+$/))return ue;(V=JSON.stringify(""+Ee)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=p.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=p.stylize(V,"string"))}return V+": "+ue}function H(p){return Array.isArray(p)}function G(p){return typeof p=="boolean"}function O(p){return p===null}function N(p){return typeof p=="number"}function a(p){return typeof p=="string"}function c(p){return p===void 0}function m(p){return j(p)&&ve(p)==="[object RegExp]"}function j(p){return typeof p=="object"&&p!==null}function J(p){return j(p)&&ve(p)==="[object Date]"}function ee(p){return j(p)&&(ve(p)==="[object Error]"||p instanceof Error)}function se(p){return typeof p=="function"}function ve(p){return Object.prototype.toString.call(p)}function je(p){return p<10?"0"+p.toString(10):p.toString(10)}f.debuglog=function(p){if(c(F)&&(F=P.env.NODE_DEBUG||""),p=p.toUpperCase(),!X[p])if(new RegExp("\\b"+p+"\\b","i").test(F)){var y=P.pid;X[p]=function(){var D=f.format.apply(f,arguments);console.error("%s %d: %s",p,y,D)}}else X[p]=function(){};return X[p]},f.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=H,f.isBoolean=G,f.isNull=O,f.isNullOrUndefined=function(p){return p==null},f.isNumber=N,f.isString=a,f.isSymbol=function(p){return typeof p=="symbol"},f.isUndefined=c,f.isRegExp=m,f.isObject=j,f.isDate=J,f.isError=ee,f.isFunction=se,f.isPrimitive=function(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||p===void 0},f.isBuffer=S(384);var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(){var p=new Date,y=[je(p.getHours()),je(p.getMinutes()),je(p.getSeconds())].join(":");return[p.getDate(),Se[p.getMonth()],y].join(" ")}function Ne(p,y){return Object.prototype.hasOwnProperty.call(p,y)}f.log=function(){console.log("%s - %s",he(),f.format.apply(f,arguments))},f.inherits=S(717),f._extend=function(p,y){if(!y||!j(y))return p;for(var D=Object.keys(y),ne=D.length;ne--;)p[D[ne]]=y[D[ne]];return p}}},re={};function R(z){var f=re[z];if(f!==void 0)return f.exports;var S=re[z]={exports:{}};return Q[z].call(S.exports,S,S.exports,R),S.exports}R.n=z=>{var f=z&&z.__esModule?()=>z.default:()=>z;return R.d(f,{a:f}),f},R.d=(z,f)=>{for(var S in f)R.o(f,S)&&!R.o(z,S)&&Object.defineProperty(z,S,{enumerable:!0,get:f[S]})},R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),R.o=(z,f)=>Object.prototype.hasOwnProperty.call(z,f),R.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var fe={};return(()=>{R.r(fe),R.d(fe,{LSPluginUser:()=>fr,setupPluginUserInstance:()=>eo});var z=R(520);R(856);const f=function(){this.__data__=[],this.size=0},S=function(t,e){return t===e||t!=t&&e!=e},P=function(t,e){for(var n=t.length;n--;)if(S(t[n][0],e))return n;return-1};var k=Array.prototype.splice;const F=function(t){var e=this.__data__,n=P(e,t);return!(n<0)&&(n==e.length-1?e.pop():k.call(e,n,1),--this.size,!0)},X=function(t){var e=this.__data__,n=P(e,t);return n<0?void 0:e[n][1]},b=function(t){return P(this.__data__,t)>-1},h=function(t,e){var n=this.__data__,r=P(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function v(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}v.prototype.clear=f,v.prototype.delete=F,v.prototype.get=X,v.prototype.has=b,v.prototype.set=h;const w=v,B=function(){this.__data__=new w,this.size=0},M=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},H=function(t){return this.__data__.get(t)},G=function(t){return this.__data__.has(t)},O=typeof $n=="object"&&$n&&$n.Object===Object&&$n;var N=typeof self=="object"&&self&&self.Object===Object&&self;const a=O||N||Function("return this")(),c=a.Symbol;var m=Object.prototype,j=m.hasOwnProperty,J=m.toString,ee=c?c.toStringTag:void 0;const se=function(t){var e=j.call(t,ee),n=t[ee];try{t[ee]=void 0;var r=!0}catch{}var i=J.call(t);return r&&(e?t[ee]=n:delete t[ee]),i};var ve=Object.prototype.toString;const je=function(t){return ve.call(t)};var Se=c?c.toStringTag:void 0;const he=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Se&&Se in Object(t)?se(t):je(t)},Ne=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},p=function(t){if(!Ne(t))return!1;var e=he(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},y=a["__core-js_shared__"];var D,ne=(D=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"";const Ee=function(t){return!!ne&&ne in t};var $=Function.prototype.toString;const V=function(t){if(t!=null){try{return $.call(t)}catch{}try{return t+""}catch{}}return""};var ue=/^\[object .+?Constructor\]$/,Pe=Function.prototype,Oe=Object.prototype,Ge=Pe.toString,at=Oe.hasOwnProperty,ge=RegExp("^"+Ge.call(at).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const de=function(t){return!(!Ne(t)||Ee(t))&&(p(t)?ge:ue).test(V(t))},Te=function(t,e){return t?.[e]},Ie=function(t,e){var n=Te(t,e);return de(n)?n:void 0},Me=Ie(a,"Map"),Re=Ie(Object,"create"),Be=function(){this.__data__=Re?Re(null):{},this.size=0},$t=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var At=Object.prototype.hasOwnProperty;const zn=function(t){var e=this.__data__;if(Re){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return At.call(e,t)?e[t]:void 0};var Un=Object.prototype.hasOwnProperty;const qn=function(t){var e=this.__data__;return Re?e[t]!==void 0:Un.call(e,t)},Wn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Re&&e===void 0?"__lodash_hash_undefined__":e,this};function st(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}st.prototype.clear=Be,st.prototype.delete=$t,st.prototype.get=zn,st.prototype.has=qn,st.prototype.set=Wn;const hn=st,Gn=function(){this.size=0,this.__data__={hash:new hn,map:new(Me||w),string:new hn}},Qn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},mt=function(t,e){var n=t.__data__;return Qn(e)?n[typeof e=="string"?"string":"hash"]:n.map},x=function(t){var e=mt(this,t).delete(t);return this.size-=e?1:0,e},E=function(t){return mt(this,t).get(t)},q=function(t){return mt(this,t).has(t)},K=function(t,e){var n=mt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function le(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}le.prototype.clear=Gn,le.prototype.delete=x,le.prototype.get=E,le.prototype.has=q,le.prototype.set=K;const De=le,et=function(t,e){var n=this.__data__;if(n instanceof w){var r=n.__data__;if(!Me||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new De(r)}return n.set(t,e),this.size=n.size,this};function $e(t){var e=this.__data__=new w(t);this.size=e.size}$e.prototype.clear=B,$e.prototype.delete=M,$e.prototype.get=H,$e.prototype.has=G,$e.prototype.set=et;const tt=$e,yt=function(){try{var t=Ie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Et=function(t,e,n){e=="__proto__"&&yt?yt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Bt=function(t,e,n){(n!==void 0&&!S(t[e],n)||n===void 0&&!(e in t))&&Et(t,e,n)},gn=function(t){return function(e,n,r){for(var i=-1,s=Object(e),u=r(e),d=u.length;d--;){var g=u[t?d:++i];if(n(s[g],g,s)===!1)break}return e}}();var mn=A&&!A.nodeType&&A,bt=mn&&!0&&l&&!l.nodeType&&l,yn=bt&&bt.exports===mn?a.Buffer:void 0,bn=yn?yn.allocUnsafe:void 0;const Jn=function(t,e){if(e)return t.slice();var n=t.length,r=bn?bn(n):new t.constructor(n);return t.copy(r),r},lt=a.Uint8Array,Ht=function(t){var e=new t.constructor(t.byteLength);return new lt(e).set(new lt(t)),e},Qe=function(t,e){var n=e?Ht(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},vn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var vt=Object.create;const zt=function(){function t(){}return function(e){if(!Ne(e))return{};if(vt)return vt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),wn=function(t,e){return function(n){return t(e(n))}},_n=wn(Object.getPrototypeOf,Object);var Vn=Object.prototype;const Ut=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Vn)},xn=function(t){return typeof t.constructor!="function"||Ut(t)?{}:zt(_n(t))},xe=function(t){return t!=null&&typeof t=="object"},ct=function(t){return xe(t)&&he(t)=="[object Arguments]"};var Je=Object.prototype,qt=Je.hasOwnProperty,Wt=Je.propertyIsEnumerable;const Ot=ct(function(){return arguments}())?ct:function(t){return xe(t)&&qt.call(t,"callee")&&!Wt.call(t,"callee")},Fe=Array.isArray,Gt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},wt=function(t){return t!=null&&Gt(t.length)&&!p(t)},Qt=function(t){return xe(t)&&wt(t)},we=function(){return!1};var Jt=A&&!A.nodeType&&A,_e=Jt&&!0&&l&&!l.nodeType&&l,Vt=_e&&_e.exports===Jt?a.Buffer:void 0;const ce=(Vt?Vt.isBuffer:void 0)||we;var _t=Function.prototype,Zt=Object.prototype,Kt=_t.toString,Yt=Zt.hasOwnProperty,Cn=Kt.call(Object);const ut=function(t){if(!xe(t)||he(t)!="[object Object]")return!1;var e=_n(t);if(e===null)return!0;var n=Yt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Kt.call(n)==Cn};var te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te["[object Arguments]"]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te["[object Map]"]=te["[object Number]"]=te["[object Object]"]=te["[object RegExp]"]=te["[object Set]"]=te["[object String]"]=te["[object WeakMap]"]=!1;const Xt=function(t){return xe(t)&&Gt(t.length)&&!!te[he(t)]},en=function(t){return function(e){return t(e)}};var nt=A&&!A.nodeType&&A,Ve=nt&&!0&&l&&!l.nodeType&&l,dt=Ve&&Ve.exports===nt&&O.process,tn=function(){try{var t=Ve&&Ve.require&&Ve.require("util").types;return t||dt&&dt.binding&&dt.binding("util")}catch{}}(),Tt=tn&&tn.isTypedArray;const rt=Tt?en(Tt):Xt,Ze=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var pt=Object.prototype.hasOwnProperty;const kn=function(t,e,n){var r=t[e];pt.call(t,e)&&S(r,n)&&(n!==void 0||e in t)||Et(t,e,n)},jn=function(t,e,n,r){var i=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var d=e[s],g=r?r(n[d],t[d],d,n,t):void 0;g===void 0&&(g=t[d]),i?Et(n,d,g):kn(n,d,g)}return n},Sn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var nn=/^(?:0|[1-9]\d*)$/;const It=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&nn.test(t))&&t>-1&&t%1==0&&t<e};var rn=Object.prototype.hasOwnProperty;const Pt=function(t,e){var n=Fe(t),r=!n&&Ot(t),i=!n&&!r&&ce(t),s=!n&&!r&&!i&&rt(t),u=n||r||i||s,d=u?Sn(t.length,String):[],g=d.length;for(var T in t)!e&&!rn.call(t,T)||u&&(T=="length"||i&&(T=="offset"||T=="parent")||s&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||It(T,g))||d.push(T);return d},Ke=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var Lt=Object.prototype.hasOwnProperty;const An=function(t){if(!Ne(t))return Ke(t);var e=Ut(t),n=[];for(var r in t)(r!="constructor"||!e&&Lt.call(t,r))&&n.push(r);return n},En=function(t){return wt(t)?Pt(t,!0):An(t)},Zn=function(t){return jn(t,En(t))},ft=function(t,e,n,r,i,s,u){var d=Ze(t,n),g=Ze(e,n),T=u.get(g);if(T)Bt(t,n,T);else{var I=s?s(d,g,n+"",t,e,u):void 0,L=I===void 0;if(L){var U=Fe(g),Z=!U&&ce(g),W=!U&&!Z&&rt(g);I=g,U||Z||W?Fe(d)?I=d:Qt(d)?I=vn(d):Z?(L=!1,I=Jn(g,!0)):W?(L=!1,I=Qe(g,!0)):I=[]:ut(g)||Ot(g)?(I=d,Ot(d)?I=Zn(d):Ne(d)&&!p(d)||(I=xn(g))):L=!1}L&&(u.set(g,I),i(I,g,r,s,u),u.delete(g)),Bt(t,n,I)}},Kn=function t(e,n,r,i,s){e!==n&&gn(n,function(u,d){if(s||(s=new tt),Ne(u))ft(e,n,d,r,t,i,s);else{var g=i?i(Ze(e,d),u,d+"",e,n,s):void 0;g===void 0&&(g=u),Bt(e,d,g)}},En)},Mt=function(t){return t},on=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var an=Math.max;const On=function(t,e,n){return e=an(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=an(r.length-e,0),u=Array(s);++i<s;)u[i]=r[e+i];i=-1;for(var d=Array(e+1);++i<e;)d[i]=r[i];return d[e]=n(u),on(t,this,d)}},Yn=function(t){return function(){return t}},Ft=yt?function(t,e){return yt(t,"toString",{configurable:!0,enumerable:!1,value:Yn(e),writable:!0})}:Mt;var sn=Date.now;const Xn=function(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ft),He=function(t,e){return Xn(On(t,e,Mt),t+"")},Tn=function(t,e,n){if(!Ne(n))return!1;var r=typeof e;return!!(r=="number"?wt(n)&&It(e,n.length):r=="string"&&e in n)&&S(n[e],t)},In=function(t){return He(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,u&&Tn(n[0],n[1],u)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var d=n[r];d&&t(e,d,r,s)}return e})}(function(t,e,n){Kn(t,e,n)});var xt=function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xt.apply(this,arguments)};function er(t){return t.toLowerCase()}var Ct=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],ze=/[^A-Z0-9]+/gi;function ln(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function Pn(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,s=i===void 0?Ct:i,u=r.stripRegexp,d=u===void 0?ze:u,g=r.transform,T=g===void 0?er:g,I=r.delimiter,L=I===void 0?" ":I,U=ln(ln(n,s,"$1\0$2"),d,"\0"),Z=0,W=U.length;U.charAt(Z)==="\0";)Z++;for(;U.charAt(W-1)==="\0";)W--;return U.slice(Z,W).split("\0").map(T).join(L)}(t,xt({delimiter:"."},e))}var cn=R(729),kt=R.n(cn);function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?z.win32:z.posix,C=function(t,e){return e===void 0&&(e={}),Pn(t,xt({delimiter:"_"},e))},_=In;class oe extends kt(){constructor(e,n){super(),un(this,"_tag",void 0),un(this,"_opts",void 0),un(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const s=n.reduce((d,g)=>(g&&g instanceof Error?d+=`${g.message} ${g.stack}`:d+=g.toString(),d),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var u;this._logs.push([e,s]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((u=console)===null||u===void 0||u[e==="ERROR"?"error":"debug"](`${e}: ${s}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function pe(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function Ce(t,e){let n,r,i=!1;const s=d=>g=>{t&&clearTimeout(t),d(g),i=!0},u=new Promise((d,g)=>{n=s(d),r=s(g),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:d=>e=d,resolve:n,reject:r,promise:u,get settled(){return i}}}const ke=new Map;window.__injectedUIEffects=ke;var jt=R(227),Ue=R.n(jt);function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ot="application/x-postmate-v1+json";let kr=0;const uo={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},tr=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===ot&&!!uo[t.data.postmate];class po{constructor(e){Y(this,"parent",void 0),Y(this,"frame",void 0),Y(this,"child",void 0),Y(this,"events",{}),Y(this,"childOrigin",void 0),Y(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!tr(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(s=>{s.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++kr,s=u=>{u.data.uid===i&&u.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),r(u.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:ot,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:ot,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class fo{constructor(e){Y(this,"model",void 0),Y(this,"parent",void 0),Y(this,"parentOrigin",void 0),Y(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!tr(n,this.parentOrigin))return;const{property:r,uid:i,data:s,args:u}=n.data;n.data.postmate!=="call"?((d,g,T)=>{const I=typeof d[g]=="function"?d[g].apply(null,T):d[g];return Promise.resolve(I)})(this.model,r,u).then(d=>{n.source.postMessage({property:r,postmate:"reply",type:ot,uid:i,value:d},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](s)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:ot,value:{name:e,data:n}},this.parentOrigin)}}class nr{constructor(e){Y(this,"container",void 0),Y(this,"parent",void 0),Y(this,"frame",void 0),Y(this,"child",void 0),Y(this,"childOrigin",void 0),Y(this,"url",void 0),Y(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(s=>{const u=document.createElement("a");u.href=s;const d=u.protocol.length>4?u.protocol:window.location.protocol,g=u.host.length?u.port==="80"||u.port==="443"?u.hostname:u.host:window.location.host;return u.origin||`${d}//${g}`})(e=e||this.url);let r,i=0;return new Promise((s,u)=>{const d=T=>!!tr(T,n)&&(T.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",d,!1),this.childOrigin=T.origin,s(new po(this))):u("Failed handshake"));this.parent.addEventListener("message",d,!1);const g=()=>{i++,this.child.postMessage({postmate:"handshake",type:ot,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{g(),r=setInterval(g,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Y(nr,"debug",!1),Y(nr,"Model",void 0);class ho{constructor(e){Y(this,"child",void 0),Y(this,"model",void 0),Y(this,"parent",void 0),Y(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:ot},i.origin),this.parentOrigin=i.origin;const s=i.data.model;return s&&Object.keys(s).forEach(u=>{this.model[u]=s[u]}),e(new fo(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:go,createSandboxContainer:mo}=window.QSandbox||{};function yo(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class bo extends kt(){constructor(e){super(),dn(this,"_pluginLocal",void 0),dn(this,"_frame",void 0),dn(this,"_root",void 0),dn(this,"_loaded",!1),dn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await go(n,{fetch:yo});this._mount(r,document.body);const s=mo(e,{elementGetter:()=>{var d;return(d=this._root)===null||d===void 0?void 0:d.firstChild}}).instance.proxy;s.__shadow_mode__=!0,s.LSPluginLocal=this._pluginLocal,s.LSPluginShadow=this,s.LSPluginUser=s.logseq=new fr(this._pluginLocal.toJSON(),this._pluginLocal.caller);const u=await i(s,!0);this._unmountFns.push(u.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ht=Ue()("LSPlugin:caller"),pn="#await#response#",vo="#lspmsg#",jr="#lspmsg#error#",Ln=t=>`#lspmsg#${t}`;class wo extends kt(){constructor(e){super(),Ye(this,"_pluginLocal",void 0),Ye(this,"_connected",!1),Ye(this,"_parent",void 0),Ye(this,"_child",void 0),Ye(this,"_shadow",void 0),Ye(this,"_status",void 0),Ye(this,"_userModel",{}),Ye(this,"_call",void 0),Ye(this,"_callUserModel",void 0),Ye(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const s=new Map,u=Ce(6e4),d=this._extendUserModel({"#lspmsg#ready#":async I=>{d[Ln(I?.pid)]=({type:L,payload:U})=>{ht(`[host (_call) -> *user] ${this._debugTag}`,L,U),n.emit(L,U)},await u.resolve()},"#lspmsg#beforeunload#":async I=>{const L=Ce(1e4);n.emit("beforeunload",Object.assign({actor:L},I)),await L.promise},"#lspmsg#settings#":async({type:I,payload:L})=>{n.emit("settings:changed",L)},[vo]:async({ns:I,type:L,payload:U})=>{ht(`[host (async) -> *user] ${this._debugTag} ns=${I} type=${L}`,U),I&&I.startsWith("hook")?n.emit(`${I}:${L}`,U):n.emit(L,U)},"#lspmsg#reply#":({_sync:I,result:L})=>{if(ht(`[sync host -> *user] #${I}`,L),s.has(I)){const U=s.get(I);U&&(L!=null&&L.hasOwnProperty(jr)?U.reject(L[jr]):U.resolve(L),s.delete(I))}},...e});var g;if(r)return await u.promise,JSON.parse(JSON.stringify((g=this._pluginLocal)===null||g===void 0?void 0:g.toJSON()));const T=new ho(d).sendHandshakeReply();return this._status="pending",await T.then(I=>{this._child=I,this._connected=!0,this._call=async(L,U={},Z)=>{if(Z){const W=++i;s.set(W,Z),U._sync=W,Z.setTag(`async call #${W}`),ht(`async call #${W}`)}return I.emit(Ln(d.baseInfo.id),{type:L,payload:U}),Z?.promise},this._callUserModel=async(L,U)=>{try{d[L](U)}catch{ht(`[model method] #${L} not existed`)}},setInterval(()=>{if(s.size>100)for(const[L,U]of s)U.settled&&s.delete(L)},18e5)}).finally(()=>{this._status=void 0}),await u.promise,d.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=Ce(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${pn}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const s=document.querySelector(`#${r}`);s&&s.parentElement.removeChild(s);const u=document.createElement("div");u.classList.add("lsp-iframe-sandbox-container"),u.id=r,u.dataset.pid=n;try{var d;const L=(d=await this._pluginLocal._loadLayoutsData())===null||d===void 0?void 0:d.$$0;if(L){u.dataset.inited_layout="true";let{width:U,height:Z,left:W,top:ie,vw:me,vh:Le}=L;W=Math.max(W,0),W=typeof me=="number"?`${Math.min(100*W/me,99)}%`:`${W}px`,ie=Math.max(ie,45),ie=typeof Le=="number"?`${Math.min(100*ie/Le,99)}%`:`${ie}px`,Object.assign(u.style,{width:U+"px",height:Z+"px",left:W,top:ie})}}catch(L){console.error("[Restore Layout Error]",L)}document.body.appendChild(u);const g=new nr({id:n+"_iframe",container:u,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let T,I=g.sendHandshake();return this._status="pending",new Promise((L,U)=>{T=setTimeout(()=>{U(new Error("handshake Timeout")),g.destroy()},4e3),I.then(Z=>{this._parent=Z,this._connected=!0,this.emit("connected"),Z.on(Ln(e.id),({type:W,payload:ie})=>{var me,Le;ht("[user -> *host] ",W,ie),(me=this._pluginLocal)===null||me===void 0||me.emit(W,ie||{}),(Le=this._pluginLocal)===null||Le===void 0||Le.caller.emit(W,ie||{})}),this._call=async(...W)=>{await Z.call(Ln(e.id),{type:W[0],payload:Object.assign(W[1]||{},{$$pid:e.id})})},this._callUserModel=async(W,...ie)=>{if(W.startsWith(pn))return await Z.get(W.replace(pn,""),...ie);Z.call(W,ie?.[0])},L(null)}).catch(Z=>{U(Z)}).finally(()=>{clearTimeout(T)})}).catch(L=>{throw ht("[iframe sandbox] error",L),L}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new bo(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},s)=>{var u;return s&&(i.actor=s),(u=this._pluginLocal)===null||u===void 0||u.emit(r,Object.assign(i,{$$pid:e.id})),s?.promise},this._callUserModel=async(...r)=>{var i;let s=r[0];(i=s)!==null&&i!==void 0&&i.startsWith(pn)&&(s=s.replace(pn,""));const u=r[1]||{},d=this._userModel[s];typeof d=="function"&&await d.call(null,u)}}catch(r){throw ht("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function Sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ar{constructor(e,n){Sr(this,"ctx",void 0),Sr(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class _o{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const s=this.ensureHostScope();return e=(r=C(e))===null||r===void 0?void 0:r.toLowerCase(),(i=s.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(s,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Er=t=>`task_callback_${t}`;class xo{constructor(e,n,r={}){Nt(this,"_client",void 0),Nt(this,"_requestId",void 0),Nt(this,"_requestOptions",void 0),Nt(this,"_promise",void 0),Nt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((d,g)=>{if(!this._requestId)return g(null);this._client.once(Er(this._requestId),T=>{T&&T instanceof Error?g(T):d(T)})});const{success:i,fail:s,final:u}=this._requestOptions;this._promise.then(d=>{i?.(d)}).catch(d=>{s?.(d)}).finally(()=>{u?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class rr extends cn.EventEmitter{constructor(e){super(),Nt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n?.requestId;r&&this.emit(Er(r),n?.payload)})}static createRequestTask(e,n,r){return new xo(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:s,...u}=e,d=this.ctx.Experiments.invokeExperMethod("request",n,u),g=rr.createRequestTask(this.ctx.Request,d,e);return u.abortable?g:g.promise}get ctx(){return this._ctx}}const Co=wn(Object.keys,Object);var ko=Object.prototype.hasOwnProperty;const jo=function(t){if(!Ut(t))return Co(t);var e=[];for(var n in Object(t))ko.call(t,n)&&n!="constructor"&&e.push(n);return e},or=function(t){return wt(t)?Pt(t):jo(t)},So=function(t,e){return t&&gn(t,e,or)},Ao=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Eo=function(t){return this.__data__.has(t)};function Mn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new De;++e<n;)this.add(t[e])}Mn.prototype.add=Mn.prototype.push=Ao,Mn.prototype.has=Eo;const Oo=Mn,To=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Io=function(t,e){return t.has(e)},Or=function(t,e,n,r,i,s){var u=1&n,d=t.length,g=e.length;if(d!=g&&!(u&&g>d))return!1;var T=s.get(t),I=s.get(e);if(T&&I)return T==e&&I==t;var L=-1,U=!0,Z=2&n?new Oo:void 0;for(s.set(t,e),s.set(e,t);++L<d;){var W=t[L],ie=e[L];if(r)var me=u?r(ie,W,L,e,t,s):r(W,ie,L,t,e,s);if(me!==void 0){if(me)continue;U=!1;break}if(Z){if(!To(e,function(Le,Xe){if(!Io(Z,Xe)&&(W===Le||i(W,Le,n,r,s)))return Z.push(Xe)})){U=!1;break}}else if(W!==ie&&!i(W,ie,n,r,s)){U=!1;break}}return s.delete(t),s.delete(e),U},Po=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Lo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var Tr=c?c.prototype:void 0,ir=Tr?Tr.valueOf:void 0;const Mo=function(t,e,n,r,i,s,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new lt(t),new lt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=Po;case"[object Set]":var g=1&r;if(d||(d=Lo),t.size!=e.size&&!g)return!1;var T=u.get(t);if(T)return T==e;r|=2,u.set(t,e);var I=Or(d(t),d(e),r,i,s,u);return u.delete(t),I;case"[object Symbol]":if(ir)return ir.call(t)==ir.call(e)}return!1},Fo=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},No=function(t,e,n){var r=e(t);return Fe(t)?r:Fo(r,n(t))},Ro=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var u=t[n];e(u,n,t)&&(s[i++]=u)}return s},Do=function(){return[]};var $o=Object.prototype.propertyIsEnumerable,Ir=Object.getOwnPropertySymbols;const Bo=Ir?function(t){return t==null?[]:(t=Object(t),Ro(Ir(t),function(e){return $o.call(t,e)}))}:Do,Pr=function(t){return No(t,or,Bo)};var Ho=Object.prototype.hasOwnProperty;const zo=function(t,e,n,r,i,s){var u=1&n,d=Pr(t),g=d.length;if(g!=Pr(e).length&&!u)return!1;for(var T=g;T--;){var I=d[T];if(!(u?I in e:Ho.call(e,I)))return!1}var L=s.get(t),U=s.get(e);if(L&&U)return L==e&&U==t;var Z=!0;s.set(t,e),s.set(e,t);for(var W=u;++T<g;){var ie=t[I=d[T]],me=e[I];if(r)var Le=u?r(me,ie,I,e,t,s):r(ie,me,I,t,e,s);if(!(Le===void 0?ie===me||i(ie,me,n,r,s):Le)){Z=!1;break}W||(W=I=="constructor")}if(Z&&!W){var Xe=t.constructor,Dn=e.constructor;Xe==Dn||!("constructor"in t)||!("constructor"in e)||typeof Xe=="function"&&Xe instanceof Xe&&typeof Dn=="function"&&Dn instanceof Dn||(Z=!1)}return s.delete(t),s.delete(e),Z},ar=Ie(a,"DataView"),sr=Ie(a,"Promise"),lr=Ie(a,"Set"),cr=Ie(a,"WeakMap");var Lr="[object Map]",Mr="[object Promise]",Fr="[object Set]",Nr="[object WeakMap]",Rr="[object DataView]",Uo=V(ar),qo=V(Me),Wo=V(sr),Go=V(lr),Qo=V(cr),St=he;(ar&&St(new ar(new ArrayBuffer(1)))!=Rr||Me&&St(new Me)!=Lr||sr&&St(sr.resolve())!=Mr||lr&&St(new lr)!=Fr||cr&&St(new cr)!=Nr)&&(St=function(t){var e=he(t),n=e=="[object Object]"?t.constructor:void 0,r=n?V(n):"";if(r)switch(r){case Uo:return Rr;case qo:return Lr;case Wo:return Mr;case Go:return Fr;case Qo:return Nr}return e});const Dr=St;var $r="[object Arguments]",Br="[object Array]",Fn="[object Object]",Hr=Object.prototype.hasOwnProperty;const Jo=function(t,e,n,r,i,s){var u=Fe(t),d=Fe(e),g=u?Br:Dr(t),T=d?Br:Dr(e),I=(g=g==$r?Fn:g)==Fn,L=(T=T==$r?Fn:T)==Fn,U=g==T;if(U&&ce(t)){if(!ce(e))return!1;u=!0,I=!1}if(U&&!I)return s||(s=new tt),u||rt(t)?Or(t,e,n,r,i,s):Mo(t,e,g,n,r,i,s);if(!(1&n)){var Z=I&&Hr.call(t,"__wrapped__"),W=L&&Hr.call(e,"__wrapped__");if(Z||W){var ie=Z?t.value():t,me=W?e.value():e;return s||(s=new tt),i(ie,me,n,r,s)}}return!!U&&(s||(s=new tt),zo(t,e,n,r,i,s))},zr=function t(e,n,r,i,s){return e===n||(e==null||n==null||!xe(e)&&!xe(n)?e!=e&&n!=n:Jo(e,n,r,i,t,s))},Vo=function(t,e,n,r){var i=n.length,s=i,u=!r;if(t==null)return!s;for(t=Object(t);i--;){var d=n[i];if(u&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++i<s;){var g=(d=n[i])[0],T=t[g],I=d[1];if(u&&d[2]){if(T===void 0&&!(g in t))return!1}else{var L=new tt;if(r)var U=r(T,I,g,t,e,L);if(!(U===void 0?zr(I,T,3,r,L):U))return!1}}return!0},Ur=function(t){return t==t&&!Ne(t)},Zo=function(t){for(var e=or(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ur(i)]}return e},qr=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},Ko=function(t){var e=Zo(t);return e.length==1&&e[0][2]?qr(e[0][0],e[0][1]):function(n){return n===t||Vo(n,t,e)}},ur=function(t){return typeof t=="symbol"||xe(t)&&he(t)=="[object Symbol]"};var Yo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xo=/^\w*$/;const dr=function(t,e){if(Fe(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ur(t))||Xo.test(t)||!Yo.test(t)||e!=null&&t in Object(e)};function pr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var u=t.apply(this,r);return n.cache=s.set(i,u)||s,u};return n.cache=new(pr.Cache||De),n}pr.Cache=De;const ei=pr;var ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ni=/\\(\\)?/g;const ri=function(t){var e=ei(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ti,function(n,r,i,s){e.push(i?s.replace(ni,"$1"):r||n)}),e}),oi=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Wr=c?c.prototype:void 0,Gr=Wr?Wr.toString:void 0;const ii=function t(e){if(typeof e=="string")return e;if(Fe(e))return oi(e,t)+"";if(ur(e))return Gr?Gr.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},ai=function(t){return t==null?"":ii(t)},Qr=function(t,e){return Fe(t)?t:dr(t,e)?[t]:ri(ai(t))},Nn=function(t){if(typeof t=="string"||ur(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Jr=function(t,e){for(var n=0,r=(e=Qr(e,t)).length;t!=null&&n<r;)t=t[Nn(e[n++])];return n&&n==r?t:void 0},si=function(t,e,n){var r=t==null?void 0:Jr(t,e);return r===void 0?n:r},li=function(t,e){return t!=null&&e in Object(t)},ci=function(t,e,n){for(var r=-1,i=(e=Qr(e,t)).length,s=!1;++r<i;){var u=Nn(e[r]);if(!(s=t!=null&&n(t,u)))break;t=t[u]}return s||++r!=i?s:!!(i=t==null?0:t.length)&&Gt(i)&&It(u,i)&&(Fe(t)||Ot(t))},ui=function(t,e){return t!=null&&ci(t,e,li)},di=function(t,e){return dr(t)&&Ur(e)?qr(Nn(t),e):function(n){var r=si(n,t);return r===void 0&&r===e?ui(n,t):zr(e,r,3)}},pi=function(t){return function(e){return e?.[t]}},fi=function(t){return function(e){return Jr(e,t)}},hi=function(t){return dr(t)?pi(Nn(t)):fi(t)},gi=function(t){return typeof t=="function"?t:t==null?Mt:typeof t=="object"?Fe(t)?di(t[0],t[1]):Ko(t):hi(t)},mi=function(t,e){var n={};return e=gi(e),So(t,function(r,i,s){Et(n,e(r,i,s),r)}),n};function Vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class yi{constructor(e,n){Vr(this,"ctx",void 0),Vr(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(Fe(r?.blocks)&&(r.blocks=r.blocks.map(i=>i&&mi(i,(s,u)=>`block/${u}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const s=(u=>`service:search:${u}:${n.name}`)(r);e.caller.on(s,async u=>{if(p(n?.[i.f])){let d=null;try{d=await n[i.f].apply(n,(i.args||[]).map(g=>{if(u){if(g===!0)return u;if(u.hasOwnProperty(g)){const T=u[g];return delete u[g],T}}})),i.transformOutput&&(d=i.transformOutput(d))}catch(g){console.error("[SearchService] ",g),d=g}finally{i.reply&&e.caller.call(`${s}:reply`,d)}}})})}}function qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const bi=Symbol.for("proxy-continue"),vi=Ue()("LSPlugin:user"),Zr=new oe("",{console:!0});function Rt(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:s,desc:u,palette:d,keybinding:g,extras:T}=e,I=`SimpleCommandHook${i}${++Xr}`;this.Editor["on"+I](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:s,type:t,desc:u,keybinding:g,extras:T},["editor/hook",I]],d]})}function Kr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Zr.error(`#${t} is not a valid UUID string.`),!1);var e}let Rn=null,Yr=new Map;const wi={async getInfo(t){return Rn||(Rn=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?Rn[t]:Rn},registerCommand:Rt,registerSearchService(t){if(Yr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Yr.set(t.name,new yi(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return Rt.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+C(n);return Rt.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;Rt.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Kr(t))return;const n=this.baseInfo.id,r=`hook:editor:${C(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const s=t.replace(`${r}.${i}.`,"");if(!r||!i||!s)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),s,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Xr=0;const _i={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;vi("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...s]=r;if(i==="editor/hook"){let u=s[0],d=()=>{var T;(T=this.caller)===null||T===void 0||T.callUserModel(u)};typeof u=="function"&&(d=u);const g=`SlashCommandHook${i}${++Xr}`;r[1]=g,this.Editor["on"+g](d)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Rt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;Rt.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},xi={onBlockChanged(t,e){if(!Kr(t))return;const n=this.baseInfo.id,r=`hook:db:${C(`block:${t}`)}`,i=({block:s,txData:u,txMeta:d})=>{s.uuid===t&&e(s,u,d)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},Ci={},ki={},ji={makeSandboxStorage(){return new Ar(this,{assets:!0})}};class fr extends kt(){constructor(e,n){super(),qe(this,"_baseInfo",void 0),qe(this,"_caller",void 0),qe(this,"_version","0.0.14"),qe(this,"_debugTag",""),qe(this,"_settingsSchema",void 0),qe(this,"_connected",!1),qe(this,"_ui",new Map),qe(this,"_mFileStorage",void 0),qe(this,"_mRequest",void 0),qe(this,"_mExperiments",void 0),qe(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),s=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...s},i)}),n.on("beforeunload",async r=>{const{actor:i,...s}=r,u=this._beforeunloadCallback;try{u&&await u(s),i?.resolve(null)}catch(d){console.debug(`${n.debugTag} [beforeunload] `,d),i?.reject(d)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=_(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(s,u){const d=(u||[]).reduce((g,T)=>("default"in T&&(g[T.key]=T.default),g),{});return Object.assign(d,s)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Zr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),pe(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(s,u,d){const g=s[u];return function(...T){if(g){const L=g.apply(r,T.concat(n));if(L!==bi)return L}if(n){const L=u.toString().match(/^(once|off|on)/i);if(L!=null){const U=L[0].toLowerCase(),Z=L.input.slice(U.length),W=U==="off",ie=r.baseInfo.id,me=`hook:${n}:${C(Z)}`,Le=T[0];i[U](me,Le);const Xe=()=>{i.off(me,Le),i.listenerCount(me)||r.App._uninstallPluginHook(ie,me)};return W?void Xe():(r.App._installPluginHook(ie,me),Xe)}}let I=u;return["git","ui","assets"].includes(n)&&(I=n+"_"+I),i.callAsync("api:call",{tag:n,method:I,args:T})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(wi,"app")}get Editor(){return this._makeUserProxy(_i,"editor")}get DB(){return this._makeUserProxy(xi,"db")}get Git(){return this._makeUserProxy(Ci,"git")}get UI(){return this._makeUserProxy(ki,"ui")}get Assets(){return this._makeUserProxy(ji,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new Ar(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new rr(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new _o(this)),e}}function eo(t,e){return new fr(t,e)}if(window.__LSP__HOST__==null){const t=new wo(null);window.logseq=eo({},t)}})(),fe})())})(Si,hr);const Ai=`@import"https://fonts.googleapis.com/css2?family=Fira+Sans+Condensed:wght@500&display=swap";#main-content-container{display:block}.content{position:relative}#banner{position:relative;display:none;height:0;margin:0 auto;overflow:hidden;background-repeat:no-repeat;background-size:cover;background-position-x:50%}.cp__sidebar-main-content{margin:0 auto}.cp__right-sidebar-inner .resizer{z-index:9}body:is([data-page="page"],[data-page="home"],[data-page="all-journals"]).is-banner-active #banner{height:var(--bannerHeight)}body:is([data-page="page"],[data-page="home"],[data-page="all-journals"]).is-banner-active #banner:before{position:absolute;inset:0;content:"";background-repeat:no-repeat;background-size:cover;background-image:var(--pageBanner);background-position-y:var(--bannerAlign)}body[data-page=home].is-icon-active .journal-item:first-of-type>.page>.flex-col:first-child>.content>.flex-1:before,body[data-page=all-journals].is-icon-active .journal-item:first-of-type>.page>.flex-col:first-child>.content>.flex-1:before,body[data-page=page].is-icon-active .page>.relative>.flex-row>.flex-1:before{content:var(--pageIcon);font-size:var(--iconWidth);font-weight:400;position:absolute;left:-7px;z-index:2;transform:translateY(-55%);line-height:initial;opacity:.9}body[data-page=home].is-icon-active #main-content-container .journal-item:first-of-type .journal-title,body[data-page=all-journals].is-icon-active #main-content-container .journal-item:first-of-type .journal-title,body[data-page=page].is-icon-active #main-content-container .page-title,body[data-page=page].is-icon-active #main-content-container .ls-page-title.editing{margin-top:35px}body[data-page=home].is-icon-active #journals .journal-item:first-child,body[data-page=all-journals].is-icon-active #journals .journal-item:first-child{margin-top:0}body[data-page=home].is-icon-active #journals .journal-item h1.title:before,body[data-page=all-journals].is-icon-active #journals .journal-item h1.title:before{content:var(--pageIcon);margin-right:8px;font-size:.9em;font-weight:400}body[data-page=home].is-icon-active #journals .journal-item:first-of-type h1.title:before,body[data-page=all-journals].is-icon-active #journals .journal-item:first-of-type h1.title:before{display:none}.is-icon-active #main-content-container .page-title .page-icon{display:none}#banner-widgets{width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end}#banner-widgets:before{display:none;content:"";position:absolute;left:0;top:0;width:calc(var(--widgetsCalendarWidth) * .93);height:100%;background-color:rgba(var(--widgetsBgColor),.8);filter:drop-shadow(0px 1px 10px rgba(var(--widgetsTextColor),.4))}#banner-widgets.banner-widgets-bg:before{display:block}#banner-widgets iframe{margin:0}#banner-widgets-calendar{position:absolute;top:0;left:2px;transform:scale(.9) translate(-5%,-5%)}#banner-widgets-calendar .logseq-block-calendar{width:var(--widgetsCalendarWidth);overflow:hidden;color:rgb(var(--widgetsTextColor));background-color:transparent;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;text-shadow:1px 1px 0px rgba(var(--widgetsBgColor),.8);font-weight:700}#banner-widgets-calendar .calendar-month{padding-left:8px}#banner-widgets-calendar .calendar-nav{padding:0 8px 0 0}#banner-widgets-calendar .logseq-block-calendar th{border:0}#banner-widgets-calendar .calendar-head td{padding:2px 0;font-size:16px;border:0}#banner-widgets-calendar .calendar-day{display:block;padding:0 10px;height:1.8rem;opacity:1;transition:none}#banner-widgets-calendar .calendar-day-today{background-color:rgba(var(--widgetsBgColor),.5)}#banner-widgets-calendar .calendar-day:hover{background-color:rgba(var(--widgetsBgColor),.2)}#banner-widgets-weather{position:absolute;bottom:0;left:0;display:flex;align-items:center;width:calc(var(--widgetsCalendarWidth) * .93);padding:0 10px;text-shadow:1px 1px 0px rgba(var(--widgetsBgColor),.8);line-height:1.2;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}#banner-widgets-weather .weather_dailyForecastContainerWithDots{margin-bottom:32px!important}#banner-widgets-weather .weather_text{font-size:.8em!important;text-align:center;word-break:keep-all;color:rgba(var(--widgetsTextColor))!important}#banner-widgets-weather .weather_dailyContainer .weather_text{display:inline}#banner-widgets-weather .weather_row{align-items:center}#banner-widgets-weather>.weather_currentContainer{justify-content:flex-end!important;margin-right:8px!important}#banner-widgets-weather .weather_currentContainer>.weather_currentContainer{flex:initial!important}#banner-widgets-weather .weather_degreeRow{display:flex;flex-direction:row;flex-wrap:nowrap}#banner-widgets-weather .col-xl{white-space:nowrap}#banner-widgets-weather .col-xl:last-child:before{content:"\\a0("}#banner-widgets-weather .col-xl:last-child:after{content:")"}#banner-widgets-weather .weather_dailyContainer .weather_image{width:32px;height:32px}#banner-widgets-weather .weather_text+div{overflow:hidden;height:20px;display:flex;justify-content:center;align-items:center}#banner-widgets-weather .weather_currentContainer>.weather_currentContainer .weather_image{max-width:50px!important;margin-right:0!important}#banner-widgets-quote{position:relative;max-width:calc(100% - var(--widgetsCalendarWidth));margin:6px 8px;filter:drop-shadow(0px 0px 2px rgba(var(--widgetsTextColor),.2)) drop-shadow(-2px -2px 0px rgba(var(--widgetsBgColor),.8))}#banner-widgets-quote:before{--widgetsQuoteIcon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M3.7 6.3C5 4.8 7.2 4 10 4h1v2.8l-.8.2c-1.4.3-2.3.8-2.8 1.6a2.9 2.9 0 0 0-.5 1.4H10a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H3a1 1 0 0 1-1-1v-8s-.2-2.7 1.7-4.7zM20 20h-6a1 1 0 0 1-1-1v-8s-.2-2.7 1.7-4.7C16 4.8 18.2 4 21 4h1v2.8l-.8.2c-1.4.3-2.3.8-2.8 1.6a2.9 2.9 0 0 0-.5 1.4H21a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2z'/%3E%3C/svg%3E");display:block;content:"";position:absolute;top:-18px;left:-10px;z-index:1;width:30px;height:30px;-webkit-mask:var(--widgetsQuoteIcon) no-repeat 50% 50%;mask:var(--widgetsQuoteIcon) no-repeat 50% 50%;-webkit-mask-size:cover;mask-size:cover;background-color:rgba(var(--widgetsTextColor),.9)}#banner-widgets-quote-block{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:7;-webkit-box-orient:vertical;font-family:Fira Sans Condensed,sans-serif;font-size:calc(var(--widgetsQuoteFS) * .8);text-align:right;border-radius:6px;background-color:rgba(var(--widgetsBgColor),.7)}@media (min-width: 1024px){#banner-widgets-quote-block{font-size:var(--widgetsQuoteFS)}}#banner-widgets-quote-link{display:block;padding:6px 12px;color:var(--ls-primary-text-color)}#banner-widgets-quote-text{max-width:var(--widgetsQuoteMaxWidth, 48ch);font-size:var(--widgetsQuoteSize, 100%);line-height:1.2em}#banner-widgets-pomo{width:182px;height:110px;position:absolute;right:0;top:0;border-radius:0 0 0 6px;filter:saturate(.3) brightness(.9) opacity(.6);transform:scale(.8) translate(23px,-14px)}
`,Ei={id:"logseq-banners-plugin",title:"Banners",icon:"./logo.png"},We=Ei.id;let be,Ae,gt,Dt,it,Bn,Hn,ye,gr,ae,mr,_r,xr,oo,yr;const Oi=["banner","banner-align","page-icon","icon"],Ti="https://wallpaperaccess.com/full/1146672.jpg",Ii="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1034&q=80",Pi='<iframe id="banner-widgets-pomo" src="https://pomofocus.io/app"></iframe>',Li=[/\n[^:]+::[^\n]*/g,/\nDEADLINE:\s+<[^>]+>/g,/\nSCHEDULED:\s+<[^>]+>/g,/\n:LOGBOOK:(.|\n)*?:END:/g,/#\[\[[^\]\n]+\]\]\s*/g,/#[^\s\n]+(\s|\n)*/g,/!\[[^\]\n]+\]\([^\]]+\)/g],Mi=[{key:"generalHeading",title:"⚙ General settings",description:"",type:"heading",default:null},{key:"hidePluginProps",title:"",description:"Hide plugin related page props? (will be shown only on edit)",type:"boolean",default:!0},{key:"widgetsCalendarHeading",title:"📅 Widgets: calendar",description:"",type:"heading",default:null},{key:"widgetsCalendarEnabled",title:"Show calendar?",description:"⚠ check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"journals"},{key:"widgetsCalendarWidth",title:"Block calendar widget width (in px)",description:"",type:"string",default:"380px"},{key:"widgetsWeatherHeading",title:"⛅ Widgets: weather",description:"",type:"heading",default:null},{key:"widgetsWeatherEnabled",title:"Show weather?",description:"⚠ check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"journals"},{key:"widgetsWeatherID",title:"Weather ID",description:"",type:"string",default:"7QOWaH4IPGGaAr4puql2"},{key:"widgetsQuoteHeading",title:"💬 Widgets: quote",description:"",type:"heading",default:null},{key:"widgetsQuoteEnabled",title:"Show random #quote?",description:"⚠ check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"journals"},{key:"widgetsQuoteTag",title:"Show random quotes with this tag (case sensitive!)",description:"",type:"string",default:"#quote"},{key:"widgetsQuoteMaxWidth",title:"Quote width limit (in chars)",description:"",type:"string",default:"48ch"},{key:"widgetsQuoteSize",title:"Quote font size (relative to default calculated, in %)",description:"",type:"string",default:"100%"},{key:"widgetsCustomHeading",title:"📊 Widgets: custom",description:"",type:"heading",default:null},{key:"widgetsCustomEnabled",title:"Show custom?",description:"⚠ check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"everywhere"},{key:"widgetsCustomCode",title:"",description:"Show custom HTML (iframe for ex.) as widget",type:"string",default:Pi},{key:"journalHeading",title:"📆 Journal and home settings",description:"",type:"heading",default:null},{key:"defaultJournalBanner",title:"Default banner for journal and home page (set empty to disable)",description:"",type:"string",default:Ii},{key:"journalBannerHeight",title:"Banner height for journal & home page",description:"",type:"string",default:"280px"},{key:"journalBannerAlign",title:"Default banner vertical align for journal and home page",description:"",type:"string",default:"50%"},{key:"defaultJournalIcon",title:"Default icon (emoji) for journal and home page (set empty to disable)",description:"",type:"string",default:"📅"},{key:"journalIconWidth",title:"Icon width for journal & home page (in px)",description:"",type:"string",default:"50px"},{key:"pageHeading",title:"📄 Common page settings",description:"",type:"heading",default:null},{key:"defaultPageBanner",title:"Default banner for common page (set empty to disable)",description:"",type:"string",default:Ti},{key:"pageBannerHeight",title:"Banner height for common page",description:"",type:"string",default:"280px"},{key:"pageBannerAlign",title:"Default banner vertical align for common page",description:"",type:"string",default:"50%"},{key:"defaultPageIcon",title:"Default icon (emoji) for common page (set empty to disable)",description:"",type:"string",default:"📄"},{key:"pageIconWidth",title:"Icon width for common page (in px)",description:"",type:"string",default:"40px"},{key:"advancedHeading",title:"☢️ Advanced settings",description:"",type:"heading",default:null},{key:"customPropsConfig",title:"Custom pages banners and icons config",description:"",type:"object",default:{pageType:{evrgrn:{pageIcon:"🌳",banner:"https://images.unsplash.com/photo-1502082553048-f009c37129b9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",bannerHeight:"200px",bannerAlign:"50%"},seed:{pageIcon:"🌱",banner:"https://images.unsplash.com/photo-1631949454967-6c6d07fb59cd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",bannerHeight:"200px",bannerAlign:"50%"}},anotherCamalCasedPropName:{}}},{key:"additional",title:"A set of additional settings intended for more sensitive plugin tuning",description:"",type:"object",default:{quoteWidget:{cleanupRegExps_before:[],cleanupRegExps_after:[]}}}],Fi=()=>{logseq.provideStyle(Ai)},io=()=>{ua()},ao=()=>{_r=!1,xr=!1,mr={...ae},ae={calendar:{},weather:{},quote:{},custom:{}},ye={page:{},journal:{}},logseq.settings&&({hidePluginProps:oo,widgetsCalendarEnabled:ae.calendar.enabled,widgetsCalendarWidth:ae.calendar.width,widgetsWeatherEnabled:ae.weather.enabled,widgetsWeatherID:ae.weather.id,widgetsQuoteEnabled:ae.quote.enabled,widgetsQuoteTag:ae.quote.tag,widgetsQuoteMaxWidth:ae.quote.maxwidth,widgetsQuoteSize:ae.quote.size,widgetsCustomEnabled:ae.custom.enabled,widgetsCustomCode:ae.custom.code,defaultPageBanner:ye.page.banner,pageBannerHeight:ye.page.bannerHeight,pageBannerAlign:ye.page.bannerAlign,defaultPageIcon:ye.page.pageIcon,pageIconWidth:ye.page.iconWidth,defaultJournalBanner:ye.journal.banner,journalBannerHeight:ye.journal.bannerHeight,journalBannerAlign:ye.journal.bannerAlign,defaultJournalIcon:ye.journal.pageIcon,journalIconWidth:ye.journal.iconWidth,customPropsConfig:gr,additional:yr}=logseq.settings),Ri()},Ni=()=>{ae.custom.code!==mr.custom.code&&(_r=!0),ae.weather.id!==mr.weather.id&&(xr=!0)},to=async l=>{let A;try{A=await fetch(l)}catch{return""}const Q=await A.blob();return new Promise(re=>{const R=new FileReader;R.readAsDataURL(Q),R.onloadend=()=>{const fe=R.result;re(fe)}})},Ri=async()=>{ye.page.banner&&!ye.page.banner?.includes("source.unsplash.com")&&(ye.page.banner=await to(br(ye.page.banner))),ye.journal.banner&&!ye.journal.banner?.includes("source.unsplash.com")&&(ye.journal.banner=await to(br(ye.journal.banner)))},no=l=>{const A=document.createElement("canvas");A.height=1,A.width=1;const Q=A.getContext("2d");Q.fillStyle=l,Q.fillRect(0,0,1,1);const re=Q.getImageData(0,0,1,1).data;return`${re[0]}, ${re[1]}, ${re[2]}`},so=()=>{const l=getComputedStyle(top.document.documentElement).getPropertyValue("--ls-primary-text-color").trim();Ae.style.setProperty("--widgetsTextColor",no(l));const A=getComputedStyle(top.document.documentElement).getPropertyValue("--ls-primary-background-color").trim();Ae.style.setProperty("--widgetsBgColor",no(A))},Di=()=>{const l=be.getElementsByClassName("page-property-key");if(l?.length)for(let A=0;A<l.length;A++){const Q=l[A].textContent;Q&&Oi.includes(Q)&&(l[A].parentElement.parentElement.style.display=oo?"none":"block")}},$i=()=>{Bn=!1,it=!1;const l=gt.getAttribute("data-page");(l==="home"||l==="all-journals")&&(it=!0,Bn=!1),l==="page"&&(Bn=!0,it=!1)},Bi=async()=>{let l={...ye.journal},A={};if(it)return console.debug(`#${We}: Homepage`),l;const Q=await Hi();if(Dt=Q["journal?"],Dt)return console.debug(`#${We}: Journal page`),l;if(console.debug(`#${We}: Trying page props`),A=Q.properties,A){const re=zi(A);l={...ye.page,...re,...A}}else console.debug(`#${We}: Default page`),l={...ye.page};return Q.name&&(l.title=Q.name.split(" ").slice(0,3).join("-").replace(/[\])}[{(]/g,"")),console.debug(`#${We}: pageAssetsData -- `,l),l},Hi=async()=>{let l=null;if(l=await logseq.Editor.getCurrentPage(),l){const A=l.page?.id;A&&(l=null,l=await logseq.Editor.getPage(A))}return l},zi=l=>{console.info(`#${We}: Trying custom JSON settings`);let A={};for(const Q of Object.keys(gr)){const re=l?.[Q];if(re){const R=Array.isArray(re)?re[0]:re;R&&(A=gr?.[Q]?.[R])}}return A},br=l=>(l=l.replace(/^"(.*)"$/,"$1"),l.startsWith("../")&&(l=encodeURI("file://"+Hn?.path+l.replace("..",""))),l),Ui=async l=>l.banner?(gt.classList.add("is-banner-active"),Ae.style.setProperty("--bannerHeight",`${l.bannerHeight}`),Ae.style.setProperty("--bannerAlign",`${l.bannerAlign}`),l.banner=br(l.banner),Ae.style.setProperty("--pageBanner",`url(${l.banner})`),!0):(vr(),!1),qi=async l=>{const A=l.icon||l.pageIcon;A?(gt.classList.add("is-icon-active"),Ae.style.setProperty("--iconWidth",`${l.iconWidth}`),Ae.style.setProperty("--pageIcon",`"${A}"`)):wr()},vr=()=>{gt.classList.remove("is-banner-active"),Ae.style.setProperty("--pageBanner",""),Ae.style.setProperty("--bannerHeight",""),Ae.style.setProperty("--bannerAlign","")},wr=()=>{gt.classList.remove("is-icon-active"),Ae.style.setProperty("--pageIcon",""),Ae.style.setProperty("--iconWidth","")};let lo,Cr;const Wi=()=>{lo={attributes:!0,attributeFilter:["class"],attributeOldValue:!0,subtree:!0};const l=function(A){for(let Q=0;Q<A.length;Q++){if(A[Q].oldValue?.includes("pre-block")){console.info(`#${We}: page props - deleted`),fn();return}A[Q]?.target?.offsetParent?.classList.contains("pre-block")&&A[Q].oldValue==="editor-wrapper"&&(console.info(`#${We}: page props - edited or added`),fn())}};Cr=new MutationObserver(l)},co=()=>{const l=be.getElementsByClassName("content")[0]?.firstChild?.firstChild?.firstChild?.firstChild;l&&Cr.observe(l,lo)},Gi=()=>{Cr.disconnect()},Qi=()=>{console.debug(`#${We}: page route changed`),Gi(),fn(),setTimeout(()=>{co()},200)},Ji=()=>{ao(),io(),Ni(),fn()},Vi=()=>{setTimeout(()=>{so()},300)},Zi=async()=>{Hn=await logseq.App.getCurrentGraph()},Ki=()=>{top.document.getElementById("banner")?.remove(),gt.classList.remove("is-banner-active"),gt.classList.remove("is-icon-active")},Yi=()=>{if(!be.getElementById("banner")){const l=be.getElementById("main-content-container");l&&l.insertAdjacentHTML("afterbegin",`<div id="banner">
          <div id="banner-widgets">
            <div id="banner-widgets-calendar"></div>
          </div>
        </div>`)}},Xi=()=>{be.getElementById("banner").style.display="block"},ea=()=>{be.getElementById("banner").style.display="none"},ta=async()=>{const l=na(),A=await ra();l||A?be.getElementById("banner-widgets")?.classList.add("banner-widgets-bg"):be.getElementById("banner-widgets")?.classList.remove("banner-widgets-bg"),ia(),ca()},na=()=>{const l=be.getElementById("banner-widgets-calendar");return ae.calendar.enabled==="off"||ae.calendar.enabled==="journals"&&!(it||Dt)?(l.style.display="none",!1):(l.style.display="block",!0)},ra=async()=>{const l=be.getElementById("banner-widgets-weather");if(ae.weather.enabled==="off"||ae.weather.enabled==="journals"&&!(it||Dt))return l?.remove(),!1;if(!l||xr){l?.remove();const A=await oa();be.getElementById("banner-widgets")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-weather">${A}</div>`)}return!0},oa=async()=>{const l=`https://indify.co/widgets/live/weather/${ae.weather.id}`;let A="";const Q=await fetch(l);if(Q&&Q.status===200){if(A=await Q.text(),A){A=A.replace(/src="/g,'src="https://indify.co').replace(/flex-dir/g,"display:flex;flex-dir").replace(/__...../g,"");const R=new DOMParser().parseFromString(A,"text/html");R.getElementById("weatherTemp")?.remove(),A=R.querySelector("[class^=weather_container]")?.innerHTML||""}}else console.info(`#${We}: HTTP-Error: ${Q.status}`);return A},ia=async()=>{if(ae.quote.enabled==="off"||ae.quote.enabled==="journals"&&!(it||Dt)){be.getElementById("banner-widgets-quote")?.remove();return}const l=await la();if(!l){be.getElementById("banner-widgets-quote")?.remove();return}Ae.style.setProperty("--widgetsQuoteFS",aa(l.length)),Ae.style.setProperty("--widgetsQuoteSize",ae.quote.size),Ae.style.setProperty("--widgetsQuoteMaxWidth",ae.quote.maxwidth);const A=be.getElementById("banner-widgets-quote-text");A?(A.remove(),be.getElementById("banner-widgets-quote-block")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-quote-text">${l}</div>`)):be.getElementById("banner-widgets")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-quote"><div id="banner-widgets-quote-block"><div id="banner-widgets-quote-text">${l}</div></div></div>`)},aa=l=>l>200?"1.2em":l>150?"1.25em":"1.3em",sa=async(l,A,Q)=>{const re=[];l.replace(A,(fe,...z)=>(re.push(Q(fe,z)),fe));const R=await Promise.all(re);return l.replace(A,()=>R.shift())},ro=l=>{const A=ae.quote.tag.replace("#","");let Q=yr?.quoteWidget?.cleanupRegExps_before||[];for(const R of Q)l=l.replaceAll(new RegExp(R,"g"),"").trim();const re=new RegExp(`#${A}\\b`,"gi");l=l.replaceAll(re,"").trim();for(const R of Li)l=l.replaceAll(R,"").trim();l=l.replaceAll(/\*\*(.*?)\*\*/g,"<b>$1</b>").replaceAll(/__(.*?)__/g,"<b>$1</b>"),l=l.replaceAll(/\*(.*?)\*/g,"<i>$1</i>").replaceAll(/_(.*?)_/g,"<i>$1</i>"),l=l.replaceAll(/==(.*?)==/g,"<mark>$1</mark>").replaceAll(/\^\^(.*?)\^\^/g,"<mark>$1</mark>"),l=l.replaceAll(/~~(.*?)~~/g,"<s>$1</s>"),l=l.replaceAll(/`(.*?)`/g,"<code>$1</code>"),l=l.replaceAll(/\[\[(.*?)\]\]/g,"$1"),l=l.replaceAll(/\[([^\]\n]+)\]\([^\]]+\)/g,"$1"),l=l.replaceAll(`
`,"<br/>"),Q=yr?.quoteWidget?.cleanupRegExps_after||[];for(const R of Q)l=l.replaceAll(new RegExp(R,"g"),"").trim();return l},la=async()=>{const A=`[
    :find ?content ?block-id
    :where
      [?b :block/refs ?r]
      [?r :block/name "${ae.quote.tag.replace("#","")}"]
      (not (?b :block/marker))

      [?b :block/uuid ?block-uuid]
      [(str ?block-uuid) ?block-id]

      [?b :block/content ?content]
  ]`,Q=await logseq.DB.datascriptQuery(A);if(!Q.length)return null;const re=Q[Math.floor(Math.random()*Q.length)];let R=re[0];R=await sa(R,/\(\((\w{8}-\w{4}-\w{4}-\w{4}-\w{12})\)\)/g,async(f,[S])=>{const P=`[
        :find ?content
        :where
          [?b :block/uuid #uuid "${S}"]
          [?b :block/content ?content]
      ]`,k=await logseq.DB.datascriptQuery(P);return k.length?ro(k[0][0]):f}),R=ro(R);const fe=re[1];return R=`<a href=${encodeURI(`logseq://graph/${Hn?.name}?block-id=${fe}`)} id="banner-widgets-quote-link">${R}</a>`,R},ca=async()=>{const l=be.getElementById("banner-widgets-custom");if(ae.custom.enabled==="off"||ae.custom.enabled==="journals"&&!(it||Dt)){l?.remove();return}(!l||_r)&&be.getElementById("banner-widgets")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-custom">${ae.custom.code}</div>`)},ua=()=>{setTimeout(()=>{so()},500),Ae.style.setProperty("--widgetsCalendarWidth",ae.calendar.width)},fn=async()=>{if($i(),!(it||Bn)){vr(),wr();return}Di();let l=null;if(l=await Bi(),l){if(!l.banner||l.banner==="false"||l.banner==="off"||l.banner==="none"||l.banner==='""'||l.banner==="''"){vr(),wr();return}await Ui(l)&&(qi(l),ta(),Xi())}},da=async()=>{console.info(`#${We}: Loaded`),Hn=await logseq.App.getCurrentGraph(),logseq.useSettingsSchema(Mi),be=top.document,Ae=be.documentElement,gt=be.body,Fi(),Yi(),ea(),setTimeout(()=>{ao(),io(),fn()},500),Wi(),setTimeout(()=>{co(),logseq.App.onRouteChanged(async()=>{Qi()}),logseq.onSettingsChanged(()=>{Ji()}),logseq.App.onThemeModeChanged(()=>{Vi()}),logseq.App.onCurrentGraphChanged(()=>{Zi()}),logseq.beforeunload(async()=>{Ki()})},4e3)},pa=l=>{l?.ready(da).catch(console.error)};pa(logseq);
