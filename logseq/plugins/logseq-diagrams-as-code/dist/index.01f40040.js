var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequirec8af;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequirec8af=i),i.register("cVm5l",(function(t,n){var i;self,i=()=>(()=>{var i={227:(e,t,n)=>{var i=n(155);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(a=i))})),t.splice(a,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(447)(t);const{formatters:a}=e.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},447:(e,t,n)=>{e.exports=function(e){function t(e){let n,a=null;function r(...e){if(!r.enabled)return;const i=r,a=Number(new Date),s=a-(n||a);i.diff=s,i.prev=n,i.curr=a,n=a,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,a)=>{if("%%"===n)return"%";o++;const r=t.formatters[a];if("function"==typeof r){const t=e[o];n=r.call(i,t),e.splice(o,1),o--}return n})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return r.namespace=e,r.useColors=t.useColors(),r.color=t.selectColor(e),r.extend=i,r.destroy=t.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:()=>null===a?t.enabled(e):a,set:e=>{a=e}}),"function"==typeof t.init&&t.init(r),r}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(a),...t.skips.map(a).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),a=i.length;for(n=0;n<a;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},856:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e,i,a){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,n,i){var a=[null];a.push.apply(a,n);var r=new(Function.bind.apply(e,a));return i&&t(r,i.prototype),r}).apply(null,arguments)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=Object.hasOwnProperty,s=Object.setPrototypeOf,o=Object.isFrozen,l=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,d=Object.freeze,h=Object.seal,u=Object.create,m="undefined"!=typeof Reflect&&Reflect,p=m.apply,f=m.construct;p||(p=function(e,t,n){return e.apply(t,n)}),d||(d=function(e){return e}),h||(h=function(e){return e}),f||(f=function(e,t){return n(e,i(t))});var g,_=A(Array.prototype.forEach),b=A(Array.prototype.pop),y=A(Array.prototype.push),w=A(String.prototype.toLowerCase),x=A(String.prototype.match),v=A(String.prototype.replace),k=A(String.prototype.indexOf),E=A(String.prototype.trim),S=A(RegExp.prototype.test),C=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(g,t)});function A(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return p(e,t,i)}}function N(e,t){s&&s(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var a=w(i);a!==i&&(o(t)||(t[n]=a),i=a)}e[i]=!0}return e}function T(e){var t,n=u(null);for(t in e)p(r,e,[t])&&(n[t]=e[t]);return n}function M(e,t){for(;null!==e;){var n=c(e,t);if(n){if(n.get)return A(n.get);if("function"==typeof n.value)return A(n.value)}e=l(e)}return function(e){return console.warn("fallback value for",e),null}}var z=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),L=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=d(["#text"]),D=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=h(/<%[\w\W]*|[\w\W]*%>/gm),H=h(/^data-[\-\w.\u00B7-\uFFFF]/),Z=h(/^aria-[\-\w]+$/),W=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=h(/^(?:\w+script|data):/i),G=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=h(/^html$/i);return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,a=function(e){return t(e)};if(a.version="2.3.8",a.removed=[],!n||!n.document||9!==n.document.nodeType)return a.isSupported=!1,a;var r=n.document,s=n.document,o=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,h=n.Element,u=n.NodeFilter,m=n.NamedNodeMap,p=void 0===m?n.NamedNodeMap||n.MozNamedAttrMap:m,f=n.HTMLFormElement,g=n.DOMParser,A=n.trustedTypes,K=h.prototype,X=M(K,"cloneNode"),Q=M(K,"nextSibling"),Y=M(K,"childNodes"),ee=M(K,"parentNode");if("function"==typeof l){var te=s.createElement("template");te.content&&te.content.ownerDocument&&(s=te.content.ownerDocument)}var ne=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var i=null,a="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(a)&&(i=n.currentScript.getAttribute(a));var r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(A,r),ie=ne?ne.createHTML(""):"",ae=s,re=ae.implementation,se=ae.createNodeIterator,oe=ae.createDocumentFragment,le=ae.getElementsByTagName,ce=r.importNode,de={};try{de=T(s).documentMode?s.documentMode:{}}catch(e){}var he={};a.isSupported="function"==typeof ee&&re&&void 0!==re.createHTMLDocument&&9!==de;var ue,me,pe=q,fe=$,ge=H,_e=Z,be=V,ye=G,we=W,xe=null,ve=N({},[].concat(i(z),i(R),i(P),i(O),i(I))),ke=null,Ee=N({},[].concat(i(D),i(F),i(j),i(U))),Se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Ae=null,Ne=!0,Te=!0,Me=!1,ze=!1,Re=!1,Pe=!1,Be=!1,Oe=!1,Le=!1,Ie=!1,De=!0,Fe=!0,je=!1,Ue={},qe=null,$e=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),He=null,Ze=N({},["audio","video","img","source","image","track"]),We=null,Ve=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml",Xe=Ke,Qe=!1,Ye=["application/xhtml+xml","text/html"],et=null,tt=s.createElement("form"),nt=function(e){return e instanceof RegExp||e instanceof Function},it=function(t){et&&et===t||(t&&"object"===e(t)||(t={}),t=T(t),xe="ALLOWED_TAGS"in t?N({},t.ALLOWED_TAGS):ve,ke="ALLOWED_ATTR"in t?N({},t.ALLOWED_ATTR):Ee,We="ADD_URI_SAFE_ATTR"in t?N(T(Ve),t.ADD_URI_SAFE_ATTR):Ve,He="ADD_DATA_URI_TAGS"in t?N(T(Ze),t.ADD_DATA_URI_TAGS):Ze,qe="FORBID_CONTENTS"in t?N({},t.FORBID_CONTENTS):$e,Ce="FORBID_TAGS"in t?N({},t.FORBID_TAGS):{},Ae="FORBID_ATTR"in t?N({},t.FORBID_ATTR):{},Ue="USE_PROFILES"in t&&t.USE_PROFILES,Ne=!1!==t.ALLOW_ARIA_ATTR,Te=!1!==t.ALLOW_DATA_ATTR,Me=t.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=t.SAFE_FOR_TEMPLATES||!1,Re=t.WHOLE_DOCUMENT||!1,Oe=t.RETURN_DOM||!1,Le=t.RETURN_DOM_FRAGMENT||!1,Ie=t.RETURN_TRUSTED_TYPE||!1,Be=t.FORCE_BODY||!1,De=!1!==t.SANITIZE_DOM,Fe=!1!==t.KEEP_CONTENT,je=t.IN_PLACE||!1,we=t.ALLOWED_URI_REGEXP||we,Xe=t.NAMESPACE||Ke,t.CUSTOM_ELEMENT_HANDLING&&nt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&nt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ue=ue=-1===Ye.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===ue?function(e){return e}:w,ze&&(Te=!1),Le&&(Oe=!0),Ue&&(xe=N({},i(I)),ke=[],!0===Ue.html&&(N(xe,z),N(ke,D)),!0===Ue.svg&&(N(xe,R),N(ke,F),N(ke,U)),!0===Ue.svgFilters&&(N(xe,P),N(ke,F),N(ke,U)),!0===Ue.mathMl&&(N(xe,O),N(ke,j),N(ke,U))),t.ADD_TAGS&&(xe===ve&&(xe=T(xe)),N(xe,t.ADD_TAGS)),t.ADD_ATTR&&(ke===Ee&&(ke=T(ke)),N(ke,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&N(We,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(qe===$e&&(qe=T(qe)),N(qe,t.FORBID_CONTENTS)),Fe&&(xe["#text"]=!0),Re&&N(xe,["html","head","body"]),xe.table&&(N(xe,["tbody"]),delete Ce.tbody),d&&d(t),et=t)},at=N({},["mi","mo","mn","ms","mtext"]),rt=N({},["foreignobject","desc","title","annotation-xml"]),st=N({},["title","style","font","a","script"]),ot=N({},R);N(ot,P),N(ot,B);var lt=N({},O);N(lt,L);var ct=function(e){y(a.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}},dt=function(e,t){try{y(a.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){y(a.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Oe||Le)try{ct(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ht=function(e){var t,n;if(Be)e="<remove></remove>"+e;else{var i=x(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===ue&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=ne?ne.createHTML(e):e;if(Xe===Ke)try{t=(new g).parseFromString(a,ue)}catch(e){}if(!t||!t.documentElement){t=re.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Qe?"":a}catch(e){}}var r=t.body||t.documentElement;return e&&n&&r.insertBefore(s.createTextNode(n),r.childNodes[0]||null),Xe===Ke?le.call(t,Re?"html":"body")[0]:Re?t.documentElement:r},ut=function(e){return se.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},mt=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},pt=function(e,t,n){he[e]&&_(he[e],(function(e){e.call(a,t,n,et)}))},ft=function(e){var t;if(pt("beforeSanitizeElements",e,null),function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)}(e))return ct(e),!0;if(S(/[\u0080-\uFFFF]/,e.nodeName))return ct(e),!0;var n=me(e.nodeName);if(pt("uponSanitizeElement",e,{tagName:n,allowedTags:xe}),e.hasChildNodes()&&!mt(e.firstElementChild)&&(!mt(e.content)||!mt(e.content.firstElementChild))&&S(/<[/\w]/g,e.innerHTML)&&S(/<[/\w]/g,e.textContent))return ct(e),!0;if("select"===n&&S(/<template/i,e.innerHTML))return ct(e),!0;if(!xe[n]||Ce[n]){if(!Ce[n]&&_t(n)){if(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,n))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))return!1}if(Fe&&!qe[n]){var i=ee(e)||e.parentNode,r=Y(e)||e.childNodes;if(r&&i)for(var s=r.length-1;s>=0;--s)i.insertBefore(X(r[s],!0),Q(e))}return ct(e),!0}return e instanceof h&&!function(e){var t=ee(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});var n=w(e.tagName),i=w(t.tagName);return e.namespaceURI===Je?t.namespaceURI===Ke?"svg"===n:t.namespaceURI===Ge?"svg"===n&&("annotation-xml"===i||at[i]):Boolean(ot[n]):e.namespaceURI===Ge?t.namespaceURI===Ke?"math"===n:t.namespaceURI===Je?"math"===n&&rt[i]:Boolean(lt[n]):e.namespaceURI===Ke&&!(t.namespaceURI===Je&&!rt[i])&&!(t.namespaceURI===Ge&&!at[i])&&!lt[n]&&(st[n]||!ot[n])}(e)?(ct(e),!0):"noscript"!==n&&"noembed"!==n||!S(/<\/no(script|embed)/i,e.innerHTML)?(ze&&3===e.nodeType&&(t=e.textContent,t=v(t,pe," "),t=v(t,fe," "),e.textContent!==t&&(y(a.removed,{element:e.cloneNode()}),e.textContent=t)),pt("afterSanitizeElements",e,null),!1):(ct(e),!0)},gt=function(e,t,n){if(De&&("id"===t||"name"===t)&&(n in s||n in tt))return!1;if(Te&&!Ae[t]&&S(ge,t));else if(Ne&&S(_e,t));else if(!ke[t]||Ae[t]){if(!(_t(e)&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&S(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,n)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))))return!1}else if(We[t]);else if(S(we,v(n,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==k(n,"data:")||!He[e])if(Me&&!S(be,v(n,ye,"")));else if(n)return!1;return!0},_t=function(e){return e.indexOf("-")>0},bt=function(e){var t,n,i,r;pt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(r=s.length;r--;){var l=t=s[r],c=l.name,d=l.namespaceURI;if(n="value"===c?t.value:E(t.value),i=me(c),o.attrName=i,o.attrValue=n,o.keepAttr=!0,o.forceKeepAttr=void 0,pt("uponSanitizeAttribute",e,o),n=o.attrValue,!o.forceKeepAttr&&(dt(c,e),o.keepAttr))if(S(/\/>/i,n))dt(c,e);else{ze&&(n=v(n,pe," "),n=v(n,fe," "));var h=me(e.nodeName);if(gt(h,i,n))try{d?e.setAttributeNS(d,c,n):e.setAttribute(c,n),b(a.removed)}catch(e){}}}pt("afterSanitizeAttributes",e,null)}},yt=function e(t){var n,i=ut(t);for(pt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)pt("uponSanitizeShadowNode",n,null),ft(n)||(n.content instanceof o&&e(n.content),bt(n));pt("afterSanitizeShadowDOM",t,null)};return a.sanitize=function(t,i){var s,l,d,h,u;if((Qe=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!mt(t)){if("function"!=typeof t.toString)throw C("toString is not a function");if("string"!=typeof(t=t.toString()))throw C("dirty is not a string, aborting")}if(!a.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(mt(t))return n.toStaticHTML(t.outerHTML)}return t}if(Pe||it(i),a.removed=[],"string"==typeof t&&(je=!1),je){if(t.nodeName){var m=me(t.nodeName);if(!xe[m]||Ce[m])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(l=(s=ht("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!Oe&&!ze&&!Re&&-1===t.indexOf("<"))return ne&&Ie?ne.createHTML(t):t;if(!(s=ht(t)))return Oe?null:Ie?ie:""}s&&Be&&ct(s.firstChild);for(var p=ut(je?t:s);d=p.nextNode();)3===d.nodeType&&d===h||ft(d)||(d.content instanceof o&&yt(d.content),bt(d),h=d);if(h=null,je)return t;if(Oe){if(Le)for(u=oe.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return ke.shadowroot&&(u=ce.call(r,u,!0)),u}var f=Re?s.outerHTML:s.innerHTML;return Re&&xe["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&S(J,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),ze&&(f=v(f,pe," "),f=v(f,fe," ")),ne&&Ie?ne.createHTML(f):f},a.setConfig=function(e){it(e),Pe=!0},a.clearConfig=function(){et=null,Pe=!1},a.isValidAttribute=function(e,t,n){et||it({});var i=me(e),a=me(t);return gt(i,a,n)},a.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],y(he[e],t))},a.removeHook=function(e){if(he[e])return b(he[e])},a.removeHooks=function(e){he[e]&&(he[e]=[])},a.removeAllHooks=function(){he={}},a}()}()},729:e=>{var t=Object.prototype.hasOwnProperty,n="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(e,t,i,r,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new a(i,r||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,i,a=[];if(0===this._eventsCount)return a;for(i in e=this._events)t.call(e,i)&&a.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,r=i.length,s=new Array(r);a<r;a++)s[a]=i[a].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},o.prototype.emit=function(e,t,i,a,r,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],h=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,i),!0;case 4:return d.fn.call(d.context,t,i,a),!0;case 5:return d.fn.call(d.context,t,i,a,r),!0;case 6:return d.fn.call(d.context,t,i,a,r,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var u,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),h){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,i);break;case 4:d[c].fn.call(d[c].context,t,i,a);break;default:if(!l)for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return r(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return r(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,i,a){var r=n?n+e:e;if(!this._events[r])return this;if(!t)return s(this,r),this;var o=this._events[r];if(o.fn)o.fn!==t||a&&!o.once||i&&o.context!==i||s(this,r);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||i&&o[l].context!==i)&&c.push(o[l]);c.length?this._events[r]=1===c.length?c[0]:c:s(this,r)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},824:e=>{var t=1e3,n=60*t,i=60*n,a=24*i;function r(e,t,n,i){var a=t>=1.5*n;return Math.round(e/n)+" "+i+(a?"s":"")}e.exports=function(e,s){s=s||{};var o,l,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&isFinite(e))return s.long?(o=e,(l=Math.abs(o))>=a?r(o,l,a,"day"):l>=i?r(o,l,i,"hour"):l>=n?r(o,l,n,"minute"):l>=t?r(o,l,t,"second"):o+" ms"):function(e){var r=Math.abs(e);return r>=a?Math.round(e/a)+"d":r>=i?Math.round(e/i)+"h":r>=n?Math.round(e/n)+"m":r>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},520:(e,t,n)=>{var i=n(155),a="win32"===i.platform,r=n(539);function s(e,t){for(var n=[],i=0;i<e.length;i++){var a=e[i];a&&"."!==a&&(".."===a?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(a))}return n}function o(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var i=t;i>=0&&!e[i];i--);return 0===n&&i===t?e:n>i?[]:e.slice(n,i+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,d={};function h(e){var t=l.exec(e),n=(t[1]||"")+(t[2]||""),i=t[3]||"",a=c.exec(i);return[n,a[1],a[2],a[3]]}function u(e){var t=l.exec(e),n=t[1]||"",i=!!n&&":"!==n[1];return{device:n,isUnc:i,isAbsolute:i||!!t[2],tail:t[3]}}function m(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}d.resolve=function(){for(var e="",t="",n=!1,a=arguments.length-1;a>=-1;a--){var o;if(a>=0?o=arguments[a]:e?(o=i.env["="+e])&&o.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(o=e+"\\"):o=i.cwd(),!r.isString(o))throw new TypeError("Arguments to path.resolve must be strings");if(o){var l=u(o),c=l.device,d=l.isUnc,h=l.isAbsolute,p=l.tail;if((!c||!e||c.toLowerCase()===e.toLowerCase())&&(e||(e=c),n||(t=p+"\\"+t,n=h),e&&n))break}}return d&&(e=m(e)),e+(n?"\\":"")+(t=s(t.split(/[\\\/]+/),!n).join("\\"))||"."},d.normalize=function(e){var t=u(e),n=t.device,i=t.isUnc,a=t.isAbsolute,r=t.tail,o=/[\\\/]$/.test(r);return(r=s(r.split(/[\\\/]+/),!a).join("\\"))||a||(r="."),r&&o&&(r+="\\"),i&&(n=m(n)),n+(a?"\\":"")+r},d.isAbsolute=function(e){return u(e).isAbsolute},d.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!r.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var i=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(i=i.replace(/^[\\\/]{2,}/,"\\")),d.normalize(i)},d.relative=function(e,t){e=d.resolve(e),t=d.resolve(t);for(var n=e.toLowerCase(),i=t.toLowerCase(),a=o(t.split("\\")),r=o(n.split("\\")),s=o(i.split("\\")),l=Math.min(r.length,s.length),c=l,h=0;h<l;h++)if(r[h]!==s[h]){c=h;break}if(0==c)return t;var u=[];for(h=c;h<r.length;h++)u.push("..");return(u=u.concat(a.slice(c))).join("\\")},d._makeLong=function(e){if(!r.isString(e))return e;if(!e)return"";var t=d.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},d.dirname=function(e){var t=h(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},d.basename=function(e,t){var n=h(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},d.extname=function(e){return h(e)[3]},d.format=function(e){if(!r.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!r.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,i=e.base||"";return n?n[n.length-1]===d.sep?n+i:n+d.sep+i:i},d.parse=function(e){if(!r.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=h(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},d.sep="\\",d.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f={};function g(e){return p.exec(e).slice(1)}f.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var a=n>=0?arguments[n]:i.cwd();if(!r.isString(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,t="/"===a[0])}return(t?"/":"")+(e=s(e.split("/"),!t).join("/"))||"."},f.normalize=function(e){var t=f.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=s(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},f.isAbsolute=function(e){return"/"===e.charAt(0)},f.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!r.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return f.normalize(e)},f.relative=function(e,t){e=f.resolve(e).substr(1),t=f.resolve(t).substr(1);for(var n=o(e.split("/")),i=o(t.split("/")),a=Math.min(n.length,i.length),r=a,s=0;s<a;s++)if(n[s]!==i[s]){r=s;break}var l=[];for(s=r;s<n.length;s++)l.push("..");return(l=l.concat(i.slice(r))).join("/")},f._makeLong=function(e){return e},f.dirname=function(e){var t=g(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},f.basename=function(e,t){var n=g(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},f.extname=function(e){return g(e)[3]},f.format=function(e){if(!r.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!r.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+f.sep:"")+(e.base||"")},f.parse=function(e){if(!r.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=g(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},f.sep="/",f.delimiter=":",e.exports=a?d:f,e.exports.posix=f,e.exports.win32=d},155:e=>{var t,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var o,l=[],c=!1,d=-1;function h(){c&&o&&(c=!1,o.length?l=o.concat(l):d=-1,l.length&&u())}function u(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(o=l,l=[];++d<t;)o&&o[d].run();d=-1,t=l.length}o=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||s(u)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},539:(e,t,n)=>{var i=n(155),a=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),l=i[n];n<r;l=i[++n])f(l)||!w(l)?s+=" "+l:s+=" "+o(l);return s},t.deprecate=function(e,a){if(b(n.g.process))return function(){return t.deprecate(e,a).apply(this,arguments)};if(!0===i.noDeprecation)return e;var r=!1;return function(){if(!r){if(i.throwDeprecation)throw new Error(a);i.traceDeprecation?console.trace(a):console.error(a),r=!0}return e.apply(this,arguments)}};var r,s={};function o(e,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&t._extend(i,n),b(i.showHidden)&&(i.showHidden=!1),b(i.depth)&&(i.depth=2),b(i.colors)&&(i.colors=!1),b(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),d(i,e,i.depth)}function l(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(i,e);return _(a)||(a=d(e,a,i)),a}var r=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):f(t)?e.stylize("null","null"):void 0}(e,n);if(r)return r;var s=Object.keys(n),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),v(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(v(n))return h(n)}var c,w="",E=!1,S=["{","}"];return m(n)&&(E=!0,S=["[","]"]),k(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),y(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),v(n)&&(w=" "+h(n)),0!==s.length||E&&0!=n.length?i<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,i,a){for(var r=[],s=0,o=t.length;s<o;++s)A(t,String(s))?r.push(u(e,t,n,i,String(s),!0)):r.push("");return a.forEach((function(a){a.match(/^\d+$/)||r.push(u(e,t,n,i,a,!0))})),r}(e,n,i,o,s):s.map((function(t){return u(e,n,i,o,t,E)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,S)):S[0]+w+S[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,n,i,a,r){var s,o,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),A(i,a)||(s="["+a+"]"),o||(e.seen.indexOf(l.value)<0?(o=f(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(o=r?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),b(s)){if(r&&a.match(/^\d+$/))return o;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function m(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function f(e){return null===e}function g(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===E(e)}function v(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function k(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(r)&&(r=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(r)){var n=i.pid;s[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else s[e]=function(){};return s[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=p,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=_,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=w,t.isDate=x,t.isError=v,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(717),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e].call(n.exports,n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{r.r(s),r.d(s,{LSPluginUser:()=>Ut,setupPluginUserInstance:()=>qt});var i=r(520);r(856);const a=function(e,t){return e===t||e!=e&&t!=t},o=function(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1};var l=Array.prototype.splice;function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():l.call(t,n,1),--this.size,0))},c.prototype.get=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]},c.prototype.has=function(e){return o(this.__data__,e)>-1},c.prototype.set=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};const d=c,h="object"==typeof e&&e&&e.Object===Object&&e;var u="object"==typeof self&&self&&self.Object===Object&&self;const m=h||u||Function("return this")(),p=m.Symbol;var f=Object.prototype,g=f.hasOwnProperty,_=f.toString,b=p?p.toStringTag:void 0,y=Object.prototype.toString,w=p?p.toStringTag:void 0;const x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?function(e){var t=g.call(e,b),n=e[b];try{e[b]=void 0;var i=!0}catch(e){}var a=_.call(e);return i&&(t?e[b]=n:delete e[b]),a}(e):function(e){return y.call(e)}(e)},v=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},k=function(e){if(!v(e))return!1;var t=x(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},E=m["__core-js_shared__"];var S,C=(S=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",A=Function.prototype.toString,N=/^\[object .+?Constructor\]$/,T=Function.prototype,M=Object.prototype,z=T.toString,R=M.hasOwnProperty,P=RegExp("^"+z.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const B=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){var t;return!(!v(e)||(t=e,C&&C in t))&&(k(e)?P:N).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0},O=B(m,"Map"),L=B(Object,"create");var I=Object.prototype.hasOwnProperty,D=Object.prototype.hasOwnProperty;function F(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}F.prototype.clear=function(){this.__data__=L?L(null):{},this.size=0},F.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},F.prototype.get=function(e){var t=this.__data__;if(L){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return I.call(t,e)?t[e]:void 0},F.prototype.has=function(e){var t=this.__data__;return L?void 0!==t[e]:D.call(t,e)},F.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=L&&void 0===t?"__lodash_hash_undefined__":t,this};const j=F,U=function(e,t){var n,i,a=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map};function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}q.prototype.clear=function(){this.size=0,this.__data__={hash:new j,map:new(O||d),string:new j}},q.prototype.delete=function(e){var t=U(this,e).delete(e);return this.size-=t?1:0,t},q.prototype.get=function(e){return U(this,e).get(e)},q.prototype.has=function(e){return U(this,e).has(e)},q.prototype.set=function(e,t){var n=U(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};const $=q;function H(e){var t=this.__data__=new d(e);this.size=t.size}H.prototype.clear=function(){this.__data__=new d,this.size=0},H.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},H.prototype.get=function(e){return this.__data__.get(e)},H.prototype.has=function(e){return this.__data__.has(e)},H.prototype.set=function(e,t){var n=this.__data__;if(n instanceof d){var i=n.__data__;if(!O||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new $(i)}return n.set(e,t),this.size=n.size,this};const Z=H,W=function(){try{var e=B(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),V=function(e,t,n){"__proto__"==t&&W?W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},G=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&V(e,t,n)};var J=n&&!n.nodeType&&n,K=J&&t&&!t.nodeType&&t,X=K&&K.exports===J?m.Buffer:void 0;X&&X.allocUnsafe;const Q=m.Uint8Array;var Y=Object.create;const ee=function(){function e(){}return function(t){if(!v(t))return{};if(Y)return Y(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),te=(ne=Object.getPrototypeOf,ie=Object,function(e){return ne(ie(e))});var ne,ie,ae=Object.prototype;const re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ae)},se=function(e){return null!=e&&"object"==typeof e},oe=function(e){return se(e)&&"[object Arguments]"==x(e)};var le=Object.prototype,ce=le.hasOwnProperty,de=le.propertyIsEnumerable;const he=oe(function(){return arguments}())?oe:function(e){return se(e)&&ce.call(e,"callee")&&!de.call(e,"callee")},ue=Array.isArray,me=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},pe=function(e){return null!=e&&me(e.length)&&!k(e)};var fe=n&&!n.nodeType&&n,ge=fe&&t&&!t.nodeType&&t,_e=ge&&ge.exports===fe?m.Buffer:void 0;const be=(_e?_e.isBuffer:void 0)||function(){return!1};var ye=Function.prototype,we=Object.prototype,xe=ye.toString,ve=we.hasOwnProperty,ke=xe.call(Object),Ee={};Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Arguments]"]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object Boolean]"]=Ee["[object DataView]"]=Ee["[object Date]"]=Ee["[object Error]"]=Ee["[object Function]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee["[object Object]"]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object WeakMap]"]=!1;var Se=n&&!n.nodeType&&n,Ce=Se&&t&&!t.nodeType&&t,Ae=Ce&&Ce.exports===Se&&h.process,Ne=function(){try{return Ce&&Ce.require&&Ce.require("util").types||Ae&&Ae.binding&&Ae.binding("util")}catch(e){}}(),Te=Ne&&Ne.isTypedArray;const Me=Te?function(e){return function(t){return e(t)}}(Te):function(e){return se(e)&&me(e.length)&&!!Ee[x(e)]},ze=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var Re=Object.prototype.hasOwnProperty;const Pe=function(e,t,n){var i=e[t];Re.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||V(e,t,n)};var Be=/^(?:0|[1-9]\d*)$/;const Oe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Be.test(e))&&e>-1&&e%1==0&&e<t};var Le=Object.prototype.hasOwnProperty,Ie=Object.prototype.hasOwnProperty;const De=function(e){return pe(e)?function(e,t){var n=ue(e),i=!n&&he(e),a=!n&&!i&&be(e),r=!n&&!i&&!a&&Me(e),s=n||i||a||r,o=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=o.length;for(var c in e)!t&&!Le.call(e,c)||s&&("length"==c||a&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Oe(c,l))||o.push(c);return o}(e,!0):function(e){if(!v(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=re(e),n=[];for(var i in e)("constructor"!=i||!t&&Ie.call(e,i))&&n.push(i);return n}(e)},Fe=function(e,t,n,i,a,r,s){var o,l=ze(e,n),c=ze(t,n),d=s.get(c);if(d)G(e,n,d);else{var h=r?r(l,c,n+"",e,t,s):void 0,u=void 0===h;if(u){var m=ue(c),p=!m&&be(c),f=!m&&!p&&Me(c);h=c,m||p||f?ue(l)?h=l:se(o=l)&&pe(o)?h=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(l):p?(u=!1,h=function(e,t){return e.slice()}(c)):f?(u=!1,h=function(e,t){var n,i,a=t?(i=new(n=e.buffer).constructor(n.byteLength),new Q(i).set(new Q(n)),i):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}(c,!0)):h=[]:function(e){if(!se(e)||"[object Object]"!=x(e))return!1;var t=te(e);if(null===t)return!0;var n=ve.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==ke}(c)||he(c)?(h=l,he(l)?h=function(e){return function(e,t,n,i){var a=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var o=t[r],l=void 0;void 0===l&&(l=e[o]),a?V(n,o,l):Pe(n,o,l)}return n}(e,De(e))}(l):v(l)&&!k(l)||(h=function(e){return"function"!=typeof e.constructor||re(e)?{}:ee(te(e))}(c))):u=!1}u&&(s.set(c,h),a(h,c,i,r,s),s.delete(c)),G(e,n,h)}},je=function e(t,n,i,a,r){t!==n&&function(e,t,n){for(var i=-1,a=Object(e),r=n(e),s=r.length;s--;){var o=r[++i];if(!1===t(a[o],o,a))break}}(n,(function(s,o){if(r||(r=new Z),v(s))Fe(t,n,o,i,e,a,r);else{var l=a?a(ze(t,o),s,o+"",t,n,r):void 0;void 0===l&&(l=s),G(t,o,l)}}),De)},Ue=function(e){return e};var qe=Math.max;const $e=W?function(e,t){var n;return W(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0})}:Ue;var He=Date.now;const Ze=function(e){var t=0,n=0;return function(){var i=He(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}($e),We=(Ve=function(e,t,n){je(e,t,n)},function(e,t){return Ze(function(e,t,n){return t=qe(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,r=qe(i.length-t,0),s=Array(r);++a<r;)s[a]=i[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=i[a];return o[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}(e,void 0,Ue),e+"")}((function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(r=Ve.length>3&&"function"==typeof r?(i--,r):void 0,s&&function(e,t,n){if(!v(n))return!1;var i=typeof t;return!!("number"==i?pe(n)&&Oe(t,n.length):"string"==i&&t in n)&&a(n[t],e)}(t[0],t[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var o=t[n];o&&Ve(e,o,n)}return e})));var Ve,Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Je(e){return e.toLowerCase()}Object.create,Object.create;var Ke=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Xe=/[^A-Z0-9]+/gi;function Qe(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}const Ye="win32"===navigator.platform.toLowerCase()?i.win32:i.posix,et=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,i=void 0===n?Ke:n,a=t.stripRegexp,r=void 0===a?Xe:a,s=t.transform,o=void 0===s?Je:s,l=t.delimiter,c=void 0===l?" ":l,d=Qe(Qe(e,i,"$1\0$2"),r,"\0"),h=0,u=d.length;"\0"===d.charAt(h);)h++;for(;"\0"===d.charAt(u-1);)u--;return d.slice(h,u).split("\0").map(o).join(c)}(e,Ge({delimiter:"."},t))}(e,Ge({delimiter:"_"},t))},tt=We;function nt(e,t){let n,i,a=!1;const r=t=>n=>{e&&clearTimeout(e),t(n),a=!0},s=new Promise(((a,s)=>{n=r(a),i=r(s),e&&(e=setTimeout((()=>i(new Error(`[deferred timeout] ${t}`))),e))}));return{created:Date.now(),setTag:e=>t=e,resolve:n,reject:i,promise:s,get settled(){return a}}}const it=new Map;window.__injectedUIEffects=it;var at=r(227),rt=r.n(at);const st="application/x-postmate-v1+json";let ot=0;const lt={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ct=(e,t)=>!("string"==typeof t&&e.origin!==t||!e.data||"object"==typeof e.data&&!("postmate"in e.data)||e.data.type!==st||!lt[e.data.postmate]);class dt{parent;frame;child;events={};childOrigin;listener;constructor(e){this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=e=>{if(!ct(e,this.childOrigin))return!1;const{data:t,name:n}=((e||{}).data||{}).value||{};"emit"===e.data.postmate&&n in this.events&&this.events[n].forEach((e=>{e.call(this,t)}))},this.parent.addEventListener("message",this.listener,!1)}get(e){return new Promise((t=>{const n=++ot,i=e=>{e.data.uid===n&&"reply"===e.data.postmate&&(this.parent.removeEventListener("message",i,!1),t(e.data.value))};this.parent.addEventListener("message",i,!1),this.child.postMessage({postmate:"request",type:st,property:e,uid:n},this.childOrigin)}))}call(e,t){this.child.postMessage({postmate:"call",type:st,property:e,data:t},this.childOrigin)}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class ht{model;parent;parentOrigin;child;constructor(e){this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",(e=>{if(!ct(e,this.parentOrigin))return;const{property:t,uid:n,data:i}=e.data;"call"!==e.data.postmate?((e,t)=>{const n="function"==typeof e[t]?e[t]():e[t];return Promise.resolve(n)})(this.model,t).then((i=>{e.source.postMessage({property:t,postmate:"reply",type:st,uid:n,value:i},e.origin)})):t in this.model&&"function"==typeof this.model[t]&&this.model[t](i)}))}emit(e,t){this.parent.postMessage({postmate:"emit",type:st,value:{name:e,data:t}},this.parentOrigin)}}class ut{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(e){this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const t=(e=>{const t=document.createElement("a");t.href=e;const n=t.protocol.length>4?t.protocol:window.location.protocol,i=t.host.length?"80"===t.port||"443"===t.port?t.hostname:t.host:window.location.host;return t.origin||`${n}//${i}`})(e=e||this.url);let n,i=0;return new Promise(((a,r)=>{const s=e=>!!ct(e,t)&&("handshake-reply"===e.data.postmate?(clearInterval(n),this.parent.removeEventListener("message",s,!1),this.childOrigin=e.origin,a(new dt(this))):r("Failed handshake"));this.parent.addEventListener("message",s,!1);const o=()=>{i++,this.child.postMessage({postmate:"handshake",type:st,model:this.model},t),5===i&&clearInterval(n)};this.frame.addEventListener("load",(()=>{o(),n=setInterval(o,500)})),this.frame.src=e}))}}class mt{child;model;parent;parentOrigin;constructor(e){this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise(((e,t)=>{const n=i=>{if(i.data.postmate){if("handshake"===i.data.postmate){this.child.removeEventListener("message",n,!1),i.source.postMessage({postmate:"handshake-reply",type:st},i.origin),this.parentOrigin=i.origin;const t=i.data.model;return t&&Object.keys(t).forEach((e=>{this.model[e]=t[e]})),e(new ht(this))}return t("Handshake Reply Failed")}};this.child.addEventListener("message",n,!1)}))}}var pt=r(729),ft=r.n(pt);const{importHTML:gt,createSandboxContainer:_t}=window.QSandbox||{};function bt(e,t){return e.startsWith("http")?fetch(e,t):(e=e.replace("file://",""),new Promise((async(t,n)=>{try{const n=await window.apis.doAction(["readFile",e]);t({text:()=>n})}catch(e){console.error(e),n(e)}})))}class yt extends(ft()){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(e){super(),this._pluginLocal=e,e._dispose((()=>{this._unmount()}))}async load(){const{name:e,entry:t}=this._pluginLocal.options;if(this.loaded||!t)return;const{template:n,execScripts:i}=await gt(t,{fetch:bt});this._mount(n,document.body);const a=_t(e,{elementGetter:()=>this._root?.firstChild}).instance.proxy;a.__shadow_mode__=!0,a.LSPluginLocal=this._pluginLocal,a.LSPluginShadow=this,a.LSPluginUser=a.logseq=new Ut(this._pluginLocal.toJSON(),this._pluginLocal.caller);const r=await i(a,!0);this._unmountFns.push(r.unmount),this._loaded=!0}_mount(e,t){const n=this._frame=document.createElement("div");n.classList.add("lsp-shadow-sandbox"),n.id=this._pluginLocal.id,this._root=n.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,t.appendChild(n),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const wt=rt()("LSPlugin:caller"),xt="#await#response#",vt="#lspmsg#error#",kt=e=>`#lspmsg#${e}`;class Et extends(ft()){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(e){super(),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const t=this,n=null!=this._pluginLocal;let i=0,a=0;const r=new Map,s=nt(5e3),o=this._extendUserModel({"#lspmsg#ready#":async e=>{o[kt(e?.pid)]=({type:e,payload:n})=>{wt(`[host (_call) -> *user] ${this._debugTag}`,e,n),t.emit(e,n)},await s.resolve()},"#lspmsg#beforeunload#":async e=>{const n=nt(1e4);t.emit("beforeunload",Object.assign({actor:n},e)),await n.promise},"#lspmsg#settings#":async({type:e,payload:n})=>{t.emit("settings:changed",n)},"#lspmsg#":async({ns:e,type:n,payload:i})=>{wt(`[host (async) -> *user] ${this._debugTag} ns=${e} type=${n}`,i),e&&e.startsWith("hook")?t.emit(`${e}:${n}`,i):t.emit(n,i)},"#lspmsg#reply#":({_sync:e,result:t})=>{if(wt(`[sync host -> *user] #${e}`,t),r.has(e)){const n=r.get(e);n&&(t?.hasOwnProperty(vt)?n.reject(t[vt]):n.resolve(t),r.delete(e))}},...e});if(n)return await s.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const l=new mt(o).sendHandshakeReply();return this._status="pending",await l.then((e=>{this._child=e,this._connected=!0,this._call=async(t,n={},i)=>{if(i){const e=++a;r.set(e,i),n._sync=e,i.setTag(`async call #${e}`),wt(`async call #${e}`)}return e.emit(kt(o.baseInfo.id),{type:t,payload:n}),i?.promise},this._callUserModel=async(e,t)=>{try{o[e](t)}catch(t){wt(`[model method] #${e} not existed`)}},i=setInterval((()=>{if(r.size>100)for(const[e,t]of r)t.settled&&r.delete(e)}),18e5)})).finally((()=>{this._status=void 0})),await s.promise,o.baseInfo}async call(e,t={}){return this._call?.call(this,e,t)}async callAsync(e,t={}){const n=nt(1e4);return this._call?.call(this,e,t,n)}async callUserModel(e,t={}){return this._callUserModel?.call(this,e,t)}async _setupIframeSandbox(){const e=this._pluginLocal,t=e.id,n=`${t}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const a=document.querySelector(`#${n}`);a&&a.parentElement.removeChild(a);const r=document.createElement("div");r.classList.add("lsp-iframe-sandbox-container"),r.id=n,r.dataset.pid=t;try{const e=(await this._pluginLocal._loadLayoutsData())?.$$0;if(e){r.dataset.inited_layout="true";const{width:t,height:n,left:i,top:a}=e;Object.assign(r.style,{width:t+"px",height:n+"px",left:i+"px",top:a+"px"})}}catch(e){console.error("[Restore Layout Error]",e)}document.body.appendChild(r);let s,o=new ut({id:t+"_iframe",container:r,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}}).sendHandshake();return this._status="pending",new Promise(((t,n)=>{s=setTimeout((()=>{n(new Error("handshake Timeout"))}),8e3),o.then((n=>{this._parent=n,this._connected=!0,this.emit("connected"),n.on(kt(e.id),(({type:e,payload:t})=>{wt("[user -> *host] ",e,t),this._pluginLocal?.emit(e,t||{})})),this._call=async(...t)=>{await n.call(kt(e.id),{type:t[0],payload:Object.assign(t[1]||{},{$$pid:e.id})})},this._callUserModel=async(e,t)=>{if(e.startsWith(xt))return await n.get(e.replace(xt,""));n.call(e,t)},t(null)})).catch((e=>{n(e)})).finally((()=>{clearTimeout(s)}))})).catch((e=>{throw wt("[iframe sandbox] error",e),e})).finally((()=>{this._status=void 0}))}async _setupShadowSandbox(){const e=this._pluginLocal,t=this._shadow=new yt(e);try{this._status="pending",await t.load(),this._connected=!0,this.emit("connected"),this._call=async(t,n={},i)=>(i&&(n.actor=i),this._pluginLocal?.emit(t,Object.assign(n,{$$pid:e.id})),i?.promise),this._callUserModel=async(...e)=>{let t=e[0];t?.startsWith(xt)&&(t=t.replace(xt,""));const n=e[1]||{},i=this._userModel[t];"function"==typeof i&&await i.call(null,n)}}catch(e){throw wt("[shadow sandbox] error",e),e}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(e){this._debugTag=e}async destroy(){let e=null;this._parent&&(e=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(e=this._getSandboxShadowContainer(),this._shadow.destroy()),e?.parentNode.removeChild(e)}}class St{ctx;constructor(e){this.ctx=e}get ctxId(){return this.ctx.baseInfo.id}setItem(e,t){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,t]})}getItem(e){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e]})}removeItem(e){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(e){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e]})}}class Ct{ctx;constructor(e){this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...t){const n=this.ensureHostScope();return e=et(e)?.toLowerCase(),n.logseq.api["exper_"+e]?.apply(n,t)}async loadScripts(...e){(e=e.map((e=>e?.startsWith("http")?e:this.ctx.resolveResourceFullUrl(e)))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,t){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,t)}registerExtensionsEnhancer(e,t){const n=this.ensureHostScope();return"katex"===e&&n.katex&&t(n.katex).catch(console.error),n.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,t)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const At=e=>`task_callback_${e}`;class Nt{_client;_requestId;_requestOptions;_promise;_aborted=!1;constructor(e,t,n={}){this._client=e,this._requestId=t,this._requestOptions=n,this._promise=new Promise(((e,t)=>{if(!this._requestId)return t(null);this._client.once(At(this._requestId),(n=>{n&&n instanceof Error?t(n):e(n)}))}));const{success:i,fail:a,final:r}=this._requestOptions;this._promise.then((e=>{i?.(e)})).catch((e=>{a?.(e)})).finally((()=>{r?.()}))}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Tt extends pt.EventEmitter{_ctx;constructor(e){super(),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",(e=>{const t=e?.requestId;t&&this.emit(At(t),e?.payload)}))}static createRequestTask(e,t,n){return new Nt(e,t,n)}async _request(e){const t=this.ctx.baseInfo.id,{success:n,fail:i,final:a,...r}=e,s=this.ctx.Experiments.invokeExperMethod("request",t,r),o=Tt.createRequestTask(this.ctx.Request,s,e);return r.abortable?o:o.promise}get ctx(){return this._ctx}}const Mt=Symbol.for("proxy-continue"),zt=rt()("LSPlugin:user");function Rt(e,t,n){if("function"!=typeof n)return!1;const{key:i,label:a,desc:r,palette:s,keybinding:o}=t,l=`SimpleCommandHook${i}${++Ot}`;this.Editor["on"+l](n),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:a,type:e,desc:r,keybinding:o},["editor/hook",l]],s]})}let Pt=null;const Bt={async getInfo(e){return Pt||(Pt=await this._execCallableAPIAsync("get-app-info")),"string"==typeof e?Pt[e]:Pt},registerCommand:Rt,registerCommandPalette(e,t){const{key:n,label:i,keybinding:a}=e;return Rt.call(this,"$palette$",{key:n,label:i,palette:!0,keybinding:a},t)},registerCommandShortcut(e,t){const{binding:n}=e,i="$shortcut$",a=i+et(n);return Rt.call(this,i,{key:a,palette:!1,keybinding:e},t)},registerUIItem(e,t){const n=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[n,e,t]})},registerPageMenuItem(e,t){if("function"!=typeof t)return!1;const n=e+"_"+this.baseInfo.id,i=e;Rt.call(this,"page-menu-item",{key:n,label:i},t)},setFullScreen(e){const t=(...e)=>this._callWin("setFullScreen",...e);"toggle"===e?this._callWin("isFullScreen").then((e=>{e?t():t(!0)})):e?t(!0):t()}};let Ot=0;const Lt={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(e,t){zt("Register slash command #",this.baseInfo.id,e,t),"function"==typeof t&&(t=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",t]]),t=t.map((e=>{const[t,...n]=e;if("editor/hook"===t){let i=n[0],a=()=>{this.caller?.callUserModel(i)};"function"==typeof i&&(a=i);const r=`SlashCommandHook${t}${++Ot}`;e[1]=r,this.Editor["on"+r](a)}return e})),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[e,t]]})},registerBlockContextMenuItem(e,t){if("function"!=typeof t)return!1;const n=e+"_"+this.baseInfo.id,i=e;Rt.call(this,"block-context-menu-item",{key:n,label:i},t)},scrollToBlockInPage(e,t,n){const i="block-content-"+t;n?.replaceState?this.App.replaceState("page",{name:e},{anchor:i}):this.App.pushState("page",{name:e},{anchor:i})}},It={onBlockChanged(e,t){const n=this.baseInfo.id,i=`hook:db:${et(`block:${e}`)}`,a=({block:n,txData:i,txMeta:a})=>{n.uuid===e&&t(n,i,a)};return this.caller.on(i,a),this.App._installPluginHook(n,i),()=>{this.caller.off(i,a),this.App._uninstallPluginHook(n,i)}}},Dt={},Ft={},jt={};class Ut extends(ft()){_baseInfo;_caller;_version="0.0.8";_debugTag="";_settingsSchema;_connected=!1;_ui=new Map;_mFileStorage;_mRequest;_mExperiments;_beforeunloadCallback;constructor(e,t){super(),this._baseInfo=e,this._caller=t,t.on("sys:ui:visible",(e=>{e?.toggle&&this.toggleMainUI()})),t.on("settings:changed",(e=>{const t=Object.assign({},this.settings),n=Object.assign(this._baseInfo.settings,e);this.emit("settings:changed",{...n},t)})),t.on("beforeunload",(async e=>{const{actor:n,...i}=e,a=this._beforeunloadCallback;try{a&&await a(i),n?.resolve(null)}catch(e){console.debug(`${t.debugTag} [beforeunload] `,e),n?.reject(e)}}))}async ready(e,t){if(!this._connected)try{"function"==typeof e&&(t=e,e={});let n=await this._caller.connectToParent(e);this._connected=!0,n=tt(this._baseInfo,n),this._settingsSchema&&(n.settings=function(e,t){const n=(t||[]).reduce(((e,t)=>("default"in t&&(e[t.key]=t.default),e)),{});return Object.assign(n,e)}(n.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),n?.id&&(this._debugTag=this._caller.debugTag=`#${n.id} [${n.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(e){console.warn(e)}t&&t.call(this,n)}catch(e){console.error(`${this._debugTag} [Ready Error]`,e)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){"function"==typeof e&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const t="settings:changed";return this.on(t,e),()=>this.off(t,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const t={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",t),this.emit("ui:visible:changed",t),this._ui.set(t.key,t)}showMainUI(e){const t={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",t),this.emit("ui:visible:changed",t),this._ui.set(t.key,t)}toggleMainUI(){const e=this._ui.get(0);e&&e.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),function(e,...t){try{const n=new URL(e);if(!n.origin)throw new Error(null);const i=Ye.join(e.substr(n.origin.length),...t);return n.origin+i}catch(n){return Ye.join(e,...t)}}(this._baseInfo.lsr,e)}_makeUserProxy(e,t){const n=this,i=this.caller;return new Proxy(e,{get(e,a,r){const s=e[a];return function(...e){if(s){const i=s.apply(n,e.concat(t));if(i!==Mt)return i}if(t){const r=a.toString().match(/^(once|off|on)/i);if(null!=r){const a=r[0].toLowerCase(),s=r.input.slice(a.length),o="off"===a,l=n.baseInfo.id,c=`hook:${t}:${et(s)}`,d=e[0];i[a](c,d);const h=()=>{i.off(c,d),i.listenerCount(c)||n.App._uninstallPluginHook(l,c)};return o?void h():(n.App._installPluginHook(l,c),h)}}let r=a;return["git","ui","assets"].includes(t)&&(r=t+"_"+r),i.callAsync("api:call",{tag:t,method:r,args:e})}}})}_execCallableAPIAsync(e,...t){return this._caller.callAsync("api:call",{method:e,args:t})}_execCallableAPI(e,...t){this._caller.call("api:call",{method:e,args:t})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Bt,"app")}get Editor(){return this._makeUserProxy(Lt,"editor")}get DB(){return this._makeUserProxy(It,"db")}get Git(){return this._makeUserProxy(Dt,"git")}get UI(){return this._makeUserProxy(Ft,"ui")}get Assets(){return this._makeUserProxy(jt,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new St(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Tt(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Ct(this)),e}}function qt(e,t){return new Ut(e,t)}if(null==window.__LSP__HOST__){const e=new Et(null);window.logseq=qt({},e)}})(),s})(),t.exports=i()})),i("cVm5l");function a(e,t,n,i){return new(n||(n=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,a,r,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(s=0)),s;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}Object.create;Object.create;new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");var s=new Error("request for lock canceled"),o=function(){function e(e,t){if(void 0===t&&(t=s),this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),n=new Promise((function(t,n){return e._queue.push({resolve:t,reject:n})}));return t||this._dispatch(),n},e.prototype.runExclusive=function(e){return a(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(a){switch(a.label){case 0:return[4,this.acquire()];case 1:t=a.sent(),n=t[0],i=t[1],a.label=2;case 2:return a.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,a.sent()];case 4:return i(),[7];case 5:return[2]}}))}))},e.prototype.waitForUnlock=function(){return a(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){return this.isLocked()?[2,new Promise((function(t){return e._waiters.push({resolve:t})}))]:[2,Promise.resolve()]}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype.cancel=function(){var e=this;this._queue.forEach((function(t){return t.reject(e._cancelError)})),this._queue=[]},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._resolveWaiters(),e._dispatch())},t.resolve([this._value--,this._currentReleaser])}},e.prototype._resolveWaiters=function(){this._waiters.forEach((function(e){return e.resolve()})),this._waiters=[]},e}(),l=function(){function e(e){this._semaphore=new o(1,e)}return e.prototype.acquire=function(){return a(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},e.prototype.release=function(){this._semaphore.release()},e.prototype.cancel=function(){return this._semaphore.cancel()},e}();class c{deleteQueue=[];data={};mutex=new l;constructor(e){if(e<=0)throw Error("why u do dis?");this.maxSize=e}get size(){return Object.keys(this.data).length}set(e,t){if(Object.prototype.hasOwnProperty.call(this.data,e))this.remove(e);else if(this.size>=this.maxSize){const e=this.deleteQueue[0];this.remove(e)}this.data[e]=t,this.deleteQueue.push(e)}async getOrSupply(e,t){return await this.mutex.runExclusive((async()=>{const n=this.get(e);if(void 0!==n)return n;{const n=await t();return this.set(e,n),n}}))}get(e){return this.data[e]}remove(e){const t=this.deleteQueue.indexOf(e);t>=0&&this.deleteQueue.splice(t,1),delete this.data[e]}}class d{cached(){return new h(this)}}class h extends d{constructor(e){super(),this.actual=e,this.cache=new c(32)}get type(){return this.actual.type}cached(){return this}get original(){return this.actual}render(e){return this.cache.getOrSupply(e,(()=>this.actual.render(e)))}}class u{static select(e){return this.selectFrom(logseq.settings,e)}static selectFrom(e,t){if(void 0===e)return;const n=t.split(".");return n.length>1?this.selectFrom(e[n.shift()],n.join(".")):e[t]}static get krokiBaseUrl(){return this.select("kroki.baseUrl")||"https://kroki.io/"}static get inlineCodeBlock(){const e=this.select("inlineCodeBlock");return!0===e||"true"==e}static get commandsRenderers(){return this.select("commands.renderers")}}function m(e){const t=e.trim().split("\n");let n=null,i=null;for(let e=0;e<t.length;e++){if(t[e].trim().startsWith("```")){if(null!==n){i=e;break}n=e+1}}if(null===i)return null;return{before:t.slice(0,n-1).join("\n"),code:t.slice(n,i).join("\n"),after:t.slice(i+1).join("\n")}}async function p(e){const[,t]=await async function(e){let t=await logseq.Editor.getBlock(e,{includeChildren:!0}),n=m(t.content);if(null===n){if(0==t.children.length)return null;t=t.children[0],n=m(t.content)}return[t.uuid,n]}(e);return t.code}function f(e){if(!e)return!1;const t=e.content;return null!=t&&t.split("\n").findIndex((e=>e.trim().startsWith("{{renderer")))>=0}class g extends d{async render(e){if(0===e.trim().length)return"";const t=await this.createImgSrc(e);return null!=await new Promise((e=>{const n=new Image;n.src=t,n.onload=()=>{e(null)},n.onerror=t=>{e(t)}}))?`Rendering Error - Invalid img src ${t.substring(0,32)} ...`:`<img style="box-shadow: none" src="${t}" alt="${this.type} diagram"/>`}}
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function _(e){let t=e.length;for(;--t>=0;)e[t]=0}const b=256,y=286,w=30,x=15,v=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),k=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),E=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new Array(576);_(C);const A=new Array(60);_(A);const N=new Array(512);_(N);const T=new Array(256);_(T);const M=new Array(29);_(M);const z=new Array(w);function R(e,t,n,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}let P,B,O;function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}_(z);const I=e=>e<256?N[e]:N[256+(e>>>7)],D=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},F=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,D(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},j=(e,t,n)=>{F(e,n[2*t],n[2*t+1])},U=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},q=(e,t,n)=>{const i=new Array(16);let a,r,s=0;for(a=1;a<=x;a++)s=s+n[a-1]<<1,i[a]=s;for(r=0;r<=t;r++){let t=e[2*r+1];0!==t&&(e[2*r]=U(i[t]++,t))}},$=e=>{let t;for(t=0;t<y;t++)e.dyn_ltree[2*t]=0;for(t=0;t<w;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},H=e=>{e.bi_valid>8?D(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Z=(e,t,n,i)=>{const a=2*t,r=2*n;return e[a]<e[r]||e[a]===e[r]&&i[t]<=i[n]},W=(e,t,n)=>{const i=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Z(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Z(t,i,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=i},V=(e,t,n)=>{let i,a,r,s,o=0;if(0!==e.sym_next)do{i=255&e.pending_buf[e.sym_buf+o++],i+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===i?j(e,a,t):(r=T[a],j(e,r+b+1,t),s=v[r],0!==s&&(a-=M[r],F(e,a,s)),i--,r=I(i),j(e,r,n),s=k[r],0!==s&&(i-=z[r],F(e,i,s)))}while(o<e.sym_next);j(e,256,t)},G=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,r=t.stat_desc.elems;let s,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<r;s++)0!==n[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=i[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)W(e,n,s);l=r;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[2*l]=n[2*s]+n[2*o],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[2*s+1]=n[2*o+1]=l,e.heap[1]=l++,W(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,a=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,h,u,m,p,f=0;for(u=0;u<=x;u++)e.bl_count[u]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],u=n[2*n[2*d+1]+1]+1,u>l&&(u=l,f++),n[2*d+1]=u,d>i||(e.bl_count[u]++,m=0,d>=o&&(m=s[d-o]),p=n[2*d],e.opt_len+=p*(u+m),r&&(e.static_len+=p*(a[2*d+1]+m)));if(0!==f){do{for(u=l-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(u=l;0!==u;u--)for(d=e.bl_count[u];0!==d;)h=e.heap[--c],h>i||(n[2*h+1]!==u&&(e.opt_len+=(u-n[2*h+1])*n[2*h],n[2*h+1]=u),d--)}})(e,t),q(n,c,e.bl_count)},J=(e,t,n)=>{let i,a,r=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)a=s,s=t[2*(i+1)+1],++o<l&&a===s||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==r&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,r=a,0===s?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4))},K=(e,t,n)=>{let i,a,r=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(a=s,s=t[2*(i+1)+1],!(++o<l&&a===s)){if(o<c)do{j(e,a,e.bl_tree)}while(0!=--o);else 0!==a?(a!==r&&(j(e,a,e.bl_tree),o--),j(e,16,e.bl_tree),F(e,o-3,2)):o<=10?(j(e,17,e.bl_tree),F(e,o-3,3)):(j(e,18,e.bl_tree),F(e,o-11,7));o=0,r=a,0===s?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4)}};let X=!1;const Q=(e,t,n,i)=>{F(e,0+(i?1:0),3),H(e),D(e,n),D(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Y={_tr_init:e=>{X||((()=>{let e,t,n,i,a;const r=new Array(16);for(n=0,i=0;i<28;i++)for(M[i]=n,e=0;e<1<<v[i];e++)T[n++]=i;for(T[n-1]=i,a=0,i=0;i<16;i++)for(z[i]=a,e=0;e<1<<k[i];e++)N[a++]=i;for(a>>=7;i<w;i++)for(z[i]=a<<7,e=0;e<1<<k[i]-7;e++)N[256+a++]=i;for(t=0;t<=x;t++)r[t]=0;for(e=0;e<=143;)C[2*e+1]=8,e++,r[8]++;for(;e<=255;)C[2*e+1]=9,e++,r[9]++;for(;e<=279;)C[2*e+1]=7,e++,r[7]++;for(;e<=287;)C[2*e+1]=8,e++,r[8]++;for(q(C,287,r),e=0;e<w;e++)A[2*e+1]=5,A[2*e]=U(e,5);P=new R(C,v,257,y,x),B=new R(A,k,0,w,x),O=new R(new Array(0),E,0,19,7)})(),X=!0),e.l_desc=new L(e.dyn_ltree,P),e.d_desc=new L(e.dyn_dtree,B),e.bl_desc=new L(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,$(e)},_tr_stored_block:Q,_tr_flush_block:(e,t,n,i)=>{let a,r,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<b;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),G(e,e.l_desc),G(e,e.d_desc),s=(e=>{let t;for(J(e,e.dyn_ltree,e.l_desc.max_code),J(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=n+5,n+4<=a&&-1!==t?Q(e,t,n,i):4===e.strategy||r===a?(F(e,2+(i?1:0),3),V(e,C,A)):(F(e,4+(i?1:0),3),((e,t,n,i)=>{let a;for(F(e,t-257,5),F(e,n-1,5),F(e,i-4,4),a=0;a<i;a++)F(e,e.bl_tree[2*S[a]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),V(e,e.dyn_ltree,e.dyn_dtree)),$(e),i&&H(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+b+1)]++,e.dyn_dtree[2*I(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{F(e,2,3),j(e,256,C),(e=>{16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var ee=(e,t,n,i)=>{let a=65535&e|0,r=e>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+t[i++]|0,r=r+a|0}while(--s);a%=65521,r%=65521}return a|r<<16|0};const te=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var ne=(e,t,n,i)=>{const a=te,r=i+n;e^=-1;for(let n=i;n<r;n++)e=e>>>8^a[255&(e^t[n])];return-1^e},ie={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ae={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:re,_tr_stored_block:se,_tr_flush_block:oe,_tr_tally:le,_tr_align:ce}=Y,{Z_NO_FLUSH:de,Z_PARTIAL_FLUSH:he,Z_FULL_FLUSH:ue,Z_FINISH:me,Z_BLOCK:pe,Z_OK:fe,Z_STREAM_END:ge,Z_STREAM_ERROR:_e,Z_DATA_ERROR:be,Z_BUF_ERROR:ye,Z_DEFAULT_COMPRESSION:we,Z_FILTERED:xe,Z_HUFFMAN_ONLY:ve,Z_RLE:ke,Z_FIXED:Ee,Z_DEFAULT_STRATEGY:Se,Z_UNKNOWN:Ce,Z_DEFLATED:Ae}=ae,Ne=258,Te=262,Me=42,ze=113,Re=666,Pe=(e,t)=>(e.msg=ie[t],t),Be=e=>2*e-(e>4?9:0),Oe=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Le=e=>{let t,n,i,a=e.w_size;t=e.hash_size,i=t;do{n=e.head[--i],e.head[i]=n>=a?n-a:0}while(--t);t=a,i=t;do{n=e.prev[--i],e.prev[i]=n>=a?n-a:0}while(--t)};let Ie=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const De=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Fe=(e,t)=>{oe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,De(e.strm)},je=(e,t)=>{e.pending_buf[e.pending++]=t},Ue=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},qe=(e,t,n,i)=>{let a=e.avail_in;return a>i&&(a=i),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=ee(e.adler,t,a,n):2===e.state.wrap&&(e.adler=ne(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},$e=(e,t)=>{let n,i,a=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-Te?e.strstart-(e.w_size-Te):0,c=e.window,d=e.w_mask,h=e.prev,u=e.strstart+Ne;let m=c[r+s-1],p=c[r+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+s]===p&&c[n+s-1]===m&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<u);if(i=Ne-(u-r),r=u-Ne,i>s){if(e.match_start=t,s=i,i>=o)break;m=c[r+s-1],p=c[r+s]}}}while((t=h[t&d])>l&&0!=--a);return s<=e.lookahead?s:e.lookahead},He=e=>{const t=e.w_size;let n,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Te)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Le(e),i+=t),0===e.strm.avail_in)break;if(n=qe(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ie(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ie(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Te&&0!==e.strm.avail_in)},Ze=(e,t)=>{let n,i,a,r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<r&&(0===n&&t!==me||t===de||n!==i+e.strm.avail_in))break;s=t===me&&n===i+e.strm.avail_in?1:0,se(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,De(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(qe(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==de&&t!==me&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(qe(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=r||(i||t===me)&&t!==de&&0===e.strm.avail_in&&i<=a)&&(n=i>a?a:i,s=t===me&&0===e.strm.avail_in&&n===i?1:0,se(e,e.block_start,n,s),e.block_start+=n,De(e.strm)),s?3:1)},We=(e,t)=>{let n,i;for(;;){if(e.lookahead<Te){if(He(e),e.lookahead<Te&&t===de)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Te&&(e.match_length=$e(e,n)),e.match_length>=3)if(i=le(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+1]);else i=le(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===me?(Fe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fe(e,!1),0===e.strm.avail_out)?1:2},Ve=(e,t)=>{let n,i,a;for(;;){if(e.lookahead<Te){if(He(e),e.lookahead<Te&&t===de)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Te&&(e.match_length=$e(e,n),e.match_length<=5&&(e.strategy===xe||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,i=le(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Fe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=le(e,0,e.window[e.strstart-1]),i&&Fe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=le(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===me?(Fe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fe(e,!1),0===e.strm.avail_out)?1:2};function Ge(e,t,n,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=a}const Je=[new Ge(0,0,0,0,Ze),new Ge(4,4,8,4,We),new Ge(4,5,16,8,We),new Ge(4,6,32,32,We),new Ge(4,4,16,16,Ve),new Ge(8,16,32,32,Ve),new Ge(8,16,128,128,Ve),new Ge(8,32,128,256,Ve),new Ge(32,128,258,1024,Ve),new Ge(32,258,258,4096,Ve)];function Ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ae,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Oe(this.dyn_ltree),Oe(this.dyn_dtree),Oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Oe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Xe=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Me&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==ze&&t.status!==Re?1:0},Qe=e=>{if(Xe(e))return Pe(e,_e);e.total_in=e.total_out=0,e.data_type=Ce;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Me:ze,e.adler=2===t.wrap?0:1,t.last_flush=-2,re(t),fe},Ye=e=>{const t=Qe(e);var n;return t===fe&&((n=e.state).window_size=2*n.w_size,Oe(n.head),n.max_lazy_match=Je[n.level].max_lazy,n.good_match=Je[n.level].good_length,n.nice_match=Je[n.level].nice_length,n.max_chain_length=Je[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},et=(e,t,n,i,a,r)=>{if(!e)return _e;let s=1;if(t===we&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>9||n!==Ae||i<8||i>15||t<0||t>9||r<0||r>Ee||8===i&&1!==s)return Pe(e,_e);8===i&&(i=9);const o=new Ke;return e.state=o,o.strm=e,o.status=Me,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=r,o.method=n,Ye(e)};var tt={deflateInit:(e,t)=>et(e,t,Ae,15,8,Se),deflateInit2:et,deflateReset:Ye,deflateResetKeep:Qe,deflateSetHeader:(e,t)=>Xe(e)||2!==e.state.wrap?_e:(e.state.gzhead=t,fe),deflate:(e,t)=>{if(Xe(e)||t>pe||t<0)return e?Pe(e,_e):_e;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Re&&t!==me)return Pe(e,0===e.avail_out?ye:_e);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(De(e),0===e.avail_out)return n.last_flush=-1,fe}else if(0===e.avail_in&&Be(t)<=Be(i)&&t!==me)return Pe(e,ye);if(n.status===Re&&0!==e.avail_in)return Pe(e,ye);if(n.status===Me&&0===n.wrap&&(n.status=ze),n.status===Me){let t=Ae+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=ve||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Ue(n,t),0!==n.strstart&&(Ue(n,e.adler>>>16),Ue(n,65535&e.adler)),e.adler=1,n.status=ze,De(e),0!==n.pending)return n.last_flush=-1,fe}if(57===n.status)if(e.adler=0,je(n,31),je(n,139),je(n,8),n.gzhead)je(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),je(n,255&n.gzhead.time),je(n,n.gzhead.time>>8&255),je(n,n.gzhead.time>>16&255),je(n,n.gzhead.time>>24&255),je(n,9===n.level?2:n.strategy>=ve||n.level<2?4:0),je(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(je(n,255&n.gzhead.extra.length),je(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=ne(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(je(n,0),je(n,0),je(n,0),je(n,0),je(n,0),je(n,9===n.level?2:n.strategy>=ve||n.level<2?4:0),je(n,3),n.status=ze,De(e),0!==n.pending)return n.last_flush=-1,fe;if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=ne(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,De(e),0!==n.pending)return n.last_flush=-1,fe;t=0,i-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=ne(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=ne(e.adler,n.pending_buf,n.pending-i,i)),De(e),0!==n.pending)return n.last_flush=-1,fe;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,je(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=ne(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=ne(e.adler,n.pending_buf,n.pending-i,i)),De(e),0!==n.pending)return n.last_flush=-1,fe;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,je(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=ne(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(De(e),0!==n.pending))return n.last_flush=-1,fe;je(n,255&e.adler),je(n,e.adler>>8&255),e.adler=0}if(n.status=ze,De(e),0!==n.pending)return n.last_flush=-1,fe}if(0!==e.avail_in||0!==n.lookahead||t!==de&&n.status!==Re){let i=0===n.level?Ze(n,t):n.strategy===ve?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(He(e),0===e.lookahead)){if(t===de)return 1;break}if(e.match_length=0,n=le(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===me?(Fe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fe(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===ke?((e,t)=>{let n,i,a,r;const s=e.window;for(;;){if(e.lookahead<=Ne){if(He(e),e.lookahead<=Ne&&t===de)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,i=s[a],i===s[++a]&&i===s[++a]&&i===s[++a])){r=e.strstart+Ne;do{}while(i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&a<r);e.match_length=Ne-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=le(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=le(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===me?(Fe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fe(e,!1),0===e.strm.avail_out)?1:2})(n,t):Je[n.level].func(n,t);if(3!==i&&4!==i||(n.status=Re),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),fe;if(2===i&&(t===he?ce(n):t!==pe&&(se(n,0,0,!1),t===ue&&(Oe(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),De(e),0===e.avail_out))return n.last_flush=-1,fe}return t!==me?fe:n.wrap<=0?ge:(2===n.wrap?(je(n,255&e.adler),je(n,e.adler>>8&255),je(n,e.adler>>16&255),je(n,e.adler>>24&255),je(n,255&e.total_in),je(n,e.total_in>>8&255),je(n,e.total_in>>16&255),je(n,e.total_in>>24&255)):(Ue(n,e.adler>>>16),Ue(n,65535&e.adler)),De(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?fe:ge)},deflateEnd:e=>{if(Xe(e))return _e;const t=e.state.status;return e.state=null,t===ze?Pe(e,be):fe},deflateSetDictionary:(e,t)=>{let n=t.length;if(Xe(e))return _e;const i=e.state,a=i.wrap;if(2===a||1===a&&i.status!==Me||i.lookahead)return _e;if(1===a&&(e.adler=ee(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===a&&(Oe(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const r=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,He(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=Ie(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,He(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=o,e.avail_in=r,i.wrap=a,fe},deflateInfo:"pako deflate (from Nodeca project)"};const nt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var it={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)nt(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,i=0,a=e.length;t<a;t++){let a=e[t];n.set(a,i),i+=a.length}return n}};let at=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){at=!1}const rt=new Uint8Array(256);for(let e=0;e<256;e++)rt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;rt[254]=rt[254]=1;var st={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,a,r,s=e.length,o=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(i=e.charCodeAt(a+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),r=0,a=0;r<o;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(i=e.charCodeAt(a+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),a++)),n<128?t[r++]=n:n<2048?(t[r++]=192|n>>>6,t[r++]=128|63&n):n<65536?(t[r++]=224|n>>>12,t[r++]=128|n>>>6&63,t[r++]=128|63&n):(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63,t[r++]=128|n>>>6&63,t[r++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,a;const r=new Array(2*n);for(a=0,i=0;i<n;){let t=e[i++];if(t<128){r[a++]=t;continue}let s=rt[t];if(s>4)r[a++]=65533,i+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&i<n;)t=t<<6|63&e[i++],s--;s>1?r[a++]=65533:t<65536?r[a++]=t:(t-=65536,r[a++]=55296|t>>10&1023,r[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&at)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(r,a)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+rt[e[n]]>t?n:t}};var ot=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const lt=Object.prototype.toString,{Z_NO_FLUSH:ct,Z_SYNC_FLUSH:dt,Z_FULL_FLUSH:ht,Z_FINISH:ut,Z_OK:mt,Z_STREAM_END:pt,Z_DEFAULT_COMPRESSION:ft,Z_DEFAULT_STRATEGY:gt,Z_DEFLATED:_t}=ae;function bt(e){this.options=it.assign({level:ft,method:_t,chunkSize:16384,windowBits:15,memLevel:8,strategy:gt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ot,this.strm.avail_out=0;let n=tt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==mt)throw new Error(ie[n]);if(t.header&&tt.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?st.string2buf(t.dictionary):"[object ArrayBuffer]"===lt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=tt.deflateSetDictionary(this.strm,e),n!==mt)throw new Error(ie[n]);this._dict_set=!0}}function yt(e,t){const n=new bt(t);if(n.push(e,!0),n.err)throw n.msg||ie[n.err];return n.result}bt.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let a,r;if(this.ended)return!1;for(r=t===~~t?t:!0===t?ut:ct,"string"==typeof e?n.input=st.string2buf(e):"[object ArrayBuffer]"===lt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(r===dt||r===ht)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=tt.deflate(n,r),a===pt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=tt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===mt;if(0!==n.avail_out){if(r>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},bt.prototype.onData=function(e){this.chunks.push(e)},bt.prototype.onEnd=function(e){e===mt&&(this.result=it.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var wt={Deflate:bt,deflate:yt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,yt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,yt(e,t)},constants:ae};const xt=16209;var vt=function(e,t){let n,i,a,r,s,o,l,c,d,h,u,m,p,f,g,_,b,y,w,x,v,k,E,S;const C=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),a=e.next_out,S=e.output,r=a-(t-e.avail_out),s=a+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,h=C.window,u=C.hold,m=C.bits,p=C.lencode,f=C.distcode,g=(1<<C.lenbits)-1,_=(1<<C.distbits)-1;e:do{m<15&&(u+=E[n++]<<m,m+=8,u+=E[n++]<<m,m+=8),b=p[u&g];t:for(;;){if(y=b>>>24,u>>>=y,m-=y,y=b>>>16&255,0===y)S[a++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=p[(65535&b)+(u&(1<<y)-1)];continue t}if(32&y){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=xt;break e}w=65535&b,y&=15,y&&(m<y&&(u+=E[n++]<<m,m+=8),w+=u&(1<<y)-1,u>>>=y,m-=y),m<15&&(u+=E[n++]<<m,m+=8,u+=E[n++]<<m,m+=8),b=f[u&_];n:for(;;){if(y=b>>>24,u>>>=y,m-=y,y=b>>>16&255,!(16&y)){if(0==(64&y)){b=f[(65535&b)+(u&(1<<y)-1)];continue n}e.msg="invalid distance code",C.mode=xt;break e}if(x=65535&b,y&=15,m<y&&(u+=E[n++]<<m,m+=8,m<y&&(u+=E[n++]<<m,m+=8)),x+=u&(1<<y)-1,x>o){e.msg="invalid distance too far back",C.mode=xt;break e}if(u>>>=y,m-=y,y=a-r,x>y){if(y=x-y,y>c&&C.sane){e.msg="invalid distance too far back",C.mode=xt;break e}if(v=0,k=h,0===d){if(v+=l-y,y<w){w-=y;do{S[a++]=h[v++]}while(--y);v=a-x,k=S}}else if(d<y){if(v+=l+d-y,y-=d,y<w){w-=y;do{S[a++]=h[v++]}while(--y);if(v=0,d<w){y=d,w-=y;do{S[a++]=h[v++]}while(--y);v=a-x,k=S}}}else if(v+=d-y,y<w){w-=y;do{S[a++]=h[v++]}while(--y);v=a-x,k=S}for(;w>2;)S[a++]=k[v++],S[a++]=k[v++],S[a++]=k[v++],w-=3;w&&(S[a++]=k[v++],w>1&&(S[a++]=k[v++]))}else{v=a-x;do{S[a++]=S[v++],S[a++]=S[v++],S[a++]=S[v++],w-=3}while(w>2);w&&(S[a++]=S[v++],w>1&&(S[a++]=S[v++]))}break}}break}}while(n<i&&a<s);w=m>>3,n-=w,m-=w<<3,u&=(1<<m)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),C.hold=u,C.bits=m};const kt=15,Et=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),St=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ct=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),At=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Nt=(e,t,n,i,a,r,s,o)=>{const l=o.bits;let c,d,h,u,m,p,f=0,g=0,_=0,b=0,y=0,w=0,x=0,v=0,k=0,E=0,S=null;const C=new Uint16Array(16),A=new Uint16Array(16);let N,T,M,z=null;for(f=0;f<=kt;f++)C[f]=0;for(g=0;g<i;g++)C[t[n+g]]++;for(y=l,b=kt;b>=1&&0===C[b];b--);if(y>b&&(y=b),0===b)return a[r++]=20971520,a[r++]=20971520,o.bits=1,0;for(_=1;_<b&&0===C[_];_++);for(y<_&&(y=_),v=1,f=1;f<=kt;f++)if(v<<=1,v-=C[f],v<0)return-1;if(v>0&&(0===e||1!==b))return-1;for(A[1]=0,f=1;f<kt;f++)A[f+1]=A[f]+C[f];for(g=0;g<i;g++)0!==t[n+g]&&(s[A[t[n+g]]++]=g);if(0===e?(S=z=s,p=20):1===e?(S=Et,z=St,p=257):(S=Ct,z=At,p=0),E=0,g=0,f=_,m=r,w=y,x=0,h=-1,k=1<<y,u=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){N=f-x,s[g]+1<p?(T=0,M=s[g]):s[g]>=p?(T=z[s[g]-p],M=S[s[g]-p]):(T=96,M=0),c=1<<f-x,d=1<<w,_=d;do{d-=c,a[m+(E>>x)+d]=N<<24|T<<16|M|0}while(0!==d);for(c=1<<f-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,g++,0==--C[f]){if(f===b)break;f=t[n+s[g]]}if(f>y&&(E&u)!==h){for(0===x&&(x=y),m+=_,w=f-x,v=1<<w;w+x<b&&(v-=C[w+x],!(v<=0));)w++,v<<=1;if(k+=1<<w,1===e&&k>852||2===e&&k>592)return 1;h=E&u,a[h]=y<<24|w<<16|m-r|0}}return 0!==E&&(a[m+E]=f-x<<24|4194304),o.bits=y,0};const{Z_FINISH:Tt,Z_BLOCK:Mt,Z_TREES:zt,Z_OK:Rt,Z_STREAM_END:Pt,Z_NEED_DICT:Bt,Z_STREAM_ERROR:Ot,Z_DATA_ERROR:Lt,Z_MEM_ERROR:It,Z_BUF_ERROR:Dt,Z_DEFLATED:Ft}=ae,jt=16180,Ut=16190,qt=16191,$t=16192,Ht=16194,Zt=16199,Wt=16200,Vt=16206,Gt=16209,Jt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Kt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<jt||t.mode>16211?1:0},Qt=e=>{if(Xt(e))return Ot;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=jt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Rt},Yt=e=>{if(Xt(e))return Ot;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Qt(e)},en=(e,t)=>{let n;if(Xt(e))return Ot;const i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ot:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Yt(e))},tn=(e,t)=>{if(!e)return Ot;const n=new Kt;e.state=n,n.strm=e,n.window=null,n.mode=jt;const i=en(e,t);return i!==Rt&&(e.state=null),i};let nn,an,rn=!0;const sn=e=>{if(rn){nn=new Int32Array(512),an=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Nt(1,e.lens,0,288,nn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Nt(2,e.lens,0,32,an,0,e.work,{bits:5}),rn=!1}e.lencode=nn,e.lenbits=9,e.distcode=an,e.distbits=5},on=(e,t,n,i)=>{let a;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>i&&(a=i),r.window.set(t.subarray(n-i,n-i+a),r.wnext),(i-=a)?(r.window.set(t.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0};var ln={inflateReset:Yt,inflateReset2:en,inflateResetKeep:Qt,inflateInit:e=>tn(e,15),inflateInit2:tn,inflate:(e,t)=>{let n,i,a,r,s,o,l,c,d,h,u,m,p,f,g,_,b,y,w,x,v,k,E=0;const S=new Uint8Array(4);let C,A;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xt(e)||!e.output||!e.input&&0!==e.avail_in)return Ot;n=e.state,n.mode===qt&&(n.mode=$t),s=e.next_out,a=e.output,l=e.avail_out,r=e.next_in,i=e.input,o=e.avail_in,c=n.hold,d=n.bits,h=o,u=l,k=Rt;e:for(;;)switch(n.mode){case jt:if(0===n.wrap){n.mode=$t;break}for(;d<16;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=ne(n.check,S,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Gt;break}if((15&c)!==Ft){e.msg="unknown compression method",n.mode=Gt;break}if(c>>>=4,d-=4,v=8+(15&c),0===n.wbits&&(n.wbits=v),v>15||v>n.wbits){e.msg="invalid window size",n.mode=Gt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:qt,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==Ft){e.msg="unknown compression method",n.mode=Gt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Gt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=ne(n.check,S,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=ne(n.check,S,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=ne(n.check,S,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=ne(n.check,S,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(m=n.length,m>o&&(m=o),m&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(r,r+m),v)),512&n.flags&&4&n.wrap&&(n.check=ne(n.check,i,m,r)),o-=m,r+=m,n.length-=m),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;m=0;do{v=i[r+m++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v))}while(v&&m<o);if(512&n.flags&&4&n.wrap&&(n.check=ne(n.check,i,m,r)),o-=m,r+=m,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;m=0;do{v=i[r+m++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v))}while(v&&m<o);if(512&n.flags&&4&n.wrap&&(n.check=ne(n.check,i,m,r)),o-=m,r+=m,v)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Gt;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=qt;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}e.adler=n.check=Jt(c),c=0,d=0,n.mode=Ut;case Ut:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,n.hold=c,n.bits=d,Bt;e.adler=n.check=1,n.mode=qt;case qt:if(t===Mt||t===zt)break e;case $t:if(n.last){c>>>=7&d,d-=7&d,n.mode=Vt;break}for(;d<3;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(sn(n),n.mode=Zt,t===zt){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Gt}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Gt;break}if(n.length=65535&c,c=0,d=0,n.mode=Ht,t===zt)break e;case Ht:n.mode=16195;case 16195:if(m=n.length,m){if(m>o&&(m=o),m>l&&(m=l),0===m)break e;a.set(i.subarray(r,r+m),s),o-=m,r+=m,l-=m,s+=m,n.length-=m;break}n.mode=qt;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Gt;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}n.lens[N[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},k=Nt(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,k){e.msg="invalid code lengths set",n.mode=Gt;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],g=E>>>24,_=E>>>16&255,b=65535&E,!(g<=d);){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(A=g+2;d<A;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Gt;break}v=n.lens[n.have-1],m=3+(3&c),c>>>=2,d-=2}else if(17===b){for(A=g+3;d<A;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}c>>>=g,d-=g,v=0,m=3+(7&c),c>>>=3,d-=3}else{for(A=g+7;d<A;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}c>>>=g,d-=g,v=0,m=11+(127&c),c>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Gt;break}for(;m--;)n.lens[n.have++]=v}}if(n.mode===Gt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Gt;break}if(n.lenbits=9,C={bits:n.lenbits},k=Nt(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,k){e.msg="invalid literal/lengths set",n.mode=Gt;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},k=Nt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,k){e.msg="invalid distances set",n.mode=Gt;break}if(n.mode=Zt,t===zt)break e;case Zt:n.mode=Wt;case Wt:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,n.hold=c,n.bits=d,vt(e,u),s=e.next_out,a=e.output,l=e.avail_out,r=e.next_in,i=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===qt&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],g=E>>>24,_=E>>>16&255,b=65535&E,!(g<=d);){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(_&&0==(240&_)){for(y=g,w=_,x=b;E=n.lencode[x+((c&(1<<y+w)-1)>>y)],g=E>>>24,_=E>>>16&255,b=65535&E,!(y+g<=d);){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===_){n.mode=16205;break}if(32&_){n.back=-1,n.mode=qt;break}if(64&_){e.msg="invalid literal/length code",n.mode=Gt;break}n.extra=15&_,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;d<A;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[c&(1<<n.distbits)-1],g=E>>>24,_=E>>>16&255,b=65535&E,!(g<=d);){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(0==(240&_)){for(y=g,w=_,x=b;E=n.distcode[x+((c&(1<<y+w)-1)>>y)],g=E>>>24,_=E>>>16&255,b=65535&E,!(y+g<=d);){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&_){e.msg="invalid distance code",n.mode=Gt;break}n.offset=b,n.extra=15&_,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;d<A;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Gt;break}n.mode=16204;case 16204:if(0===l)break e;if(m=u-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Gt;break}m>n.wnext?(m-=n.wnext,p=n.wsize-m):p=n.wnext-m,m>n.length&&(m=n.length),f=n.window}else f=a,p=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do{a[s++]=f[p++]}while(--m);0===n.length&&(n.mode=Wt);break;case 16205:if(0===l)break e;a[s++]=n.length,l--,n.mode=Wt;break;case Vt:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=i[r++]<<d,d+=8}if(u-=l,e.total_out+=u,n.total+=u,4&n.wrap&&u&&(e.adler=n.check=n.flags?ne(n.check,a,u,s-u):ee(n.check,a,u,s-u)),u=l,4&n.wrap&&(n.flags?c:Jt(c))!==n.check){e.msg="incorrect data check",n.mode=Gt;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=i[r++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Gt;break}c=0,d=0}n.mode=16208;case 16208:k=Pt;break e;case Gt:k=Lt;break e;case 16210:return It;default:return Ot}return e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||u!==e.avail_out&&n.mode<Gt&&(n.mode<Vt||t!==Tt))&&on(e,e.output,e.next_out,u-e.avail_out),h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,n.total+=u,4&n.wrap&&u&&(e.adler=n.check=n.flags?ne(n.check,a,u,e.next_out-u):ee(n.check,a,u,e.next_out-u)),e.data_type=n.bits+(n.last?64:0)+(n.mode===qt?128:0)+(n.mode===Zt||n.mode===Ht?256:0),(0===h&&0===u||t===Tt)&&k===Rt&&(k=Dt),k},inflateEnd:e=>{if(Xt(e))return Ot;let t=e.state;return t.window&&(t.window=null),e.state=null,Rt},inflateGetHeader:(e,t)=>{if(Xt(e))return Ot;const n=e.state;return 0==(2&n.wrap)?Ot:(n.head=t,t.done=!1,Rt)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,a,r;return Xt(e)?Ot:(i=e.state,0!==i.wrap&&i.mode!==Ut?Ot:i.mode===Ut&&(a=1,a=ee(a,t,n,0),a!==i.check)?Lt:(r=on(e,t,n,n),r?(i.mode=16210,It):(i.havedict=1,Rt)))},inflateInfo:"pako inflate (from Nodeca project)"};var cn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const dn=Object.prototype.toString,{Z_NO_FLUSH:hn,Z_FINISH:un,Z_OK:mn,Z_STREAM_END:pn,Z_NEED_DICT:fn,Z_STREAM_ERROR:gn,Z_DATA_ERROR:_n,Z_MEM_ERROR:bn}=ae;function yn(e){this.options=it.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ot,this.strm.avail_out=0;let n=ln.inflateInit2(this.strm,t.windowBits);if(n!==mn)throw new Error(ie[n]);if(this.header=new cn,ln.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=st.string2buf(t.dictionary):"[object ArrayBuffer]"===dn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ln.inflateSetDictionary(this.strm,t.dictionary),n!==mn)))throw new Error(ie[n])}function wn(e,t){const n=new yn(t);if(n.push(e),n.err)throw n.msg||ie[n.err];return n.result}yn.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?un:hn,"[object ArrayBuffer]"===dn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),r=ln.inflate(n,s),r===fn&&a&&(r=ln.inflateSetDictionary(n,a),r===mn?r=ln.inflate(n,s):r===_n&&(r=fn));n.avail_in>0&&r===pn&&n.state.wrap>0&&0!==e[n.next_in];)ln.inflateReset(n),r=ln.inflate(n,s);switch(r){case gn:case _n:case fn:case bn:return this.onEnd(r),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||r===pn))if("string"===this.options.to){let e=st.utf8border(n.output,n.next_out),t=n.next_out-e,a=st.buf2string(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(r!==mn||0!==o){if(r===pn)return r=ln.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},yn.prototype.onData=function(e){this.chunks.push(e)},yn.prototype.onEnd=function(e){e===mn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=it.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var xn={Inflate:yn,inflate:wn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,wn(e,t)},ungzip:wn,constants:ae};const{Deflate:vn,deflate:kn,deflateRaw:En,gzip:Sn}=wt,{Inflate:Cn,inflate:An,inflateRaw:Nn,ungzip:Tn}=xn;var Mn={Deflate:vn,deflate:kn,deflateRaw:En,gzip:Sn,Inflate:Cn,inflate:An,inflateRaw:Nn,ungzip:Tn,constants:ae};function zn(e){const t=(e=e.replace(/^\n/,"")).match(/^\s+/);return t?e.replace(new RegExp("^"+t[0],"gm"),""):e}function Rn(e,t){function n(e,t){const n=/([0-9.]*)*(.*)/gm.exec(e),i=n[1],a=n[2];return parseFloat(i)*t+a}1!=t&&(e.setAttribute("width",n(e.getAttribute("width"),t)),e.setAttribute("height",n(e.getAttribute("height"),t)))}function Pn(e,t){return`<img style="box-shadow: none" alt="${t}" src="data:image/svg+xml;utf8,${encodeURIComponent(e)}">`}function Bn(e){return`<span style="white-space: pre-line;" class="error">${function(e){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("'","&#039;").replaceAll('"',"&quot;").replaceAll(" ","&nbsp;")}(e)}</span>`}class On extends g{constructor(e,t="svg",n={}){super(),this.type=e,this.fmt=t,this.diagramOptions=n}withDiagramOptions(e){return new On(this.type,this.fmt,e)}async render(e){if(0==e.trim().length)return"";if("svg"===this.fmt){let t;try{t=await fetch(await this.createImgSrc(e))}catch(t){const n=t;if("TypeError"===n.name&&"Failed to fetch"===n.message)return console.warn(t),console.warn("Falling back to default ImgSrcRenderer:",t),await super.render(e);throw t}const n=await t.text();if(200===t.status)return Pn(n,`A ${this.type} Diagram`);{let e=n.split("\n");const t=5;return e.length>t&&(e=e.slice(0,t),e.push("...")),Bn(e.join("\n"))}}return await super.render(e)}async createImgSrc(e){const t=Mn.deflate(e,{level:9}),n=(i=String.fromCharCode.apply(null,Array.from(t)),btoa(i).replace(/\+/g,"-").replace(/\//g,"_"));var i;const a=Object.entries(this.diagramOptions).map((([e,t])=>`${e}=${t}`)).join("&"),r=a.length>0?`?${a}`:"";return new URL(`${this.type}/${this.fmt}/${n}`,u.krokiBaseUrl).href+r}}class Ln extends d{async render(e){let t="";try{t=await this.createSvg(e)}catch(e){return Bn(e.message)}return Pn(t,`A ${this.type} Diagram`)}}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Dn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}const Fn=new(function(){function e(){this.decimalsign="\\.",this.setup_symbols(),this.sort_symbols()}var t=e.prototype;return t.setup_symbols=function(){this.greek_letters=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","varepsilon","zeta","eta","theta","Theta","vartheta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","sigma","Sigma","tau","upsilon","phi","Phi","varphi","chi","psi","Psi","omega","Omega"],this.relations=[{asciimath:":=",tex:":="},{asciimath:":|:",tex:"\\mid"},{asciimath:"=>",tex:"\\Rightarrow"},{asciimath:"approx",tex:"\\approx"},{asciimath:"~~",tex:"\\approx"},{asciimath:"cong",tex:"\\cong"},{asciimath:"~=",tex:"\\cong"},{asciimath:"equiv",tex:"\\equiv"},{asciimath:"-=",tex:"\\equiv"},{asciimath:"exists",tex:"\\exists"},{asciimath:"EE",tex:"\\exists"},{asciimath:"forall",tex:"\\forall"},{asciimath:"AA",tex:"\\forall"},{asciimath:">=",tex:"\\ge"},{asciimath:"ge",tex:"\\ge"},{asciimath:"gt=",tex:"\\geq"},{asciimath:"geq",tex:"\\geq"},{asciimath:"gt",tex:"\\gt"},{asciimath:"in",tex:"\\in"},{asciimath:"<=",tex:"\\le"},{asciimath:"le",tex:"\\le"},{asciimath:"lt=",tex:"\\leq"},{asciimath:"leq",tex:"\\leq"},{asciimath:"lt",tex:"\\lt"},{asciimath:"models",tex:"\\models"},{asciimath:"|==",tex:"\\models"},{asciimath:"!=",tex:"\\ne"},{asciimath:"ne",tex:"\\ne"},{asciimath:"notin",tex:"\\notin"},{asciimath:"!in",tex:"\\notin"},{asciimath:"prec",tex:"\\prec"},{asciimath:"-lt",tex:"\\prec"},{asciimath:"-<",tex:"\\prec"},{asciimath:"preceq",tex:"\\preceq"},{asciimath:"-<=",tex:"\\preceq"},{asciimath:"propto",tex:"\\propto"},{asciimath:"prop",tex:"\\propto"},{asciimath:"subset",tex:"\\subset"},{asciimath:"sub",tex:"\\subset"},{asciimath:"subseteq",tex:"\\subseteq"},{asciimath:"sube",tex:"\\subseteq"},{asciimath:"succ",tex:"\\succ"},{asciimath:">-",tex:"\\succ"},{asciimath:"succeq",tex:"\\succeq"},{asciimath:">-=",tex:"\\succeq"},{asciimath:"supset",tex:"\\supset"},{asciimath:"sup",tex:"\\supset"},{asciimath:"supseteq",tex:"\\supseteq"},{asciimath:"supe",tex:"\\supseteq"},{asciimath:"vdash",tex:"\\vdash"},{asciimath:"|--",tex:"\\vdash"}],this.constants=[{asciimath:"dt",tex:"dt"},{asciimath:"dx",tex:"dx"},{asciimath:"dy",tex:"dy"},{asciimath:"dz",tex:"dz"},{asciimath:"prime",tex:"'"},{asciimath:"implies",tex:"\\implies"},{asciimath:"epsi",tex:"\\epsilon"},{asciimath:"leftrightarrow",tex:"\\leftrightarrow"},{asciimath:"Leftrightarrow",tex:"\\Leftrightarrow"},{asciimath:"rightarrow",tex:"\\rightarrow"},{asciimath:"Rightarrow",tex:"\\Rightarrow"},{asciimath:"backslash",tex:"\\backslash"},{asciimath:"leftarrow",tex:"\\leftarrow"},{asciimath:"Leftarrow",tex:"\\Leftarrow"},{asciimath:"setminus",tex:"\\setminus"},{asciimath:"bigwedge",tex:"\\bigwedge"},{asciimath:"diamond",tex:"\\diamond"},{asciimath:"bowtie",tex:"\\bowtie"},{asciimath:"bigvee",tex:"\\bigvee"},{asciimath:"bigcap",tex:"\\bigcap"},{asciimath:"bigcup",tex:"\\bigcup"},{asciimath:"square",tex:"\\square"},{asciimath:"lamda",tex:"\\lambda"},{asciimath:"Lamda",tex:"\\Lambda"},{asciimath:"aleph",tex:"\\aleph"},{asciimath:"angle",tex:"\\angle"},{asciimath:"frown",tex:"\\frown"},{asciimath:"qquad",tex:"\\qquad"},{asciimath:"cdots",tex:"\\cdots"},{asciimath:"vdots",tex:"\\vdots"},{asciimath:"ddots",tex:"\\ddots"},{asciimath:"cdot",tex:"\\cdot"},{asciimath:"star",tex:"\\star"},{asciimath:"|><|",tex:"\\bowtie"},{asciimath:"circ",tex:"\\circ"},{asciimath:"oint",tex:"\\oint"},{asciimath:"grad",tex:"\\nabla"},{asciimath:"quad",tex:"\\quad"},{asciimath:"uarr",tex:"\\uparrow"},{asciimath:"darr",tex:"\\downarrow"},{asciimath:"downarrow",tex:"\\downarrow"},{asciimath:"rarr",tex:"\\rightarrow"},{asciimath:">->>",tex:"\\twoheadrightarrowtail"},{asciimath:"larr",tex:"\\leftarrow"},{asciimath:"harr",tex:"\\leftrightarrow"},{asciimath:"rArr",tex:"\\Rightarrow"},{asciimath:"lArr",tex:"\\Leftarrow"},{asciimath:"hArr",tex:"\\Leftrightarrow"},{asciimath:"ast",tex:"\\ast"},{asciimath:"***",tex:"\\star"},{asciimath:"|><",tex:"\\ltimes"},{asciimath:"><|",tex:"\\rtimes"},{asciimath:"^^^",tex:"\\bigwedge"},{asciimath:"vvv",tex:"\\bigvee"},{asciimath:"cap",tex:"\\cap"},{asciimath:"nnn",tex:"\\bigcap"},{asciimath:"cup",tex:"\\cup"},{asciimath:"uuu",tex:"\\bigcup"},{asciimath:"not",tex:"\\neg"},{asciimath:"<=>",tex:"\\Leftrightarrow"},{asciimath:"_|_",tex:"\\bot"},{asciimath:"bot",tex:"\\bot"},{asciimath:"int",tex:"\\int"},{asciimath:"del",tex:"\\partial"},{asciimath:"...",tex:"\\ldots"},{asciimath:"/_\\",tex:"\\triangle"},{asciimath:"|__",tex:"\\lfloor"},{asciimath:"__|",tex:"\\rfloor"},{asciimath:"dim",tex:"\\dim"},{asciimath:"mod",tex:"\\operatorname{mod}"},{asciimath:"lub",tex:"\\operatorname{lub}"},{asciimath:"glb",tex:"\\operatorname{glb}"},{asciimath:">->",tex:"\\rightarrowtail"},{asciimath:"->>",tex:"\\twoheadrightarrow"},{asciimath:"|->",tex:"\\mapsto"},{asciimath:"lim",tex:"\\lim"},{asciimath:"Lim",tex:"\\operatorname{Lim}"},{asciimath:"and",tex:"\\quad\\text{and}\\quad"},{asciimath:"**",tex:"\\ast"},{asciimath:"//",tex:"/"},{asciimath:"\\",tex:"\\,"},{asciimath:"\\\\",tex:"\\backslash"},{asciimath:"xx",tex:"\\times"},{asciimath:"-:",tex:"\\div"},{asciimath:"o+",tex:"\\oplus"},{asciimath:"ox",tex:"\\otimes"},{asciimath:"o.",tex:"\\odot"},{asciimath:"^",tex:"\\hat{}"},{asciimath:"_",tex:"\\_"},{asciimath:"^^",tex:"\\wedge"},{asciimath:"vv",tex:"\\vee"},{asciimath:"nn",tex:"\\cap"},{asciimath:"uu",tex:"\\cup"},{asciimath:"TT",tex:"\\top"},{asciimath:"+-",tex:"\\pm"},{asciimath:"O/",tex:"\\emptyset"},{asciimath:"oo",tex:"\\infty"},{asciimath:":.",tex:"\\therefore"},{asciimath:":'",tex:"\\because"},{asciimath:"/_",tex:"\\angle"},{asciimath:"|~",tex:"\\lceil"},{asciimath:"~|",tex:"\\rceil"},{asciimath:"CC",tex:"\\mathbb{C}"},{asciimath:"NN",tex:"\\mathbb{N}"},{asciimath:"QQ",tex:"\\mathbb{Q}"},{asciimath:"RR",tex:"\\mathbb{R}"},{asciimath:"ZZ",tex:"\\mathbb{Z}"},{asciimath:"->",tex:"\\to"},{asciimath:"or",tex:"\\quad\\text{or}\\quad"},{asciimath:"if",tex:"\\quad\\text{if}\\quad"},{asciimath:"iff",tex:"\\iff"},{asciimath:"*",tex:"\\cdot"},{asciimath:"@",tex:"\\circ"},{asciimath:"%",tex:"\\%"},{asciimath:"boxempty",tex:"\\square"},{asciimath:"lambda",tex:"\\lambda"},{asciimath:"Lambda",tex:"\\Lambda"},{asciimath:"nabla",tex:"\\nabla"},{asciimath:"uparrow",tex:"\\uparrow"},{asciimath:"downarrow",tex:"\\downarrow"},{asciimath:"twoheadrightarrowtail",tex:"\\twoheadrightarrowtail"},{asciimath:"ltimes",tex:"\\ltimes"},{asciimath:"rtimes",tex:"\\rtimes"},{asciimath:"neg",tex:"\\neg"},{asciimath:"partial",tex:"\\partial"},{asciimath:"ldots",tex:"\\ldots"},{asciimath:"triangle",tex:"\\triangle"},{asciimath:"lfloor",tex:"\\lfloor"},{asciimath:"rfloor",tex:"\\rfloor"},{asciimath:"rightarrowtail",tex:"\\rightarrowtail"},{asciimath:"twoheadrightarrow",tex:"\\twoheadrightarrow"},{asciimath:"mapsto",tex:"\\mapsto"},{asciimath:"times",tex:"\\times"},{asciimath:"div",tex:"\\div"},{asciimath:"divide",tex:"\\div"},{asciimath:"oplus",tex:"\\oplus"},{asciimath:"otimes",tex:"\\otimes"},{asciimath:"odot",tex:"\\odot"},{asciimath:"wedge",tex:"\\wedge"},{asciimath:"vee",tex:"\\vee"},{asciimath:"top",tex:"\\top"},{asciimath:"pm",tex:"\\pm"},{asciimath:"emptyset",tex:"\\emptyset"},{asciimath:"infty",tex:"\\infty"},{asciimath:"therefore",tex:"\\therefore"},{asciimath:"because",tex:"\\because"},{asciimath:"lceil",tex:"\\lceil"},{asciimath:"rceil",tex:"\\rceil"},{asciimath:"to",tex:"\\to"},{asciimath:"langle",tex:"\\langle"},{asciimath:"lceiling",tex:"\\lceil"},{asciimath:"rceiling",tex:"\\rceil"},{asciimath:"max",tex:"\\max"},{asciimath:"min",tex:"\\min"},{asciimath:"prod",tex:"\\prod"},{asciimath:"sum",tex:"\\sum"}],this.constants=this.constants.concat(this.relations),this.left_brackets=[{asciimath:"langle",tex:"\\langle"},{asciimath:"(:",tex:"\\langle"},{asciimath:"<<",tex:"\\langle"},{asciimath:"{:",tex:"."},{asciimath:"(",tex:"("},{asciimath:"[",tex:"["},{asciimath:"|:",tex:"\\lvert"},{asciimath:"{",tex:"\\lbrace"},{asciimath:"lbrace",tex:"\\lbrace"}],this.right_brackets=[{asciimath:"rangle",tex:"\\rangle"},{asciimath:":)",tex:"\\rangle"},{asciimath:">>",tex:"\\rangle"},{asciimath:":}",tex:".",free_tex:":\\}"},{asciimath:")",tex:")"},{asciimath:"]",tex:"]"},{asciimath:":|",tex:"\\rvert"},{asciimath:"}",tex:"\\rbrace"},{asciimath:"rbrace",tex:"\\rbrace"}],this.leftright_brackets=[{asciimath:"|",left_tex:"\\lvert",right_tex:"\\rvert",free_tex:"|",mid_tex:"\\mid"}],this.unary_symbols=[{asciimath:"sqrt",tex:"\\sqrt"},{asciimath:"f",tex:"f",func:!0},{asciimath:"g",tex:"g",func:!0},{asciimath:"sin",tex:"\\sin",func:!0},{asciimath:"cos",tex:"\\cos",func:!0},{asciimath:"tan",tex:"\\tan",func:!0},{asciimath:"arcsin",tex:"\\arcsin",func:!0},{asciimath:"arccos",tex:"\\arccos",func:!0},{asciimath:"arctan",tex:"\\arctan",func:!0},{asciimath:"sinh",tex:"\\sinh",func:!0},{asciimath:"cosh",tex:"\\cosh",func:!0},{asciimath:"tanh",tex:"\\tanh",func:!0},{asciimath:"cot",tex:"\\cot",func:!0},{asciimath:"coth",tex:"\\coth",func:!0},{asciimath:"sech",tex:"\\operatorname{sech}",func:!0},{asciimath:"csch",tex:"\\operatorname{csch}",func:!0},{asciimath:"sec",tex:"\\sec",func:!0},{asciimath:"csc",tex:"\\csc",func:!0},{asciimath:"log",tex:"\\log",func:!0},{asciimath:"ln",tex:"\\ln",func:!0},{asciimath:"abs",rewriteleftright:["|","|"]},{asciimath:"norm",rewriteleftright:["\\|","\\|"]},{asciimath:"floor",rewriteleftright:["\\lfloor","\\rfloor"]},{asciimath:"ceil",rewriteleftright:["\\lceil","\\rceil"]},{asciimath:"Sin",tex:"\\Sin",func:!0},{asciimath:"Cos",tex:"\\Cos",func:!0},{asciimath:"Tan",tex:"\\Tan",func:!0},{asciimath:"Arcsin",tex:"\\Arcsin",func:!0},{asciimath:"Arccos",tex:"\\Arccos",func:!0},{asciimath:"Arctan",tex:"\\Arctan",func:!0},{asciimath:"Sinh",tex:"\\Sinh",func:!0},{asciimath:"Cosh",tex:"\\Cosh",func:!0},{asciimath:"Tanh",tex:"\\Tanh",func:!0},{asciimath:"Cot",tex:"\\Cot",func:!0},{asciimath:"Sec",tex:"\\Sec",func:!0},{asciimath:"Csc",tex:"\\Csc",func:!0},{asciimath:"Log",tex:"\\Log",func:!0},{asciimath:"Ln",tex:"\\Ln",func:!0},{asciimath:"Abs",tex:"\\Abs",rewriteleftright:["|","|"]},{asciimath:"det",tex:"\\det",func:!0},{asciimath:"exp",tex:"\\exp",func:!0},{asciimath:"gcd",tex:"\\gcd",func:!0},{asciimath:"lcm",tex:"\\operatorname{lcm}",func:!0},{asciimath:"cancel",tex:"\\cancel"},{asciimath:"Sqrt",tex:"\\Sqrt"},{asciimath:"hat",tex:"\\hat",acc:!0},{asciimath:"bar",tex:"\\overline",acc:!0},{asciimath:"overline",tex:"\\overline",acc:!0},{asciimath:"vec",tex:"\\vec",acc:!0},{asciimath:"tilde",tex:"\\tilde",acc:!0},{asciimath:"dot",tex:"\\dot",acc:!0},{asciimath:"ddot",tex:"\\ddot",acc:!0},{asciimath:"ul",tex:"\\underline",acc:!0},{asciimath:"underline",tex:"\\underline",acc:!0},{asciimath:"ubrace",tex:"\\underbrace",acc:!0},{asciimath:"underbrace",tex:"\\underbrace",acc:!0},{asciimath:"obrace",tex:"\\overbrace",acc:!0},{asciimath:"overbrace",tex:"\\overbrace",acc:!0},{asciimath:"bb",atname:"mathvariant",atval:"bold",tex:"\\mathbf"},{asciimath:"mathbf",atname:"mathvariant",atval:"bold",tex:"mathbf"},{asciimath:"sf",atname:"mathvariant",atval:"sans-serif",tex:"\\mathsf"},{asciimath:"mathsf",atname:"mathvariant",atval:"sans-serif",tex:"mathsf"},{asciimath:"bbb",atname:"mathvariant",atval:"double-struck",tex:"\\mathbb"},{asciimath:"mathbb",atname:"mathvariant",atval:"double-struck",tex:"\\mathbb"},{asciimath:"cc",atname:"mathvariant",atval:"script",tex:"\\mathcal"},{asciimath:"mathcal",atname:"mathvariant",atval:"script",tex:"\\mathcal"},{asciimath:"tt",atname:"mathvariant",atval:"monospace",tex:"\\mathtt"},{asciimath:"mathtt",atname:"mathvariant",atval:"monospace",tex:"\\mathtt"},{asciimath:"fr",atname:"mathvariant",atval:"fraktur",tex:"\\mathfrak"},{asciimath:"mathfrak",atname:"mathvariant",atval:"fraktur",tex:"\\mathfrak"}],this.binary_symbols=[{asciimath:"root",tex:"\\sqrt",option:!0},{asciimath:"frac",tex:"\\frac"},{asciimath:"stackrel",tex:"\\stackrel"},{asciimath:"overset",tex:"\\overset"},{asciimath:"underset",tex:"\\underset"},{asciimath:"color",tex:"\\color",rawfirst:!0}],this.non_constant_symbols=["_","^","/"]},t.sort_symbols=function(){var e=function(e,t){return(e=e.asciimath.length)>(t=t.asciimath.length)?-1:e<t?1:0};this.constants.sort(e),this.relations.sort(e),this.left_brackets.sort(e),this.right_brackets.sort(e),this.leftright_brackets.sort(e),this.unary_symbols.sort(e),this.binary_symbols.sort(e)},t.error=function(e,t){var n=this.source(t).slice(0,5);throw new Error("Error at character "+t+' near "'+n+'": '+e)},t.literal=function(e){if(e)return{tex:e.token,pos:e.pos,end:e.end,ttype:"literal"}},t.longest=function(e){return(e=e.filter((function(e){return!!e}))).sort((function(e,t){return(e=e.end)>(t=t.end)?-1:e<t?1:0})),e[0]},t.escape_text=function(e){return e.replace(/\{/g,"\\{").replace(/\}/g,"\\}")},t.input=function(e){this._source=e,this.brackets=[]},t.source=function(e,t){return void 0===e&&(e=0),arguments.length>1?this._source.slice(e,t):this._source.slice(e)},t.eof=function(e){return void 0===e&&(e=0),(e=this.strip_space(e))==this._source.length},t.unbracket=function(e){if(e){if(!e.bracket)return e;var t=["(",")","[","]","{","}"],n=t.includes(e.left.asciimath),i=t.includes(e.right.asciimath),a=n?"":e.left.tex,r=i?"":e.right.tex,s=e.middle?e.middle.tex:"";return a||r?{tex:"\\left "+(a=a||".")+" "+s+" \\right "+(r=r||"."),pos:e.pos,end:e.end}:{tex:s,pos:e.pos,end:e.end,middle_asciimath:this.source(n?e.left.end:e.pos,i?e.right.pos:e.end)}}},t.parse=function(e){return this.input(e),this.consume().tex},t.consume=function(e){void 0===e&&(e=0);for(var t="",n=[];!this.eof(e);){var i=this.expression_list(e);if(!i){var a=this.right_bracket(e);a&&(a.def.free_tex&&(a.tex=a.def.free_tex),i=a);var r=this.leftright_bracket(e);if(r){i=r;var s=this.subsup(r.end);s&&(i={tex:""+i.tex+s.tex,pos:e,end:s.end,ttype:"expression"})}}if(i)t&&(t+=" "),t+=i.tex,e=i.end,n.push(i);else if(!this.eof(e)){var o=this.source(e,e+1);n.push({tex:o,pos:e,ttype:"character"}),t+=o,e+=1}}return{tex:t,exprs:n}},t.strip_space=function(e){void 0===e&&(e=0);var t=this.source(e),n=t.replace(/^(\s|\\(?![\\ ]))*/,"");return e+t.length-n.length},t.match=function(e,t){t=this.strip_space(t);var n=e.exec(this.source(t));if(n){var i=n[0];return{token:i,pos:t,match:n,end:t+i.length,ttype:"regex"}}},t.exact=function(e,t){if(t=this.strip_space(t),this.source(t).slice(0,e.length)==e)return{token:e,pos:t,end:t+e.length,ttype:"exact"}},t.expression_list=function(e){void 0===e&&(e=0);var t=this.expression(e);if(t){for(var n=t.end,i=t.tex,a=[t];!this.eof(n);){var r=this.exact(",",n);if(!r)break;if(i+=" ,",!(t=this.expression(n=r.end)))break;i+=" "+t.tex,a.push(t),n=t.end}return{tex:i,pos:e,end:n,exprs:a,ttype:"expression_list"}}},t.expression=function(e){void 0===e&&(e=0);var t=this.negative_expression(e);if(t)return t;var n=this.intermediate_or_fraction(e);if(n){if(this.eof(n.end))return n;var i=this.expression(n.end);return i?{tex:n.tex+" "+i.tex,pos:n.pos,end:i.end,ttype:"expression",exprs:[n,i]}:n}for(var a,r=Dn(this.non_constant_symbols);!(a=r()).done;){var s=a.value,o=this.exact(s,e);if(o)return{tex:s,pos:e,end:o.end,ttype:"constant"}}},t.negative_expression=function(e){void 0===e&&(e=0);var t=this.exact("-",e);if(t&&!this.other_constant(e)){var n=this.expression(t.end);return n?{tex:"- "+n.tex,pos:e,end:n.end,ttype:"negative_expression",dash:t,expression:n}:{tex:"-",pos:e,end:t.end,ttype:"constant"}}},t.intermediate_or_fraction=function(e){void 0===e&&(e=0);var t=this.intermediate(e);if(t){var n=this.match(/^\/(?!\/)/,t.end);if(n){var i=this.intermediate(n.end);if(i){var a=this.unbracket(t),r=this.unbracket(i);return{tex:"\\frac{"+a.tex+"}{"+r.tex+"}",pos:t.pos,end:i.end,ttype:"fraction",numerator:a,denominator:r,raw_numerator:t,raw_denominator:i}}var s=this.unbracket(t);return{tex:"\\frac{"+s.tex+"}{}",pos:t.pos,end:n.end,ttype:"fraction",numerator:s,denominator:null,raw_numerator:t,raw_denominator:null}}return t}},t.intermediate=function(e){void 0===e&&(e=0);var t=this.simple(e);if(t){var n=this.subsup(t.end);return n?{tex:""+t.tex+n.tex,pos:e,end:n.end,ttype:"intermediate",expression:t,subsup:n}:t}},t.subsup=function(e){void 0===e&&(e=0);var t,n,i="",a=e,r=this.exact("_",e);r&&((t=this.unbracket(this.simple(r.end)))?(i=i+"_{"+t.tex+"}",a=t.end):(i+="_{}",a=r.end));var s=this.match(/^\^(?!\^)/,a);if(s&&((n=this.unbracket(this.simple(s.end)))?(i=i+"^{"+n.tex+"}",a=n.end):(i+="^{}",a=s.end)),r||s)return{tex:i,pos:e,end:a,ttype:"subsup",sub:t,sup:n}},t.simple=function(e){return void 0===e&&(e=0),this.longest([this.matrix(e),this.bracketed_expression(e),this.binary(e),this.constant(e),this.text(e),this.unary(e),this.negative_simple(e)])},t.negative_simple=function(e){void 0===e&&(e=0);var t=this.exact("-",e);if(t&&!this.other_constant(e)){var n=this.simple(t.end);return n?{tex:"- "+n.tex,pos:e,end:n.end,ttype:"negative_simple",dash:t,expr:n}:{tex:"-",pos:e,end:t.end,ttype:"constant"}}},t.matrix=function(e){void 0===e&&(e=0);var t=this.left_bracket(e),n=!1;if(!t){if(!(t=this.leftright_bracket(e,"left")))return;n=!0}var i=this.matrix_contents(t.end,n);if(i){var a=n?this.leftright_bracket(i.end,"right"):this.right_bracket(i.end);if(a){var r=i.rows.map((function(e){return e.tex})).join(" \\\\ ");return{tex:"\\left "+t.tex+" "+(i.is_array?"\\begin{array}{"+i.column_desc+"} "+r+" \\end{array}":"\\begin{matrix} "+r+" \\end{matrix}")+" \\right "+a.tex,pos:e,end:a.end,ttype:"matrix",rows:i.rows,left:t,right:a}}}},t.matrix_contents=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);for(var n=[],i=e,a=void 0,r=void 0,s=!1;!this.eof(i)&&!(t?this.leftright_bracket(i):this.right_bracket(i));){if(n.length){var o=this.exact(",",i);if(!o)return;i=o.end}var l=this.match(/^[(\[]/,i);if(!l)return;var c=[],d=[];for(i=l.end;!this.eof(i);){if(c.length){var h=this.exact(",",i);if(!h)break;i=h.end}var u=this.matrix_cell(i);if(!u)break;"column"==u.ttype?(d.push("|"),s=!0,null!==u.expr&&(d.push("r"),c.push(u.expr))):(d.push("r"),c.push(u)),i=u.end}if(!c.length)return;if(void 0===a)a=c.length;else if(c.length!=a)return;var m=this.match(/^[)\]]/,i);if(!m)return;var p=d.join("");if(void 0===r)r=p;else if(p!=r)return;n.push({ttype:"row",tex:c.map((function(e){return e.tex})).join(" & "),pos:l.end,end:i,cells:c}),i=m.end}if(!(void 0===a||a<=1&&n.length<=1))return{rows:n,end:i,column_desc:r,is_array:s}},t.matrix_cell=function(e){void 0===e&&(e=0);var t=this.exact("|",e);if(t){var n=this.expression(t.end);if(!n)return{ttype:"column",expr:null,pos:t.pos,end:t.end};var i=this.exact("|",n.end);if(!i)return{ttype:"column",expr:n,pos:t.pos,end:n.end};var a=this.expression(i.end);if(a)return{tex:"\\left \\lvert "+n.tex+" \\right \\rvert "+a.text,pos:t.pos,end:a.end,ttype:"expression",exprs:[n,a]}}return this.expression(e)},t.bracketed_expression=function(e){void 0===e&&(e=0);var t=this.left_bracket(e);if(t){var n=this.expression_list(t.end);if(n){var i=this.mid_expression(t,n,e);if(i)return i;var a=this.right_bracket(n.end)||this.leftright_bracket(n.end,"right");return a?{tex:"\\left "+t.tex+" "+n.tex+" \\right "+a.tex,pos:e,end:a.end,bracket:!0,left:t,right:a,middle:n,ttype:"bracket"}:this.eof(n.end)?{tex:"\\left "+t.tex+" "+n.tex+" \\right.",pos:e,end:n.end,ttype:"bracket",left:t,right:null,middle:n}:{tex:t.tex+" "+n.tex,pos:e,end:n.end,ttype:"expression",exprs:[t,n]}}var r=this.right_bracket(t.end)||this.leftright_bracket(t.end,"right");return r?{tex:"\\left "+t.tex+" \\right "+r.tex,pos:e,end:r.end,bracket:!0,left:t,right:r,middle:null,ttype:"bracket"}:{tex:t.tex,pos:e,end:t.end,ttype:"constant"}}if(!this.other_constant(e)){var s=this.leftright_bracket(e,"left");if(s){var o=this.expression_list(s.end);if(o){var l=this.mid_expression(s,o,e);if(l)return l;var c=this.leftright_bracket(o.end,"right")||this.right_bracket(o.end);if(c)return{tex:"\\left "+s.tex+" "+o.tex+" \\right "+c.tex,pos:e,end:c.end,bracket:!0,left:s,right:c,middle:o,ttype:"bracket"}}}}},t.mid_expression=function(e,t,n){if(1==t.exprs.length&&"expression"==t.exprs[0].ttype){for(var i=[t.exprs[0].exprs[0]],a=t.exprs[0].exprs[1],r=t.end;"expression"==a.ttype;){var s=a.exprs[0];if("bracket"==(h=s).ttype&&"leftright_bracket"==h.left.ttype){a=s,r=s.end;break}i.push(a.exprs[0]),a=a.exprs[1]}if("fraction"==a.ttype&&(r=(a=a.raw_numerator).end),"bracket"!=a.ttype||"leftright_bracket"!=a.left.ttype)return;var o=i.map((function(e){return e.tex})).join(" "),l=a.left,c=a.middle.exprs.map((function(e){return e.tex})).join(" "),d=a.right;return{tex:"\\left "+e.tex+" "+o+" "+l.def.mid_tex+" "+c+" \\right "+d.tex,pos:n,end:r,left:e,right:d,middle:{tex:o+" "+l.def.mid_tex+" "+c,exprs:i.concat([l,a.middle]),pos:t.pos,end:a.middle.end,ttype:"expression_list"}}}var h},t.right_bracket=function(e){void 0===e&&(e=0);for(var t,n=Dn(this.right_brackets);!(t=n()).done;){var i=t.value,a=this.exact(i.asciimath,e);if(a)return{tex:i.tex,pos:e,end:a.end,asciimath:i.asciimath,def:i,ttype:"right_bracket"}}},t.left_bracket=function(e){void 0===e&&(e=0);for(var t,n=Dn(this.left_brackets);!(t=n()).done;){var i=t.value,a=this.exact(i.asciimath,e);if(a)return{tex:i.tex,pos:e,end:a.end,asciimath:i.asciimath,ttype:"left_bracket"}}},t.leftright_bracket=function(e,t){void 0===e&&(e=0);for(var n,i=Dn(this.leftright_brackets);!(n=i()).done;){var a=n.value,r=this.exact(a.asciimath,e);if(r)return this.exact(",",r.end)?{tex:a.free_tex,pos:e,end:r.end,ttype:"binary"}:{tex:"left"==t?a.left_tex:"right"==t?a.right_tex:a.free_tex,pos:e,end:r.end,ttype:"leftright_bracket",def:a}}},t.text=function(e){void 0===e&&(e=0);var t=this.match(/^"([^"]*)"/,e);if(t){var n=this.escape_text(t.match[1]);return{tex:"\\text{"+n+"}",pos:e,end:t.end,ttype:"text",text:n}}var i=this.match(/^(?:mbox|text)\s*(\([^)]*\)?|\{[^}]*\}?|\[[^\]]*\]?)/,e);if(i){var a=this.escape_text(i.match[1].slice(1,i.match[1].length-1));return{tex:"\\text{"+a+"}",pos:e,end:i.end,ttype:"text",text:a}}},t.binary=function(e){void 0===e&&(e=0);for(var t,n=Dn(this.binary_symbols);!(t=n()).done;){var i=t.value,a=this.exact(i.asciimath,e),r=i.option?["[","]"]:["{","}"],s=r[0],o=r[1];if(a){var l=this.unbracket(this.simple(a.end));if(l){var c=i.rawfirst?l.middle_asciimath:l.tex,d=this.unbracket(this.simple(l.end));return d?{tex:""+i.tex+s+c+o+"{"+d.tex+"}",pos:e,end:d.end,ttype:"binary",op:i,arg1:l,arg2:d}:{tex:""+i.tex+s+c+o+"{}",pos:e,end:l.end,ttype:"binary",op:i,arg1:l,arg2:null}}return{tex:""+i.tex+s+o+"{}",pos:e,end:a.end,ttype:"binary",op:i,arg1:null,arg2:null}}}},t.unary=function(e){void 0===e&&(e=0);for(var t,n=Dn(this.unary_symbols);!(t=n()).done;){var i=t.value,a=this.exact(i.asciimath,e);if(a){var r=this.subsup(a.end),s=r?r.tex:"",o=this.simple(r?r.end:a.end),l=i.func?o:this.unbracket(o),c=l&&(i.raw?l.middle_asciimath:l.tex);if(i.rewriteleftright){var d=i.rewriteleftright,h=d[0],u=d[1];return l?{tex:"\\left "+h+" "+c+" \\right "+u+" "+s,pos:e,end:l.end,ttype:"unary",op:a,subsup:r,arg:l}:{tex:"\\left "+h+" \\right "+u+" "+s,pos:e,end:a.end,ttype:"unary",op:a,subsup:r,arg:null}}return l?{tex:""+i.tex+s+"{"+c+"}",pos:e,end:l.end,ttype:"unary",op:a,subsup:r,arg:l}:{tex:""+i.tex+s+"{}",pos:e,end:a.end,ttype:"unary",op:a,subsup:r,arg:null}}}},t.constant=function(e){if(void 0===e&&(e=0),!this.right_bracket(e))return this.longest([this.other_constant(e),this.greek(e),this.name(e),this.number(e),this.arbitrary_constant(e)])},t.name=function(e){return void 0===e&&(e=0),this.literal(this.match(/^[A-Za-z]/,e))},t.greek=function(e){void 0===e&&(e=0);var t=new RegExp("^("+this.greek_letters.join("|")+")"),n=this.match(t,e);if(n)return{tex:"\\"+n.token,pos:e,end:n.end,ttype:"greek"}},t.number=function(e){void 0===e&&(e=0);var t=new RegExp("^\\d+("+this.decimalsign+"\\d+)?");return this.literal(this.match(t,e))},t.other_constant=function(e){void 0===e&&(e=0);for(var t,n=Dn(this.constants);!(t=n()).done;){var i=t.value,a=this.exact(i.asciimath,e);if(a)return{tex:""+i.tex,pos:a.pos,end:a.end,ttype:"other_constant"}}for(var r,s=Dn(this.relations);!(r=s()).done;){var o=r.value;if(!o.asciimath.match(/^!/)){var l=this.exact("!"+o.asciimath,e);if(l)return{tex:"\\not "+o.tex,pos:l.pos,end:l.end,ttype:"other_constant"}}}},t.arbitrary_constant=function(e){if(void 0===e&&(e=0),!this.eof(e)){if(this.exact(",",e))return;for(var t,n=Dn(this.non_constant_symbols.concat(this.left_brackets.map((function(e){return e.asciimath})),this.right_brackets.map((function(e){return e.asciimath})),this.leftright_brackets.map((function(e){return e.asciimath}))));!(t=n()).done;)if(this.exact(t.value,e))return;var i=this.strip_space(e);return{tex:this.source(i).slice(0,1),pos:e,end:i+1,ttype:"arbitrary_constant"}}},e}());class jn extends Ln{static defaultScale=1.2;constructor(e,t=jn.defaultScale){super(),this.type=e,this.scale=t}async createSvg(e){const t=window.MathJax;let n;switch(await t.startup.promise,this.type){case"mml":n=t.mathml2svg(e);break;case"tex":n=t.tex2svg(e);break;case"asciimath":n=t.tex2svg(Fn.parse(e));break;default:throw Error(`unsupported type '${this.type}'`)}return Rn(n.getElementsByTagName("svg")[0],this.scale),n.getElementsByTagName("svg")[0].outerHTML}}var Un=[...["actdiag","blockdiag","bpmn","bytefield","ditaa","erd","excalidraw","graphviz","mermaid","nomnoml","nwdiag","packetdiag","pikchr","plantuml","rackdiag","seqdiag","structurizr","umlet","svgbob","vega","vegalite","wavedrom","d2","tikz"].map((e=>new On(e))),new jn("tex"),new jn("asciimath")].map((e=>e.cached()));class qn{constructor(e,t,n){this.templateName=t,this.rendererType=e,this.template=n}async load(){return this.template}}var $n=[new qn("mermaid","Mermaid Flowchart",zn("\n        graph TD;\n        A--\x3eB;\n        A--\x3eC;\n        B--\x3eD;\n        C--\x3eD;")),new qn("mermaid","Mermaid Sequence Diagram",zn("\n        sequenceDiagram\n            participant Alice\n            participant Bob\n            Alice->>John: Hello John, how are you?\n            loop Healthcheck\n                John->>John: Fight against hypochondria\n            end\n            Note right of John: Rational thoughts <br/>prevail!\n            John--\x3e>Alice: Great!\n            John->>Bob: How about you?\n            Bob--\x3e>John: Jolly good!\n    ")),new qn("mermaid","Mermaid ER Diagram",zn("\n        erDiagram\n        CUSTOMER ||--o{ ORDER : places\n        ORDER ||--|{ LINE-ITEM : contains\n        CUSTOMER }|..|{ DELIVERY-ADDRESS : uses")),new qn("plantuml","PlantUML Class Diagram",zn("\n        @startuml\n        class Car\n        \n        Driver - Car : drives >\n        Car *- Wheel : has 4 >\n        Car -- Person : < owns\n        \n        @enduml")),new qn("plantuml","PlantUML Sequence Diagram",zn("\n        @startuml\n        autonumber\n        Bob -> Alice : Authentication Request\n        Bob <- Alice : Authentication Response\n        @enduml")),new qn("plantuml","PlantUML Activity Diagram (new)",zn("\n        @startuml\n        start\n        :Hello world;\n        :This is defined on\n        several **lines**;\n        stop\n        @enduml")),new qn("plantuml","PlantUML C4 Container Diagram",zn('\n        @startuml\n        !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml\n        \n        Person(personAlias, "Label", "Optional Description")\n        Container(containerAlias, "Label", "Technology", "Optional Description")\n        System(systemAlias, "Label", "Optional Description")\n        \n        Rel(personAlias, containerAlias, "Label", "Optional Technology")\n        @enduml')),new qn("plantuml","PlantUML Work Breakdown Structure",zn("\n        @startwbs\n        skinparam monochrome true\n        * Business Process Modelling WBS\n        ** Launch the project\n        *** Complete Stakeholder Research\n        *** Initial Implementation Plan\n        ** Design phase\n        *** Model of AsIs Processes Completed\n        **** Model of AsIs Processes Completed1\n        **** Model of AsIs Processes Completed2\n        *** Measure AsIs performance metrics\n        *** Identify Quick Wins\n        ** Complete innovate phase\n        @endwbs")),new qn("d2","D2 Diagram",zn("\n        x -> y: hello world")),new qn("tikz","TikZ Diagram",zn("\n    \\usepackage{tikz}\n    \\usetikzlibrary{positioning}\n    \\begin{document}\n    \\begin{tikzpicture}[\n    roundnode/.style={circle, draw=green!60, fill=green!5, very thick, minimum size=7mm},\n    squarednode/.style={rectangle, draw=red!60, fill=red!5, very thick, minimum size=5mm},\n    ]\n    %Nodes\n    \\node[squarednode]      (maintopic)                              {2};\n    \\node[roundnode]        (uppercircle)       [above=of maintopic] {1};\n    \\node[squarednode]      (rightsquare)       [right=of maintopic] {3};\n    \\node[roundnode]        (lowercircle)       [below=of maintopic] {4};\n    \n    %Lines\n    \\draw[->] (uppercircle.south) -- (maintopic.north);\n    \\draw[->] (maintopic.east) -- (rightsquare.west);\n    \\draw[->] (rightsquare.south) .. controls +(down:7mm) and +(right:7mm) .. (lowercircle.east);\n    \\end{tikzpicture}\n    \\end{document}\n    ")),new qn("tikz","PGF Diagram",zn("\n    \\usepackage{pgf}\n    \n    \\begin{document}\n    \n    \\begin{pgfpicture}\n    \\pgfpathrectangle{\\pgfpointorigin}{\\pgfpoint{3cm}{2cm}}\n    \\pgfusepath{stroke}\n    \n    \\pgfpathcircle{\\pgfpoint{1.5cm}{1cm}}{1cm}\n    \\pgfusepath{stroke}\n    \\end{pgfpicture}\n    \n    \\end{document}\n    ")),new qn("blockdiag","BlockDiag Diagram",zn('\n        blockdiag {\n          blockdiag -> generates -> "Block diagrams";\n          blockdiag -> is -> "very easy!";\n        \n          blockdiag [color = "greenyellow"];\n          "Block diagrams" [color = "pink"];\n          "very easy!" [color = "orange"];\n        }')),new qn("seqdiag","SeqDiag Diagram",zn('\n    seqdiag {\n      browser  -> webserver [label = "GET /seqdiag/svg/base64"];\n      webserver  -> processor [label = "Convert text to image"];\n      webserver <-- processor;\n      browser <-- webserver;\n    }')),new qn("actdiag","ActDiag Diagram",zn('\n    actdiag {\n      write -> convert -> image\n    \n      lane user {\n        label = "User"\n        write [label = "Writing text"];\n        image [label = "Get diagram image"];\n      }\n      lane actdiag {\n        convert [label = "Convert text to image"];\n      }\n    }')),new qn("erd","Erd Diagram",zn("\n    [Person]\n    *name\n    height\n    weight\n    +birth_location_id\n    \n    [Location]\n    *id\n    city\n    state\n    country\n    \n    Person *--1 Location")),new qn("graphviz","Graphviz Diagram",zn("\n    digraph D {\n\n      A -> {B, C, D} -> {F}\n    \n    }")),new qn("nomnoml","Nomnoml Diagram",zn("\n    [Pirate|eyeCount: Int|raid();pillage()|\n      [beard]--[parrot]\n      [beard]-:>[foul mouth]\n    ]")),new qn("wavedrom","WaveDrom Diagram",zn('\n    { signal: [\n      { name: "clk",  wave: "P......" },\n      { name: "bus",  wave: "x.==.=x", data: ["head", "body", "tail", "data"] },\n      { name: "wire", wave: "0.1..0." }\n    ]}')),new qn("nwdiag","NwDiag Diagram",zn('\n    nwdiag {\n      network dmz {\n          address = "210.x.x.x/24"\n    \n          web01 [address = "210.x.x.1"];\n          web02 [address = "210.x.x.2"];\n      }\n      network internal {\n          address = "172.x.x.x/24";\n    \n          web01 [address = "172.x.x.1"];\n          web02 [address = "172.x.x.2"];\n          db01;\n          db02;\n      }\n    }')),new qn("asciimath","AsciiMath Formula","E=mc^2"),new qn("tex","TeX Formula","E=mc^2"),new qn("bpmn","BPMN Diagram",zn('\n    <?xml version="1.0" encoding="UTF-8"?>\n<semantic:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:semantic="http://www.omg.org/spec/BPMN/20100524/MODEL" id="_1275940932088" targetNamespace="http://www.trisotech.com/definitions/_1275940932088" exporter="Camunda Modeler" exporterVersion="1.16.0">\n  <semantic:message id="_1275940932310" />\n  <semantic:message id="_1275940932433" />\n  <semantic:process id="_6-1" isExecutable="false">\n    <semantic:laneSet id="ls_6-438">\n      <semantic:lane id="_6-650" name="clerk">\n        <semantic:flowNodeRef>OrderReceivedEvent</semantic:flowNodeRef>\n        <semantic:flowNodeRef>_6-652</semantic:flowNodeRef>\n        <semantic:flowNodeRef>_6-674</semantic:flowNodeRef>\n        <semantic:flowNodeRef>CalmCustomerTask</semantic:flowNodeRef>\n      </semantic:lane>\n      <semantic:lane id="_6-446" name="pizza chef">\n        <semantic:flowNodeRef>_6-463</semantic:flowNodeRef>\n      </semantic:lane>\n      <semantic:lane id="_6-448" name="delivery boy">\n        <semantic:flowNodeRef>_6-514</semantic:flowNodeRef>\n        <semantic:flowNodeRef>_6-565</semantic:flowNodeRef>\n        <semantic:flowNodeRef>_6-616</semantic:flowNodeRef>\n      </semantic:lane>\n    </semantic:laneSet>\n    <semantic:startEvent id="OrderReceivedEvent" name="Order received">\n      <semantic:outgoing>_6-630</semantic:outgoing>\n      <semantic:messageEventDefinition messageRef="_1275940932310" />\n    </semantic:startEvent>\n    <semantic:parallelGateway id="_6-652" name="">\n      <semantic:incoming>_6-630</semantic:incoming>\n      <semantic:outgoing>_6-691</semantic:outgoing>\n      <semantic:outgoing>_6-693</semantic:outgoing>\n    </semantic:parallelGateway>\n    <semantic:intermediateCatchEvent id="_6-674" name="„where is my pizza?“">\n      <semantic:incoming>_6-691</semantic:incoming>\n      <semantic:incoming>_6-746</semantic:incoming>\n      <semantic:outgoing>_6-748</semantic:outgoing>\n      <semantic:messageEventDefinition messageRef="_1275940932433" />\n    </semantic:intermediateCatchEvent>\n    <semantic:task id="CalmCustomerTask" name="Calm customer">\n      <semantic:incoming>_6-748</semantic:incoming>\n      <semantic:outgoing>_6-746</semantic:outgoing>\n    </semantic:task>\n    <semantic:task id="_6-463" name="Bake the pizza">\n      <semantic:incoming>_6-693</semantic:incoming>\n      <semantic:outgoing>_6-632</semantic:outgoing>\n    </semantic:task>\n    <semantic:task id="_6-514" name="Deliver the pizza">\n      <semantic:incoming>_6-632</semantic:incoming>\n      <semantic:outgoing>_6-634</semantic:outgoing>\n    </semantic:task>\n    <semantic:task id="_6-565" name="Receive payment">\n      <semantic:incoming>_6-634</semantic:incoming>\n      <semantic:outgoing>_6-636</semantic:outgoing>\n    </semantic:task>\n    <semantic:endEvent id="_6-616" name="">\n      <semantic:incoming>_6-636</semantic:incoming>\n      <semantic:terminateEventDefinition />\n    </semantic:endEvent>\n    <semantic:sequenceFlow id="_6-630" name="" sourceRef="OrderReceivedEvent" targetRef="_6-652" />\n    <semantic:sequenceFlow id="_6-632" name="" sourceRef="_6-463" targetRef="_6-514" />\n    <semantic:sequenceFlow id="_6-634" name="" sourceRef="_6-514" targetRef="_6-565" />\n    <semantic:sequenceFlow id="_6-636" name="" sourceRef="_6-565" targetRef="_6-616" />\n    <semantic:sequenceFlow id="_6-691" name="" sourceRef="_6-652" targetRef="_6-674" />\n    <semantic:sequenceFlow id="_6-693" name="" sourceRef="_6-652" targetRef="_6-463" />\n    <semantic:sequenceFlow id="_6-746" name="" sourceRef="CalmCustomerTask" targetRef="_6-674" />\n    <semantic:sequenceFlow id="_6-748" name="" sourceRef="_6-674" targetRef="CalmCustomerTask" />\n  </semantic:process>\n  <semantic:message id="_1275940932198" />\n  <semantic:process id="_6-2" isExecutable="false">\n    <semantic:startEvent id="_6-61" name="Hungry for pizza">\n      <semantic:outgoing>_6-125</semantic:outgoing>\n    </semantic:startEvent>\n    <semantic:task id="SelectAPizzaTask" name="Select a pizza">\n      <semantic:incoming>_6-125</semantic:incoming>\n      <semantic:outgoing>_6-178</semantic:outgoing>\n    </semantic:task>\n    <semantic:task id="_6-127" name="Order a pizza">\n      <semantic:incoming>_6-178</semantic:incoming>\n      <semantic:outgoing>_6-420</semantic:outgoing>\n    </semantic:task>\n    <semantic:eventBasedGateway id="_6-180" name="">\n      <semantic:incoming>_6-420</semantic:incoming>\n      <semantic:incoming>_6-430</semantic:incoming>\n      <semantic:outgoing>_6-422</semantic:outgoing>\n      <semantic:outgoing>_6-424</semantic:outgoing>\n    </semantic:eventBasedGateway>\n    <semantic:intermediateCatchEvent id="_6-202" name="pizza received">\n      <semantic:incoming>_6-422</semantic:incoming>\n      <semantic:outgoing>_6-428</semantic:outgoing>\n      <semantic:messageEventDefinition messageRef="_1275940932198" />\n    </semantic:intermediateCatchEvent>\n    <semantic:intermediateCatchEvent id="_6-219" name="60 minutes">\n      <semantic:incoming>_6-424</semantic:incoming>\n      <semantic:outgoing>_6-426</semantic:outgoing>\n      <semantic:timerEventDefinition>\n        <semantic:timeDate />\n      </semantic:timerEventDefinition>\n    </semantic:intermediateCatchEvent>\n    <semantic:task id="_6-236" name="Ask for the pizza">\n      <semantic:incoming>_6-426</semantic:incoming>\n      <semantic:outgoing>_6-430</semantic:outgoing>\n    </semantic:task>\n    <semantic:task id="_6-304" name="Pay the pizza">\n      <semantic:incoming>_6-428</semantic:incoming>\n      <semantic:outgoing>_6-434</semantic:outgoing>\n    </semantic:task>\n    <semantic:task id="_6-355" name="Eat the pizza">\n      <semantic:incoming>_6-434</semantic:incoming>\n      <semantic:outgoing>_6-436</semantic:outgoing>\n    </semantic:task>\n    <semantic:endEvent id="_6-406" name="Hunger satisfied">\n      <semantic:incoming>_6-436</semantic:incoming>\n    </semantic:endEvent>\n    <semantic:sequenceFlow id="_6-125" name="" sourceRef="_6-61" targetRef="SelectAPizzaTask" />\n    <semantic:sequenceFlow id="_6-178" name="" sourceRef="SelectAPizzaTask" targetRef="_6-127" />\n    <semantic:sequenceFlow id="_6-420" name="" sourceRef="_6-127" targetRef="_6-180" />\n    <semantic:sequenceFlow id="_6-422" name="" sourceRef="_6-180" targetRef="_6-202" />\n    <semantic:sequenceFlow id="_6-424" name="" sourceRef="_6-180" targetRef="_6-219" />\n    <semantic:sequenceFlow id="_6-426" name="" sourceRef="_6-219" targetRef="_6-236" />\n    <semantic:sequenceFlow id="_6-428" name="" sourceRef="_6-202" targetRef="_6-304" />\n    <semantic:sequenceFlow id="_6-430" name="" sourceRef="_6-236" targetRef="_6-180" />\n    <semantic:sequenceFlow id="_6-434" name="" sourceRef="_6-304" targetRef="_6-355" />\n    <semantic:sequenceFlow id="_6-436" name="" sourceRef="_6-355" targetRef="_6-406" />\n  </semantic:process>\n  <semantic:collaboration id="C1275940932557">\n    <semantic:participant id="_6-53" name="Pizza Customer" processRef="_6-2" />\n    <semantic:participant id="_6-438" name="Pizza vendor" processRef="_6-1" />\n    <semantic:messageFlow id="_6-638" name="pizza order" sourceRef="_6-127" targetRef="OrderReceivedEvent" />\n    <semantic:messageFlow id="_6-642" name="" sourceRef="_6-236" targetRef="_6-674" />\n    <semantic:messageFlow id="_6-646" name="receipt" sourceRef="_6-565" targetRef="_6-304" />\n    <semantic:messageFlow id="_6-648" name="money" sourceRef="_6-304" targetRef="_6-565" />\n    <semantic:messageFlow id="_6-640" name="pizza" sourceRef="_6-514" targetRef="_6-202" />\n    <semantic:messageFlow id="_6-750" name="" sourceRef="CalmCustomerTask" targetRef="_6-236" />\n  </semantic:collaboration>\n  <bpmndi:BPMNDiagram id="Trisotech.Visio-_6" name="Untitled Diagram" documentation="" resolution="96.00000267028808">\n    <bpmndi:BPMNPlane bpmnElement="C1275940932557">\n      <bpmndi:BPMNShape id="Trisotech.Visio__6-53" bpmnElement="_6-53" isHorizontal="true">\n        <dc:Bounds x="12" y="12" width="1044" height="294" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6-438" bpmnElement="_6-438" isHorizontal="true">\n        <dc:Bounds x="12" y="372" width="905" height="337" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-650" bpmnElement="_6-650" isHorizontal="true">\n        <dc:Bounds x="42" y="372" width="875" height="114" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-446" bpmnElement="_6-446" isHorizontal="true">\n        <dc:Bounds x="42" y="486" width="875" height="114" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-448" bpmnElement="_6-448" isHorizontal="true">\n        <dc:Bounds x="42" y="600" width="875" height="109" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6_OrderReceivedEvent" bpmnElement="OrderReceivedEvent">\n        <dc:Bounds x="79" y="405" width="30" height="30" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-652" bpmnElement="_6-652">\n        <dc:Bounds x="140" y="399" width="42" height="42" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-674" bpmnElement="_6-674">\n        <dc:Bounds x="218" y="404" width="32" height="32" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6_CalmCustomerTask" bpmnElement="CalmCustomerTask">\n        <dc:Bounds x="286" y="386" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-463" bpmnElement="_6-463">\n        <dc:Bounds x="252" y="521" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-514" bpmnElement="_6-514">\n        <dc:Bounds x="464" y="629" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-565" bpmnElement="_6-565">\n        <dc:Bounds x="603" y="629" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-616" bpmnElement="_6-616">\n        <dc:Bounds x="722" y="647" width="32" height="32" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-61" bpmnElement="_6-61">\n        <dc:Bounds x="66" y="96" width="30" height="30" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-74" bpmnElement="SelectAPizzaTask">\n        <dc:Bounds x="145" y="77" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-127" bpmnElement="_6-127">\n        <dc:Bounds x="265" y="77" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-180" bpmnElement="_6-180">\n        <dc:Bounds x="378" y="90" width="42" height="42" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-202" bpmnElement="_6-202">\n        <dc:Bounds x="647" y="95" width="32" height="32" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-219" bpmnElement="_6-219">\n        <dc:Bounds x="448" y="184" width="32" height="32" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-236" bpmnElement="_6-236">\n        <dc:Bounds x="517" y="166" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-304" bpmnElement="_6-304">\n        <dc:Bounds x="726" y="77" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-355" bpmnElement="_6-355">\n        <dc:Bounds x="834" y="77" width="83" height="68" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id="Trisotech.Visio__6__6-406" bpmnElement="_6-406">\n        <dc:Bounds x="956" y="95" width="32" height="32" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-640" bpmnElement="_6-640">\n        <di:waypoint x="506" y="629" />\n        <di:waypoint x="506" y="384" />\n        <di:waypoint x="663" y="384" />\n        <di:waypoint x="663" y="127" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-630" bpmnElement="_6-630">\n        <di:waypoint x="109" y="420" />\n        <di:waypoint x="140" y="420" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-691" bpmnElement="_6-691">\n        <di:waypoint x="182" y="420" />\n        <di:waypoint x="200" y="420" />\n        <di:waypoint x="218" y="420" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-648" bpmnElement="_6-648">\n        <di:waypoint x="754" y="145" />\n        <di:waypoint x="754" y="408" />\n        <di:waypoint x="630" y="408" />\n        <di:waypoint x="631" y="629" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-422" bpmnElement="_6-422">\n        <di:waypoint x="420" y="111" />\n        <di:waypoint x="438" y="111" />\n        <di:waypoint x="647" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-646" bpmnElement="_6-646" messageVisibleKind="non_initiating">\n        <di:waypoint x="658" y="629" />\n        <di:waypoint x="658" y="432" />\n        <di:waypoint x="782" y="432" />\n        <di:waypoint x="782" y="145" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-428" bpmnElement="_6-428">\n        <di:waypoint x="679" y="111" />\n        <di:waypoint x="726" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-748" bpmnElement="_6-748">\n        <di:waypoint x="250" y="420" />\n        <di:waypoint x="268" y="420" />\n        <di:waypoint x="286" y="420" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-420" bpmnElement="_6-420">\n        <di:waypoint x="348" y="111" />\n        <di:waypoint x="366" y="111" />\n        <di:waypoint x="378" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-636" bpmnElement="_6-636">\n        <di:waypoint x="686" y="663" />\n        <di:waypoint x="704" y="663" />\n        <di:waypoint x="722" y="663" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-750" bpmnElement="_6-750">\n        <di:waypoint x="328" y="386" />\n        <di:waypoint x="328" y="348" />\n        <di:waypoint x="572" y="348" />\n        <di:waypoint x="572" y="234" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-436" bpmnElement="_6-436">\n        <di:waypoint x="918" y="111" />\n        <di:waypoint x="936" y="111" />\n        <di:waypoint x="956" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-632" bpmnElement="_6-632">\n        <di:waypoint x="335" y="555" />\n        <di:waypoint x="353" y="555" />\n        <di:waypoint x="353" y="663" />\n        <di:waypoint x="464" y="663" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-634" bpmnElement="_6-634">\n        <di:waypoint x="548" y="663" />\n        <di:waypoint x="603" y="663" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-125" bpmnElement="_6-125">\n        <di:waypoint x="96" y="111" />\n        <di:waypoint x="114" y="111" />\n        <di:waypoint x="145" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-430" bpmnElement="_6-430">\n        <di:waypoint x="600" y="200" />\n        <di:waypoint x="618" y="200" />\n        <di:waypoint x="618" y="252" />\n        <di:waypoint x="576" y="252" />\n        <di:waypoint x="549" y="252" />\n        <di:waypoint x="360" y="252" />\n        <di:waypoint x="360" y="111" />\n        <di:waypoint x="378" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-642" bpmnElement="_6-642">\n        <di:waypoint x="545" y="234" />\n        <di:waypoint x="545" y="324" />\n        <di:waypoint x="234" y="324" />\n        <di:waypoint x="234" y="404" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-424" bpmnElement="_6-424">\n        <di:waypoint x="399" y="132" />\n        <di:waypoint x="399" y="200" />\n        <di:waypoint x="448" y="200" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-638" bpmnElement="_6-638">\n        <di:waypoint x="306" y="145" />\n        <di:waypoint x="306" y="252" />\n        <di:waypoint x="94" y="252" />\n        <di:waypoint x="94" y="405" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-426" bpmnElement="_6-426">\n        <di:waypoint x="480" y="200" />\n        <di:waypoint x="498" y="200" />\n        <di:waypoint x="517" y="200" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-693" bpmnElement="_6-693">\n        <di:waypoint x="161" y="441" />\n        <di:waypoint x="161" y="556" />\n        <di:waypoint x="252" y="555" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-178" bpmnElement="_6-178">\n        <di:waypoint x="228" y="111" />\n        <di:waypoint x="265" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-746" bpmnElement="_6-746">\n        <di:waypoint x="370" y="420" />\n        <di:waypoint x="386" y="420" />\n        <di:waypoint x="386" y="474" />\n        <di:waypoint x="191" y="474" />\n        <di:waypoint x="191" y="420" />\n        <di:waypoint x="218" y="420" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id="Trisotech.Visio__6__6-434" bpmnElement="_6-434">\n        <di:waypoint x="810" y="111" />\n        <di:waypoint x="834" y="111" />\n        <bpmndi:BPMNLabel />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</semantic:definitions>\n    ')),new qn("ditaa","Ditaa Drawing",zn("\n      +--------+\n      |        |\n      |  User  |\n      |        |\n      +--------+\n          ^\n  request |\n          v\n  +-------------+\n  |             |\n  |    Kroki    |\n  |             |---+\n  +-------------+   |\n       ^  ^         | inflate\n       |  |         |\n       v  +---------+\n  +-------------+\n  |             |\n  |    Ditaa    |\n  |             |----+\n  +-------------+    |\n             ^       | process\n             |       |\n             +-------+\n    ")),new qn("svgbob","Svgbob Diagram",zn("\n                  .-,(  ),-.\n   ___  _      .-(          )-.\n  [___]|=| --\x3e(                )      __________\n  /::/ |_|     '-(          ).-' ---\x3e[_...__... ]\n                  '-.( ).-'\n                          \\      ____   __\n                           '---\x3e|    | |==|\n                                |____| |  |\n                                /::::/ |__|")),new qn("pikchr","Pikchr Diagram",zn('\n    $r = 0.2in\n    linerad = 0.75*$r\n    linewid = 0.25\n    \n    # Start and end blocks\n    #\n    box "element" bold fit\n    line down 50% from last box.sw\n    dot rad 250% color black\n    X0: last.e + (0.3,0)\n    arrow from last dot to X0\n    move right 3.9in\n    box wid 5% ht 25% fill black\n    X9: last.w - (0.3,0)\n    arrow from X9 to last box.w\n    \n    \n    # The main rule that goes straight through from start to finish\n    #\n    box "object-definition" italic fit at 11/16 way between X0 and X9\n    arrow to X9\n    arrow from X0 to last box.w\n    \n    # The LABEL: rule\n    #\n    arrow right $r from X0 then down 1.25*$r then right $r\n    oval " LABEL " fit\n    arrow 50%\n    oval "\\":\\"" fit\n    arrow 200%\n    box "position" italic fit\n    arrow\n    line right until even with X9 - ($r,0) \\\n      then up until even with X9 then to X9\n    arrow from last oval.e right $r*0.5 then up $r*0.8 right $r*0.8\n    line up $r*0.45 right $r*0.45 then right\n    \n    # The VARIABLE = rule\n    #\n    arrow right $r from X0 then down 2.5*$r then right $r\n    oval " VARIABLE " fit\n    arrow 70%\n    box "assignment-operator" italic fit\n    arrow 70%\n    box "expr" italic fit\n    line right until even with X9 - ($r,0) \\\n      then up until even with X9 then to X9\n    \n    # The PRINT rule\n    #\n    arrow right $r from X0 then down 3.75*$r then right $r\n    oval "\\"print\\"" fit\n    arrow\n    box "print-args" italic fit\n    line right until even with X9 - ($r,0) \\\n      then up until even with X9 then to X9')),new qn("rackdiag","RackDiag Diagram",zn("\n    rackdiag {\n      16U;\n      1: UPS [2U];\n      3: DB Server;\n      4: Web Server;\n      5: Web Server;\n      6: Web Server;\n      7: Load Balancer;\n      8: L3 Switch;\n    }")),new qn("structurizr","Structurizr Diagram",zn('\n     workspace {\n        model { \n            user = person "User" \n            softwareSystem = softwareSystem "Software System" { \n                webapp = container "Web Application" { \n                    user -> this "Uses!!!" \n                } \n                database = container "Database" { \n                    webapp -> this "Reads from and writes to" \n                } \n            } \n        } \n        views { \n            systemContext softwareSystem { \n                include * \n                autolayout lr \n            } \n            container softwareSystem { \n                include * \n                autolayout lr \n            } \n            theme default \n        } \n    }')),new qn("vega","Vega Diagram",zn('\n    {\n      "$schema": "https://vega.github.io/schema/vega/v5.json",\n      "width": 400,\n      "height": 200,\n      "padding": 5,\n    \n      "data": [\n        {\n          "name": "table",\n          "values": [\n            {"category": "A", "amount": 28},\n            {"category": "B", "amount": 55},\n            {"category": "C", "amount": 43},\n            {"category": "D", "amount": 91},\n            {"category": "E", "amount": 81},\n            {"category": "F", "amount": 53},\n            {"category": "G", "amount": 19},\n            {"category": "H", "amount": 87}\n          ]\n        }\n      ],\n    \n      "signals": [\n        {\n          "name": "tooltip",\n          "value": {},\n          "on": [\n            {"events": "rect:mouseover", "update": "datum"},\n            {"events": "rect:mouseout",  "update": "{}"}\n          ]\n        }\n      ],\n    \n      "scales": [\n        {\n          "name": "xscale",\n          "type": "band",\n          "domain": {"data": "table", "field": "category"},\n          "range": "width",\n          "padding": 0.05,\n          "round": true\n        },\n        {\n          "name": "yscale",\n          "domain": {"data": "table", "field": "amount"},\n          "nice": true,\n          "range": "height"\n        }\n      ],\n    \n      "axes": [\n        { "orient": "bottom", "scale": "xscale" },\n        { "orient": "left", "scale": "yscale" }\n      ],\n    \n      "marks": [\n        {\n          "type": "rect",\n          "from": {"data":"table"},\n          "encode": {\n            "enter": {\n              "x": {"scale": "xscale", "field": "category"},\n              "width": {"scale": "xscale", "band": 1},\n              "y": {"scale": "yscale", "field": "amount"},\n              "y2": {"scale": "yscale", "value": 0}\n            },\n            "update": {\n              "fill": {"value": "steelblue"}\n            },\n            "hover": {\n              "fill": {"value": "red"}\n            }\n          }\n        },\n        {\n          "type": "text",\n          "encode": {\n            "enter": {\n              "align": {"value": "center"},\n              "baseline": {"value": "bottom"},\n              "fill": {"value": "#333"}\n            },\n            "update": {\n              "x": {"scale": "xscale", "signal": "tooltip.category", "band": 0.5},\n              "y": {"scale": "yscale", "signal": "tooltip.amount", "offset": -2},\n              "text": {"signal": "tooltip.amount"},\n              "fillOpacity": [\n                {"test": "datum === tooltip", "value": 0},\n                {"value": 1}\n              ]\n            }\n          }\n        }\n      ]\n    }')),new qn("vegalite","Vega-Lite Diagram",zn('\n    {\n      "$schema": "https://vega.github.io/schema/vega-lite/v4.json",\n      "description": "Horizontally concatenated charts that show different types of discretizing scales.",\n      "data": {\n        "values": [\n          {"a": "A", "b": 28},\n          {"a": "B", "b": 55},\n          {"a": "C", "b": 43},\n          {"a": "D", "b": 91},\n          {"a": "E", "b": 81},\n          {"a": "F", "b": 53},\n          {"a": "G", "b": 19},\n          {"a": "H", "b": 87},\n          {"a": "I", "b": 52}\n        ]\n      },\n      "hconcat": [\n        {\n          "mark": "circle",\n          "encoding": {\n            "y": {\n              "field": "b",\n              "type": "nominal",\n              "sort": null,\n              "axis": {\n                "ticks": false,\n                "domain": false,\n                "title": null\n              }\n            },\n            "size": {\n              "field": "b",\n              "type": "quantitative",\n              "scale": {\n                "type": "quantize"\n              }\n            },\n            "color": {\n              "field": "b",\n              "type": "quantitative",\n              "scale": {\n                "type": "quantize",\n                "zero": true\n              },\n              "legend": {\n                "title": "Quantize"\n              }\n            }\n          }\n        },\n        {\n          "mark": "circle",\n          "encoding": {\n            "y": {\n              "field": "b",\n              "type": "nominal",\n              "sort": null,\n              "axis": {\n                "ticks": false,\n                "domain": false,\n                "title": null\n              }\n            },\n            "size": {\n              "field": "b",\n              "type": "quantitative",\n              "scale": {\n                "type": "quantile",\n                "range": [80, 160, 240, 320, 400]\n              }\n            },\n            "color": {\n              "field": "b",\n              "type": "quantitative",\n              "scale": {\n                "type": "quantile",\n                "scheme": "magma"\n              },\n              "legend": {\n                "format": "d",\n                "title": "Quantile"\n              }\n            }\n          }\n        },\n        {\n          "mark": "circle",\n          "encoding": {\n            "y": {\n              "field": "b",\n              "type": "nominal",\n              "sort": null,\n              "axis": {\n                "ticks": false,\n                "domain": false,\n                "title": null\n              }\n            },\n            "size": {\n              "field": "b",\n              "type": "quantitative",\n              "scale": {\n                "type": "threshold",\n                "domain": [30, 70],\n                "range": [80, 200, 320]\n              }\n            },\n            "color": {\n              "field": "b",\n              "type": "quantitative",\n              "scale": {\n                "type": "threshold",\n                "domain": [30, 70],\n                "scheme": "viridis"\n              },\n              "legend": {\n                "title": "Threshold"\n              }\n            }\n          }\n        }\n      ],\n      "resolve": {\n        "scale": {\n          "color": "independent",\n          "size": "independent"\n        }\n      }\n    }')),new qn("bytefield","Bytefield Illustration",zn('\n    (defattrs :bg-green {:fill "#a0ffa0"})\n    (defattrs :bg-yellow {:fill "#ffffa0"})\n    (defattrs :bg-pink {:fill "#ffb0a0"})\n    (defattrs :bg-cyan {:fill "#a0fafa"})\n    (defattrs :bg-purple {:fill "#e4b5f7"})\n\n    (defn draw-group-label-header\n      [span label]\n      (draw-box (text label [:math {:font-size 12}]) {:span span :borders #{} :height 14}))\n\n    (defn draw-remotedb-header\n      [kind args]\n      (draw-column-headers)\n      (draw-group-label-header 5 "start")\n      (draw-group-label-header 5 "TxID")\n      (draw-group-label-header 3 "type")\n      (draw-group-label-header 2 "args")\n      (draw-group-label-header 1 "tags")\n      (next-row 18)\n\n      (draw-box 0x11 :bg-green)\n      (draw-box 0x872349ae [{:span 4} :bg-green])\n      (draw-box 0x11 :bg-yellow)\n      (draw-box (text "TxID" :math) [{:span 4} :bg-yellow])\n      (draw-box 0x10 :bg-pink)\n      (draw-box (hex-text kind 4 :bold) [{:span 2} :bg-pink])\n      (draw-box 0x0f :bg-cyan)\n      (draw-box (hex-text args 2 :bold) :bg-cyan)\n      (draw-box 0x14 :bg-purple)\n\n      (draw-box (text "0000000c" :hex [[:plain {:font-weight "light" :font-size 16}] " (12)"]) [{:span 4} :bg-purple])\n      (draw-box (hex-text 6 2 :bold) [:box-first :bg-purple])\n      (doseq [val [6 6 3 6 6 6 6 3]]\n        (draw-box (hex-text val 2 :bold) [:box-related :bg-purple]))\n      (doseq [val [0 0]]\n        (draw-box val [:box-related :bg-purple]))\n      (draw-box 0 [:box-last :bg-purple]))\n\n    (draw-remotedb-header 0x4702 9)\n\n    (draw-box 0x11)\n    (draw-box 0x2104 {:span 4})\n    (draw-box 0x11)\n    (draw-box 0 {:span 4})\n    (draw-box 0x11)\n    (draw-box (text "length" [:math] [:sub 1]) {:span 4})\n    (draw-box 0x14)\n\n    (draw-box (text "length" [:math] [:sub 1]) {:span 4})\n    (draw-gap "Cue and loop point bytes")\n\n    (draw-box nil :box-below)\n    (draw-box 0x11)\n    (draw-box 0x36 {:span 4})\n    (draw-box 0x11)\n    (draw-box (text "num" [:math] [:sub "hot"]) {:span 4})\n    (draw-box 0x11)\n    (draw-box (text "num" [:math] [:sub "cue"]) {:span 4})\n\n    (draw-box 0x11)\n    (draw-box (text "length" [:math] [:sub 2]) {:span 4})\n    (draw-box 0x14)\n    (draw-box (text "length" [:math] [:sub 2]) {:span 4})\n    (draw-gap "Unknown bytes" {:min-label-columns 6})\n    (draw-bottom)\n')),new qn("packetdiag","PacketDiag Diagram",zn("\n    packetdiag {\n      colwidth = 32;\n      node_height = 72;\n    \n      0-15: Source Port;\n      16-31: Destination Port;\n      32-63: Sequence Number;\n      64-95: Acknowledgment Number;\n      96-99: Data Offset;\n      100-105: Reserved;\n      106: URG [rotate = 270];\n      107: ACK [rotate = 270];\n      108: PSH [rotate = 270];\n      109: RST [rotate = 270];\n      110: SYN [rotate = 270];\n      111: FIN [rotate = 270];\n      112-127: Window;\n      128-143: Checksum;\n      144-159: Urgent Pointer;\n      160-191: (Options and Padding);\n      192-223: data [colheight = 3];\n    }\n")),new qn("excalidraw","Excalidraw Diagram",zn('\n{\n  "type": "excalidraw",\n  "version": 2,\n  "source": "https://excalidraw.com",\n  "elements": [\n    {\n      "type": "rectangle",\n      "version": 175,\n      "versionNonce": 279344008,\n      "isDeleted": false,\n      "id": "2ZYh24ed28FJ0yE-S3YNY",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 580,\n      "y": 140,\n      "strokeColor": "#000000",\n      "backgroundColor": "#15aabf",\n      "width": 80,\n      "height": 19.999999999999996,\n      "seed": 521916552,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "Be1y2yzhV3Zd4nwCro__8"\n      ]\n    },\n    {\n      "type": "rectangle",\n      "version": 180,\n      "versionNonce": 164784376,\n      "isDeleted": false,\n      "id": "bO0OVt6m7LowYpq22ePCA",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 660,\n      "y": 140,\n      "strokeColor": "#000000",\n      "backgroundColor": "#4c6ef5",\n      "width": 120,\n      "height": 19.999999999999996,\n      "seed": 1303206904,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "KaCO9-QjUenSyCuuanoTo"\n      ]\n    },\n    {\n      "type": "rectangle",\n      "version": 183,\n      "versionNonce": 27181704,\n      "isDeleted": false,\n      "id": "jz0Huq9-s6pNxDw0RqHcR",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 780,\n      "y": 140,\n      "strokeColor": "#000000",\n      "backgroundColor": "#fab005",\n      "width": 180,\n      "height": 19.999999999999996,\n      "seed": 861962120,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "74ifmqmu0vN0NK0_0FwPm"\n      ]\n    },\n    {\n      "type": "rectangle",\n      "version": 192,\n      "versionNonce": 2123008504,\n      "isDeleted": false,\n      "id": "UnmNTmwJtm6moubcGtSgB",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 960,\n      "y": 140,\n      "strokeColor": "#000000",\n      "backgroundColor": "#fa5252",\n      "width": 80,\n      "height": 19.999999999999996,\n      "seed": 277814520,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "1v60NED2criGG-wo9-oQL"\n      ]\n    },\n    {\n      "type": "rectangle",\n      "version": 202,\n      "versionNonce": 1823814024,\n      "isDeleted": false,\n      "id": "of76J4WOJHnHi0L61Vst_",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 1040,\n      "y": 140,\n      "strokeColor": "#000000",\n      "backgroundColor": "#be4bdb",\n      "width": 180,\n      "height": 19.999999999999996,\n      "seed": 1496796808,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "jjuPzyRneMv3f65lps_6a"\n      ]\n    },\n    {\n      "type": "rectangle",\n      "version": 193,\n      "versionNonce": 1234602744,\n      "isDeleted": false,\n      "id": "SlvbjeV-9lXbcrlKib-hj",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 1220,\n      "y": 140,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 60,\n      "height": 19.999999999999996,\n      "seed": 1938865656,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "5QQzhw_uqk_rBaW2wMriT"\n      ]\n    },\n    {\n      "type": "text",\n      "version": 81,\n      "versionNonce": 1188901129,\n      "isDeleted": false,\n      "id": "vrdt3JfbD2Xwz4K4TWScI",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 840,\n      "y": -60,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 190,\n      "height": 45,\n      "seed": 1499217288,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "JavaScript",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    },\n    {\n      "type": "arrow",\n      "version": 343,\n      "versionNonce": 1369065096,\n      "isDeleted": false,\n      "id": "Be1y2yzhV3Zd4nwCro__8",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 597.5075333823274,\n      "y": 299,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 40,\n      "height": 139,\n      "seed": 666255096,\n      "groupIds": [],\n      "strokeSharpness": "round",\n      "boundElementIds": [],\n      "startBinding": {\n        "focus": -0.41953339688473495,\n        "gap": 1,\n        "elementId": "UxgtvUBaIPnDWJZ9kUQH8"\n      },\n      "endBinding": {\n        "focus": -0.11111111111111113,\n        "gap": 1,\n        "elementId": "2ZYh24ed28FJ0yE-S3YNY"\n      },\n      "points": [\n        [\n          0,\n          0\n        ],\n        [\n          -17.507533382327438,\n          -59\n        ],\n        [\n          22.492466617672562,\n          -139\n        ]\n      ],\n      "lastCommittedPoint": null,\n      "startArrowhead": null,\n      "endArrowhead": "arrow"\n    },\n    {\n      "type": "text",\n      "version": 81,\n      "versionNonce": 690339976,\n      "isDeleted": false,\n      "id": "UxgtvUBaIPnDWJZ9kUQH8",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 580,\n      "y": 300,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 94,\n      "height": 45,\n      "seed": 84626568,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "Be1y2yzhV3Zd4nwCro__8"\n      ],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "Fetch",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    },\n    {\n      "type": "rectangle",\n      "version": 60,\n      "versionNonce": 897215480,\n      "isDeleted": false,\n      "id": "-Lq0agjWQ31TR_Av5Z4HW",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 520,\n      "y": -60,\n      "strokeColor": "#000000",\n      "backgroundColor": "transparent",\n      "width": 820,\n      "height": 540,\n      "seed": 495165432,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "jjuPzyRneMv3f65lps_6a"\n      ]\n    },\n    {\n      "type": "arrow",\n      "version": 537,\n      "versionNonce": 1626949112,\n      "isDeleted": false,\n      "id": "KaCO9-QjUenSyCuuanoTo",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 721.0588599991052,\n      "y": 60.17790458606555,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 1.0588599991051524,\n      "height": 79.82209541393445,\n      "seed": 637565832,\n      "groupIds": [],\n      "strokeSharpness": "round",\n      "boundElementIds": [],\n      "startBinding": null,\n      "endBinding": {\n        "focus": 0,\n        "gap": 1,\n        "elementId": "bO0OVt6m7LowYpq22ePCA"\n      },\n      "points": [\n        [\n          0,\n          0\n        ],\n        [\n          -1.0588599991051524,\n          39.82209541393445\n        ],\n        [\n          -1.0588599991051524,\n          79.82209541393445\n        ]\n      ],\n      "lastCommittedPoint": null,\n      "startArrowhead": null,\n      "endArrowhead": "arrow"\n    },\n    {\n      "type": "text",\n      "version": 112,\n      "versionNonce": 358083143,\n      "isDeleted": false,\n      "id": "4hEOdlcwK6AHyVhjc-MXS",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 660,\n      "y": 20,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 103,\n      "height": 45,\n      "seed": 352116984,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "Parse",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    },\n    {\n      "type": "arrow",\n      "version": 534,\n      "versionNonce": 983577992,\n      "isDeleted": false,\n      "id": "74ifmqmu0vN0NK0_0FwPm",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 841.6574209245741,\n      "y": 219,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 43.15128973100309,\n      "height": 59.174989629909305,\n      "seed": 1853344392,\n      "groupIds": [],\n      "strokeSharpness": "round",\n      "boundElementIds": [],\n      "startBinding": {\n        "focus": 0.09211398277003865,\n        "gap": 1,\n        "elementId": "K4so-arfr0JX0NJx8vd7T"\n      },\n      "endBinding": {\n        "focus": -0.2163077865936296,\n        "gap": 1,\n        "elementId": "jz0Huq9-s6pNxDw0RqHcR"\n      },\n      "points": [\n        [\n          0,\n          0\n        ],\n        [\n          -1.6574209245741258,\n          1\n        ],\n        [\n          41.493868806428964,\n          -58.174989629909305\n        ]\n      ],\n      "lastCommittedPoint": null,\n      "startArrowhead": null,\n      "endArrowhead": "arrow"\n    },\n    {\n      "type": "text",\n      "version": 118,\n      "versionNonce": 1185705864,\n      "isDeleted": false,\n      "id": "K4so-arfr0JX0NJx8vd7T",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 640,\n      "y": 220,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 366,\n      "height": 45,\n      "seed": 765854200,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "74ifmqmu0vN0NK0_0FwPm"\n      ],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "Compile and Optimize",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    },\n    {\n      "type": "arrow",\n      "version": 791,\n      "versionNonce": 1724761848,\n      "isDeleted": false,\n      "id": "1v60NED2criGG-wo9-oQL",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 960,\n      "y": 320,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 80,\n      "height": 160,\n      "seed": 1764571528,\n      "groupIds": [],\n      "strokeSharpness": "round",\n      "boundElementIds": [],\n      "startBinding": {\n        "focus": -0.1637630662020906,\n        "gap": 1,\n        "elementId": "dviXudWNxiHYQMZfqHWsH"\n      },\n      "endBinding": {\n        "focus": 0.07692307692307691,\n        "gap": 1,\n        "elementId": "UnmNTmwJtm6moubcGtSgB"\n      },\n      "points": [\n        [\n          0,\n          0\n        ],\n        [\n          80,\n          -40\n        ],\n        [\n          40,\n          -160\n        ]\n      ],\n      "lastCommittedPoint": null,\n      "startArrowhead": null,\n      "endArrowhead": "arrow"\n    },\n    {\n      "type": "text",\n      "version": 194,\n      "versionNonce": 473574648,\n      "isDeleted": false,\n      "id": "dviXudWNxiHYQMZfqHWsH",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 720,\n      "y": 320,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 484,\n      "height": 45,\n      "seed": 1988297464,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "1v60NED2criGG-wo9-oQL"\n      ],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "Re-optimize and Deoptimize",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    },\n    {\n      "type": "arrow",\n      "version": 708,\n      "versionNonce": 185615496,\n      "isDeleted": false,\n      "id": "jjuPzyRneMv3f65lps_6a",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 1140,\n      "y": 80,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 20,\n      "height": 60,\n      "seed": 1767688328,\n      "groupIds": [],\n      "strokeSharpness": "round",\n      "boundElementIds": [],\n      "startBinding": {\n        "focus": -0.3021784319542362,\n        "gap": 14.800415739789742,\n        "elementId": "qhkjvI1VmWZdnKvU5QKZK"\n      },\n      "endBinding": {\n        "focus": 0.15789473684210528,\n        "gap": 1,\n        "elementId": "of76J4WOJHnHi0L61Vst_"\n      },\n      "points": [\n        [\n          0,\n          0\n        ],\n        [\n          -20,\n          20\n        ],\n        [\n          0,\n          60\n        ]\n      ],\n      "lastCommittedPoint": null,\n      "startArrowhead": null,\n      "endArrowhead": "arrow"\n    },\n    {\n      "type": "text",\n      "version": 213,\n      "versionNonce": 2105884296,\n      "isDeleted": false,\n      "id": "qhkjvI1VmWZdnKvU5QKZK",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 1080,\n      "y": 20.19958426021026,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 139,\n      "height": 45,\n      "seed": 2115494904,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "jjuPzyRneMv3f65lps_6a"\n      ],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "Execute",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    },\n    {\n      "type": "arrow",\n      "version": 707,\n      "versionNonce": 543827960,\n      "isDeleted": false,\n      "id": "5QQzhw_uqk_rBaW2wMriT",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 1220,\n      "y": 240,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 20,\n      "height": 80,\n      "seed": 2059564936,\n      "groupIds": [],\n      "strokeSharpness": "round",\n      "boundElementIds": [],\n      "startBinding": {\n        "focus": 0.7391304347826086,\n        "gap": 2,\n        "elementId": "C6fyzTg2FHAmrRYfC_THm"\n      },\n      "endBinding": {\n        "focus": 0.3333333333333333,\n        "gap": 1,\n        "elementId": "SlvbjeV-9lXbcrlKib-hj"\n      },\n      "points": [\n        [\n          0,\n          0\n        ],\n        [\n          20,\n          -40\n        ],\n        [\n          20,\n          -80\n        ]\n      ],\n      "lastCommittedPoint": null,\n      "startArrowhead": null,\n      "endArrowhead": "arrow"\n    },\n    {\n      "type": "text",\n      "version": 227,\n      "versionNonce": 2002374136,\n      "isDeleted": false,\n      "id": "C6fyzTg2FHAmrRYfC_THm",\n      "fillStyle": "hachure",\n      "strokeWidth": 1,\n      "strokeStyle": "solid",\n      "roughness": 1,\n      "opacity": 100,\n      "angle": 0,\n      "x": 1160,\n      "y": 220,\n      "strokeColor": "#000000",\n      "backgroundColor": "#868e96",\n      "width": 58,\n      "height": 45,\n      "seed": 1651025144,\n      "groupIds": [],\n      "strokeSharpness": "sharp",\n      "boundElementIds": [\n        "5QQzhw_uqk_rBaW2wMriT"\n      ],\n      "fontSize": 36,\n      "fontFamily": 1,\n      "text": "GC",\n      "baseline": 32,\n      "textAlign": "left",\n      "verticalAlign": "top"\n    }\n  ],\n  "appState": {\n    "viewBackgroundColor": "#ffffff",\n    "gridSize": 20\n  }\n}')),new qn("umlet","UMLet Diagram",zn('\n    <diagram program="umletino" version="15.0.0">\n        <zoom_level>10</zoom_level>\n        <element>\n            <id>UMLClass</id>\n            <coordinates>\n                <x>90</x>\n                <y>80</y>\n                <w>100</w>\n                <h>30</h>\n            </coordinates>\n            <panel_attributes>Class A</panel_attributes>\n            <additional_attributes></additional_attributes>\n        </element>\n        <element>\n            <id>UMLClass</id>\n            <coordinates>\n                <x>90</x>\n                <y>160</y>\n                <w>100</w>\n                <h>30</h>\n            </coordinates>\n            <panel_attributes>Class B</panel_attributes>\n            <additional_attributes></additional_attributes>\n        </element>\n        <element>\n            <id>Relation</id>\n            <coordinates>\n                <x>130</x>\n                <y>100</y>\n                <w>30</w>\n                <h>80</h>\n            </coordinates>\n            <panel_attributes>lt=&lt;&lt;-</panel_attributes>\n            <additional_attributes>10;10;10;60</additional_attributes>\n        </element>\n    </diagram>'))];const Hn="code_diagram",Zn="dac-container-",Wn="dac-container",Vn="dac-title",Gn="dac-caption",Jn="dac-content";async function Kn(){const e=await logseq.Editor.checkEditing();if("string"==typeof e){let t=await logseq.Editor.getBlock(e);f(t)||(t=await logseq.Editor.getBlock(t.parent.id),f(t)&&(await logseq.Editor.editBlock(t.uuid),await logseq.Editor.exitEditingMode()))}}async function Xn(e,t){const n=`{{renderer ${Hn},${e}}}`;await logseq.Editor.insertAtEditingCursor(n);const i=await logseq.Editor.getCurrentBlock(),a=`\`\`\`${e}\n${t}\n\`\`\``;u.inlineCodeBlock?await logseq.Editor.insertAtEditingCursor("\n"+a):await logseq.Editor.insertBlock(i.uuid,a,{sibling:!1,before:!1})}logseq.ready((function(){for(const e of Un){let t=$n.filter((t=>t.rendererType===e.type));0==t.length&&(t=[new qn(e.type,`${e.type} (empty)`,"")]);for(const n of t){(!u.commandsRenderers||u.commandsRenderers.indexOf(e.type)>=0)&&logseq.Editor.registerSlashCommand(`Create ${n.templateName}`,(async()=>Xn(e.type,await n.load())))}}logseq.App.onMacroRendererSlotted((async({slot:e,payload:t})=>{const[n,i,a]=t.arguments;if(n!==Hn)return;const r=Un.find((e=>e.type===i));if(!r)return void console.error(`Renderer not found: ${i}`);const s=function(e){const t={};if(e)for(const n of e.split("&")){const[e,i]=n.split("=").map((e=>e.trim())),a=e.split(".");if(1==a.length)t[e]=i;else{let e=t;for(let t=0;t<a.length;t++){const n=a[t];t==a.length-1?e[n]=i:(e[n]||(e[n]={}),e=e[n])}}}return t}(a);await async function(e,t,n,i){const{caption:a,captionStyle:r,captionTag:s,containerStyle:o,contentStyle:l,title:c,titleStyle:d,titleTag:u}=(m=i,{title:m.title||"",titleTag:m.titleTag||"h4",titleStyle:m.titleStyle||"",caption:m.caption||"",captionTag:m.captionTag||"h6",captionStyle:m.captionStyle||"",contentStyle:m.contentStyle||"",containerStyle:m.containerStyle||""});var m;i.kroki&&"object"==typeof i.kroki&&i.kroki.diagram&&(n instanceof h&&(n=n.original),n instanceof On&&(n=n.withDiagramOptions(i.kroki.diagram)));const f=await p(t),g=await n.render(f),_=`${Zn}${t}`,b=c?`\n        <${u} class="${Vn} ${Vn}-${n.type}" style="${d}">\n            ${c}\n        </${u}>`:"",y=a?`\n        <${s} class="${Gn} ${Gn}-${n.type}" style="${r}">\n            ${a}\n        </${s}>`:"",w=`\n    <div \n        class="${Wn} ${Wn}-${n.type}"\n        id="${_}" \n        style="${o+";white-space: normal; min-width: 150px; min-height: 20px; text-align: center"}"\n        data-on-click="handleDiagramClick">\n         ${b}\n         <div class="${Jn} ${Jn}-${n.type}" style="${l}">\n            ${g}\n         </div>\n         ${y}\n    </div>`;logseq.provideUI({key:_,slot:e,reset:!0,template:w})}(e,t.uuid,r,s)})),logseq.provideModel({handleDiagramClick:Kn})})).catch(console.error);